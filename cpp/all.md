# –ü—Ä–∏–¥—É–º–∞–π –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è c++

–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–∞—è **–ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++**, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è –Ω–∞ –Ω–æ–≤–∏—á–∫–æ–≤ –∏ —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è. –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ **8‚Äì12 –Ω–µ–¥–µ–ª—å** –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ 4‚Äì6 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç–µ–º–ø—ã.

---

## üìö **–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏–∑—É—á–µ–Ω–∏—è C++ (8‚Äì12 –Ω–µ–¥–µ–ª—å)**

### ‚úÖ **–¶–µ–ª—å:**
–ù–∞—É—á–∏—Ç—å—Å—è —É–≤–µ—Ä–µ–Ω–Ω–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ C++, –ø–æ–Ω–∏–º–∞—Ç—å –æ—Å–Ω–æ–≤—ã —è–∑—ã–∫–∞, –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞–±–æ—Ç—É —Å –ø–∞–º—è—Ç—å—é, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (STL), –∏ –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö –∏–ª–∏ –∫ —É—á–∞—Å—Ç–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö.

---

## üóÇÔ∏è **–ù–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω**

---

### **–ù–µ–¥–µ–ª—è 1: –í–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—Å–Ω–æ–≤—ã C++**

**–¢–µ–º—ã:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ä–µ–¥—ã (IDE: Visual Studio, Code::Blocks, CLion, –∏–ª–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä g++/clang)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ C++ (`#include`, `main()`, `return 0`)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (`int`, `double`, `char`, `bool`)
- –í–≤–æ–¥/–≤—ã–≤–æ–¥ (`cin`, `cout`)
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (`if`, `else`, `switch`)
- –¶–∏–∫–ª—ã (`for`, `while`, `do-while`)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ù–∞–ø–∏—Å–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (—Å–ª–æ–∂–µ–Ω–∏–µ, –≤—ã—á–∏—Ç–∞–Ω–∏–µ –∏ —Ç.–¥.)
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"
- –í—ã–≤–æ–¥ —Ç–∞–±–ª–∏—Ü—ã —É–º–Ω–æ–∂–µ–Ω–∏—è

---

### **–ù–µ–¥–µ–ª—è 2: –§—É–Ω–∫—Ü–∏–∏ –∏ –º–∞—Å—Å–∏–≤—ã**

**–¢–µ–º—ã:**
- –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ú–∞—Å—Å–∏–≤—ã (–æ–¥–Ω–æ–º–µ—Ä–Ω—ã–µ)
- –°—Ç—Ä–æ–∫–∏ (`char[]`, `std::string`)
- –ü–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –º–∞–∫—Å–∏–º—É–º–∞ –≤ –º–∞—Å—Å–∏–≤–µ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º
- –ü–æ–¥—Å—á—ë—Ç –≥–ª–∞—Å–Ω—ã—Ö –≤ —Å—Ç—Ä–æ–∫–µ

---

### **–ù–µ–¥–µ–ª—è 3: –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ —Å—Å—ã–ª–∫–∏**

**–¢–µ–º—ã:**
- –ß—Ç–æ —Ç–∞–∫–æ–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`*`, `&`)
- –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –°—Å—ã–ª–∫–∏ (`&` –∫–∞–∫ —Å—Å—ã–ª–∫–∞)
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –ø–æ —Å—Å—ã–ª–∫–µ, –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é
- –£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (–±–∞–∑–æ–≤–æ)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –§—É–Ω–∫—Ü–∏—è, –º–µ–Ω—è—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª–∏
- –û–±—Ö–æ–¥ –º–∞—Å—Å–∏–≤–∞ —Å –ø–æ–º–æ—â—å—é —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `swap`

---

### **–ù–µ–¥–µ–ª—è 4: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å –∏ —Å—Ç—Ä–æ–∫–∏**

**–¢–µ–º—ã:**
- `new` –∏ `delete`
- –û–¥–Ω–æ–º–µ—Ä–Ω—ã–µ –∏ –¥–≤—É–º–µ—Ä–Ω—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–≥–∞—Ç—å
- –†–∞–±–æ—Ç–∞ —Å `std::string` (–º–µ—Ç–æ–¥—ã: `substr`, `find`, `append` –∏ –¥—Ä.)
- –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ (`stringstream`)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- –ü–æ–¥—Å—á—ë—Ç —Å–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ
- –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `stringstream`

---

### **–ù–µ–¥–µ–ª—è 5: –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –û–û–ü ‚Äî —á–∞—Å—Ç—å 1**

**–¢–µ–º—ã:**
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã (`struct`)
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Person` —Å –∏–º–µ–Ω–µ–º, –≤–æ–∑—Ä–∞—Å—Ç–æ–º)
- –ö–ª–∞—Å—Å—ã (`class`)
- –ü–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã
- –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è (`public`, `private`)
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ö–ª–∞—Å—Å `Rectangle` —Å –º–µ—Ç–æ–¥–∞–º–∏ `area()`, `perimeter()`
- –ö–ª–∞—Å—Å `Student` —Å –ø–æ–ª—è–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏ –≤—ã–≤–æ–¥–∞
- –ö–ª–∞—Å—Å `BankAccount` —Å –¥–µ–ø–æ–∑–∏—Ç–æ–º –∏ —Å–Ω—è—Ç–∏–µ–º

---

### **–ù–µ–¥–µ–ª—è 6: –û–û–ü ‚Äî —á–∞—Å—Ç—å 2**

**–¢–µ–º—ã:**
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, `virtual`, `override`)
- –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ò–µ—Ä–∞—Ä—Ö–∏—è —Ñ–∏–≥—É—Ä: `Shape` ‚Üí `Circle`, `Rectangle`
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `draw()`
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –∏–≥—Ä—ã: `Animal` ‚Üí `Dog`, `Cat`

---

### **–ù–µ–¥–µ–ª—è 7: STL ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**

**–¢–µ–º—ã:**
- `std::vector`, `std::array`, `std::list`
- `std::map`, `std::set`, `std::unordered_map`
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã
- –ê–ª–≥–æ—Ä–∏—Ç–º—ã: `sort`, `find`, `reverse`, `transform`
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (`fstream`)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –ü–æ–¥—Å—á—ë—Ç —á–∞—Å—Ç–æ—Ç—ã —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
- –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `map`

---

### **–ù–µ–¥–µ–ª—è 8: –ò—Å–∫–ª—é—á–µ–Ω–∏—è, —à–∞–±–ª–æ–Ω—ã, –∏ –∏—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**

**–¢–µ–º—ã:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try`, `catch`, `throw`
- –®–∞–±–ª–æ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤
- –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`std::unique_ptr`, `std::shared_ptr`) ‚Äî –∫—Ä–∞—Ç–∫–æ
- –õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è (–±–∞–∑–æ–≤–æ)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –®–∞–±–ª–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `max<T>()`
- –ö–ª–∞—Å—Å `SafeArray` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—ã—Ö–æ–¥–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
- –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: **–¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞** –∏–ª–∏ **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥**

---

## üéØ **–ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–Ω–∞ –≤—ã–±–æ—Ä):**

1. **–¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞**  
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤  
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª  
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤, STL, —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

2. **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –∏—Å—Ç–æ—Ä–∏–µ–π**  
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π +, -, *, /  
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π  
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏

3. **–ü—Ä–æ—Å—Ç–∞—è –∏–≥—Ä–∞: "–ë—ã–∫–∏ –∏ –∫–æ—Ä–æ–≤—ã"**  
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∏—Å–ª–∞, –ø–æ–¥—Å—á—ë—Ç –±—ã–∫–æ–≤ –∏ –∫–æ—Ä–æ–≤  
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

---

## üìö **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**

- **–ö–Ω–∏–≥–∏:**
  - *¬´–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C++. –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å¬ª* ‚Äî –°—Ç—Ä–∞—É—Å—Ç—Ä—É–ø
  - *¬´C++ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö¬ª* ‚Äî –õ–∞—Ñ–æ—Ä–µ
  - *¬´–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++¬ª* ‚Äî –°–∫–æ—Ç—Ç –ú–∞–π–µ—Ä—Å (–¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

- **–û–Ω–ª–∞–π–Ω:**
  - [learncpp.com](https://www.learncpp.com) ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫—É—Ä—Å
  - [cppreference.com](https://en.cppreference.com) ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
  - [Codeforces](https://codeforces.com), [LeetCode](https://leetcode.com) ‚Äî –∑–∞–¥–∞—á–∏ –Ω–∞ C++

- **–í–∏–¥–µ–æ:**
  - –ö—É—Ä—Å—ã –Ω–∞ YouTube (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç `The Cherno`, `CodeBeauty`, `freeCodeCamp`)

---

## üí° **–°–æ–≤–µ—Ç—ã:**

- –ü–∏—à–∏—Ç–µ –∫–æ–¥ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.
- –ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ ‚Äî –ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏.
- –û—Ç–ª–∞–∂–∏–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏, —á–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::` –≤–º–µ—Å—Ç–æ `using namespace std;` (–ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞).
- –ò–∑—É—á–∞–π—Ç–µ C++17/C++20, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å –î–ó**, **—Ç–µ—Å—Ç—ã –ø–æ —Ç–µ–º–∞–º** –∏–ª–∏ **–ø–æ–¥–±–æ—Ä–∫—É –∑–∞–¥–∞—á**.


# –ø—Ä–∏–¥—É–º–∞–π –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è

–û—Ç–ª–∏—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏–∑—É—á–µ–Ω–∏—è C++ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è**, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É–∂–µ –∑–Ω–∞–∫–æ–º—ã—Ö —Å –æ—Å–Ω–æ–≤–∞–º–∏ —è–∑—ã–∫–∞, –û–û–ü –∏ STL. –¶–µ–ª—å –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –≤—ã–π—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ C++ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**, —Å–ø–æ—Å–æ–±–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –∫–æ–¥–æ–º, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ (C++17/20/23), –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω—ã, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –∏ –ø–æ–Ω–∏–º–∞—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã.

---

## üöÄ **–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ C++ (—É—Ä–æ–≤–µ–Ω—å: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)**  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 10‚Äì14 –Ω–µ–¥–µ–ª—å  
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è:** 6‚Äì8 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é  
**–¶–µ–ª—å:** –û—Å–≤–æ–∏—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++, –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## üìÖ **–ù–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω**

---

### **–ù–µ–¥–µ–ª—è 1: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (C++17 / C++20 / C++23)**

**–¢–µ–º—ã:**
- `auto`, `decltype`, `constexpr`, `if constexpr`
- –î–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: `std::string_view`, `std::span`
- Structured bindings (`auto [x, y] = point;`)
- `std::optional`, `std::variant`, `std::any`
- `std::filesystem` (C++17)
- –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20) ‚Äî –≤–≤–µ–¥–µ–Ω–∏–µ

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `std::string_view`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::variant` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å `if constexpr` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤

---

### **–ù–µ–¥–µ–ª—è 2: –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ RAII**

**–¢–µ–º—ã:**
- `std::unique_ptr`, `std::shared_ptr`, `std::weak_ptr`
- –ü—Ä–∞–≤–∏–ª–æ "0, 3, 5" (Rule of Zero/Three/Five)
- RAII (Resource Acquisition Is Initialization)
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –∞–Ω–∞–ª–∏–∑ —Å –ø–æ–º–æ—â—å—é Valgrind / AddressSanitizer

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ó–∞–º–µ–Ω–∏—Ç—å `new/delete` –Ω–∞ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é
- –ù–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —É—Ç–µ—á–∫–∏ –≤ "–∏—Å–ø–æ—Ä—á–µ–Ω–Ω–æ–º" –∫–æ–¥–µ

---

### **–ù–µ–¥–µ–ª—è 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–¢–µ–º—ã:**
- –®–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã
- –ß–∞—Å—Ç–∏—á–Ω–∞—è –∏ –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- SFINAE (`std::enable_if`)
- Variadic templates
- –í–≤–µ–¥–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–Ω–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (TMP)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ù–∞–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π `print_container()`
- –°–¥–µ–ª–∞—Ç—å `Tuple` –Ω–∞ variadic templates
- –§—É–Ω–∫—Ü–∏—è `is_arithmetic_v<T>` —á–µ—Ä–µ–∑ SFINAE

---

### **–ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã –∏ C++20 (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ)**

**–¢–µ–º—ã:**
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤: `template <Integral T>`
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤
- –£–ª—É—á—à–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- `requires`-–≤—ã—Ä–∞–∂–µ–Ω–∏—è
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å SFINAE

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω —Å `std::enable_if` –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—ã
- –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç `SortableContainer`
- –ù–∞–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ç–æ–ª—å–∫–æ —Å `RandomAccessIterator`

---

### **–ù–µ–¥–µ–ª—è 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ**

**–¢–µ–º—ã:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ (input, forward, random access –∏ –¥—Ä.)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã
- –ê–ª–ª–æ–∫–∞—Ç–æ—Ä—ã (`std::allocator`)
- –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã `std::vector`, `std::map`, `std::unordered_map` –≤–Ω—É—Ç—Ä–∏
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã: `std::transform`, `std::accumulate`, `std::partition`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–ø–∏—Å–∫–∞
- –ù–∞–ø–∏—Å–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä —Å –ø–æ–¥—Å—á—ë—Ç–æ–º –≤—ã–¥–µ–ª–µ–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å –ø–æ–º–æ—â—å—é `std::move` –∏ `reserve`

---

### **–ù–µ–¥–µ–ª—è 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**

**–¢–µ–º—ã:**
- `std::thread`, `std::async`, `std::future`
- `std::mutex`, `std::lock_guard`, `std::unique_lock`
- `std::atomic`, `memory_order`
- `std::condition_variable`
- –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Å—É–º–º—ã –º–∞—Å—Å–∏–≤–∞
- –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Å `condition_variable`

---

### **–ù–µ–¥–µ–ª—è 7: –õ—è–º–±–¥—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**

**–¢–µ–º—ã:**
- –õ—è–º–±–¥—ã: –∑–∞—Ö–≤–∞—Ç –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é/—Å—Å—ã–ª–∫–µ, `mutable`
- `std::function`, `std::bind`
- –õ—è–º–±–¥—ã –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö STL
- Generic lambdas (C++14)
- –õ—è–º–±–¥—ã –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å –ª—è–º–±–¥–æ–π –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ª—è–º–±–¥ –≤ `std::vector<std::function<void()>>`
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π

---

### **–ù–µ–¥–µ–ª—è 8: –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ª–∏–Ω–∫–æ–≤–∫–∏**

**–¢–µ–º—ã:**
- –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä ‚Üí –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí –ª–∏–Ω–∫–æ–≤–∫–∞
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ `.h` –∏ `.cpp`
- –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (ODR)
- `inline` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞
- –†–∞–±–æ—Ç–∞ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (`.a`, `.so`, `.dll`)

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –ª–∏–Ω–∫–æ–≤–∫–∏

---

### **–ù–µ–¥–µ–ª—è 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

**–¢–µ–º—ã:**
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (gprof, perf, Valgrind Callgrind)
- `std::move`, RVO, NRVO
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`std::chrono`)
- –ö—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, layout of objects
- PIMPL-–∏–¥–∏–æ–º–∞
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
- –ó–∞–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å `std::chrono`
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å —Å PIMPL

---

### **–ù–µ–¥–µ–ª—è 10‚Äì11: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞**

**–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤:**

#### üîπ **1. –ü—Ä–æ—Å—Ç–æ–π –≤–µ–∫—Ç–æ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–≤ –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å STL
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `push_back`, `emplace_back`, `reserve`, `shrink_to_fit`
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞
- –¢–µ—Å—Ç—ã —á–µ—Ä–µ–∑ Google Test

#### üîπ **2. HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —Å–æ–∫–µ—Ç–∞—Ö (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üîπ **3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–π (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏)**
- –ü–∞—Ä—Å–∏–Ω–≥ –≤—ã—Ä–∞–∂–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `x = 5; y = x + 3`)
- AST (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

#### üîπ **4. Game of Life —Å GUI (—á–µ—Ä–µ–∑ SFML –∏–ª–∏ ncurses)**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ—Ç–∫–∏
- –ü–æ–∫–æ–ª–µ–Ω–∏—è, –ø–∞—É–∑–∞, —à–∞–≥
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

---

### **–ù–µ–¥–µ–ª—è 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI**

**–¢–µ–º—ã:**
- Google Test / Catch2
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ unit-—Ç–µ—Å—Ç–æ–≤
- Mock-–æ–±—ä–µ–∫—Ç—ã (GMock)
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (GitHub Actions)
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: `clang-tidy`, `cppcheck`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è `clang-tidy`

---

### **–ù–µ–¥–µ–ª—è 13‚Äì14: –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

**–¢–µ–º—ã:**
- –°—Ç–∏–ª—å –∫–æ–¥–∞ (Google C++ Style Guide, LLVM)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Doxygen)
- RAII, noexcept, `=default`, `=delete`
- Exception safety (noexcept, RAII)
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- –†–∞–±–æ—Ç–∞ —Å legacy-–∫–æ–¥–æ–º

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ "–≥—Ä—è–∑–Ω–æ–≥–æ" –∫–æ–¥–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ Doxygen
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ exception-safe —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìö **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)**

- **–ö–Ω–∏–≥–∏:**
  - *¬´Effective Modern C++¬ª* ‚Äî –°–∫–æ—Ç—Ç –ú–∞–π–µ—Ä—Å
  - *¬´C++ Concurrency in Action¬ª* ‚Äî Anthony Williams
  - *¬´The C++ Programming Language¬ª* ‚Äî –ë—å—ë—Ä–Ω –°—Ç—Ä–∞—É—Å—Ç—Ä—É–ø
  - *¬´Design Patterns¬ª* ‚Äî –ì–∞–º–º–∞ (GoF)
  - *¬´C++ Templates: The Complete Guide¬ª* ‚Äî Vandevoorde, Josuttis

- **–°–∞–π—Ç—ã:**
  - [cppreference.com](https://en.cppreference.com)
  - [isocpp.org](https://isocpp.org)
  - [Meeting C++](https://meetingcpp.com)

- **–í–∏–¥–µ–æ:**
  - –í—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π: **CppCon**, **C++Now**, **Meeting C++**
  - YouTube: `The Cherno`, `CppCon`, `Jason Turner (C++ Weekly)`

---

## üí° **–°–æ–≤–µ—Ç—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö:**

- –ü–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.
- –ò–∑–±–µ–≥–∞–π—Ç–µ "–º–∞–≥–∏–∏" –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –£—á–∏—Ç–µ—Å—å —á–∏—Ç–∞—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä (—á–µ—Ä–µ–∑ Compiler Explorer ‚Äî godbolt.org).
- –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ open-source –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ GitHub.
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏: C++26 —É–∂–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **–ø–æ–¥–±–æ—Ä–∫—É –∑–∞–¥–∞—á –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**
- –°–æ—Å—Ç–∞–≤–∏—Ç—å **—á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ C++**
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–µ open-source –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–æ–¥–∞**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ø–æ–¥–≥–æ—Ç–æ–≤—å –ø–æ–¥–±–æ—Ä–∫—É –∑–∞–¥–∞—á –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ –∏ —Å–æ—Å—Ç–∞–≤—å —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

–û—Ç–ª–∏—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –∑–∞–¥–∞—á –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è C++ –∏ **—á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ –ø–æ–∑–∏—Ü–∏—é C++ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (middle/senior).

---

# üìö **–ü–æ–¥–±–æ—Ä–∫–∞ –∑–∞–¥–∞—á –ø–æ —Ç–µ–º–∞–º (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π C++)**

---

## üîπ **–ù–µ–¥–µ–ª—è 1: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (C++17/20/23)**

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é `std::string_view`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤.
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `structured bindings`, —á—Ç–æ–±—ã —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å `std::map<std::string, int>` –≤ —Ü–∏–∫–ª–µ.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `safe_divide(a, b)`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é `std::optional<double>`.
4. –°–æ–∑–¥–∞–π—Ç–µ `std::variant<int, std::string, std::vector<int>>` –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ `std::visit`.
5. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é `std::filesystem`.

---

## üîπ **–ù–µ–¥–µ–ª—è 2: –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ RAII**

**–ó–∞–¥–∞—á–∏:**
1. –ó–∞–º–µ–Ω–∏—Ç–µ `new`/`delete` –≤ –∫–ª–∞—Å—Å–µ `Matrix` –Ω–∞ `std::unique_ptr`.
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å `Observer`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `std::weak_ptr`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫.
3. –ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å `ResourceManager`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª) –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à –∫–ª–∞—Å—Å —Å–ª–µ–¥—É–µ—Ç **Rule of Zero** ‚Äî —É–¥–∞–ª–∏—Ç–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
5. –ù–∞–π–¥–∏—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏ –≤ –∫–æ–¥–µ —Å `shared_ptr` (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞).

---

## üîπ **–ù–µ–¥–µ–ª—è 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞–ø–∏—à–∏—Ç–µ —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `max_of(a, b, c, ...)`, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
2. –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å `SafeArray<T, N>`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã.
3. –°–¥–µ–ª–∞–π—Ç–µ `is_pointer_v<T>` —Å –ø–æ–º–æ—â—å—é SFINAE.
4. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `apply_tuple(func, tuple)` ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏–∑ `std::tuple`.
5. –ù–∞–ø–∏—à–∏—Ç–µ `sum_types<1, 2.5, 'c'>` ‚Äî —à–∞–±–ª–æ–Ω, –≤—ã—á–∏—Å–ª—è—é—â–∏–π —Å—É–º–º—É —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ `constexpr`.

---

## üîπ **–ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)**

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ç `Arithmetic`, —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã.
2. –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ `template <typename T> void sort(T& container)` —Å `requires Sortable<T>`.
3. –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ç `Iterator`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –Ω–∞–ª–∏—á–∏–µ `operator*`, `operator++`, `operator!=`.
4. –°–¥–µ–ª–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é —Ç–æ–ª—å–∫–æ `RandomAccessIterator`.
5. –û–±—ä—è—Å–Ω–∏—Ç–µ, —á–µ–º –∫–æ–Ω—Ü–µ–ø—Ç—ã –ª—É—á—à–µ `std::enable_if`.

---

## üîπ **–ù–µ–¥–µ–ª—è 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ**

**–ó–∞–¥–∞—á–∏:**
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (`begin()`, `end()`).
2. –ù–∞–ø–∏—à–∏—Ç–µ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä, –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞—é—â–∏–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `allocate`/`deallocate`.
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ `std::vector<std::string>`: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `reserve()` –∏ `std::move`.
4. –ù–∞–ø–∏—à–∏—Ç–µ `find_if_not` —Å –ø–æ–º–æ—â—å—é `std::not_fn`.
5. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `zip_iterator` –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ –¥–≤—É—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

## üîπ **–ù–µ–¥–µ–ª—è 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞–ø–∏—à–∏—Ç–µ `Thread Pool` —Å –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á.
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `Thread-Safe Queue` —Å `std::mutex` –∏ `std::condition_variable`.
3. –°–æ–∑–¥–∞–π—Ç–µ `Counter` —Å `std::atomic<int>` –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ —Å `mutex`.
4. –ù–∞–ø–∏—à–∏—Ç–µ producer-consumer —Å —Ç—Ä–µ–º—è –ø–æ—Ç–æ–∫–∞–º–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –¥–≤—É–º—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏.
5. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `memory_order_relaxed`, `acquire`, `release`.

---

## üîπ **–ù–µ–¥–µ–ª—è 7: –õ—è–º–±–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**

**–ó–∞–¥–∞—á–∏:**
1. –û—Ç—Å–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `std::vector<std::string>` –ø–æ –¥–ª–∏–Ω–µ —Å –ª—è–º–±–¥–æ–π.
2. –ù–∞–ø–∏—à–∏—Ç–µ `std::function`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª—è–º–±–¥—É —Å –∑–∞—Ö–≤–∞—Ç–æ–º –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
3. –°–æ–∑–¥–∞–π—Ç–µ `EventBus`, –≥–¥–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ ‚Äî –ª—è–º–±–¥—ã.
4. –ù–∞–ø–∏—à–∏—Ç–µ `generic lambda`, –≤—ã—á–∏—Å–ª—è—é—â–∏–π `a + b` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤.
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::bind` –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

---

## üîπ **–ù–µ–¥–µ–ª—è 8: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –ª–∏–Ω–∫–æ–≤–∫–∞**

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `libmath.a` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `add()`.
2. –ù–∞–ø–∏—à–∏—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `.so` –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –µ—ë —á–µ—Ä–µ–∑ `dlopen`.
3. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É ODR –≤ –ø—Ä–æ–µ–∫—Ç–µ —Å –¥–≤—É–º—è `.cpp`, –≤–∫–ª—é—á–∞—é—â–∏–º–∏ –æ–¥–∏–Ω `.h` —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏.
4. –û–±—ä—è—Å–Ω–∏—Ç–µ, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `#pragma once` –∏–ª–∏ `#ifndef`.
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `CMakeLists.txt` –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ç–µ—Å—Ç–∞–º–∏.

---

## üîπ **–ù–µ–¥–µ–ª—è 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

**–ó–∞–¥–∞—á–∏:**
1. –ó–∞–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `std::vector::push_back` —Å `reserve()` –∏ –±–µ–∑.
2. –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ `std::move`.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ PIMPL –¥–ª—è –∫–ª–∞—Å—Å–∞ `Logger`, —Å–∫—Ä—ã–≤—à–∏–π `std::ofstream`.
4. –ù–∞–π–¥–∏—Ç–µ "bottleneck" –≤ –∫–æ–¥–µ —Å –ø–æ–º–æ—â—å—é `std::chrono`.
5. –û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É `std::vector<bool>` ‚Äî –ø–ª–æ—Ö–∞—è –∏–¥–µ—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## üîπ **–ù–µ–¥–µ–ª—è 10‚Äì11: –ü—Ä–æ–µ–∫—Ç—ã (–∑–∞–¥–∞—á–∏)**

**–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ "–°–≤–æ–π –≤–µ–∫—Ç–æ—Ä":**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `emplace_back`, `at`, `size`, `capacity`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã (begin/end)
- –¢–µ—Å—Ç—ã –Ω–∞ `push_back`, `clear`, `resize`

**–î–ª—è HTTP-—Å–µ—Ä–≤–µ—Ä–∞:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ `GET /`
- –û—Ç–¥–∞—á–∞ `index.html`
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å: –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

**–î–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞:**
- –ü–∞—Ä—Å–∏–Ω–≥ `x = 5 + 3`
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- AST —Å `std::variant`

---

## üîπ **–ù–µ–¥–µ–ª—è 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI**

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è `SafeArray` —Å Google Test.
2. –î–æ–±–∞–≤—å—Ç–µ `EXPECT_THROW` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Actions: —Å–±–æ—Ä–∫–∞ + –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤.
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `clang-tidy` –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∑–∞–º–µ—á–∞–Ω–∏—è.
5. –ù–∞–ø–∏—à–∏—Ç–µ mock –¥–ª—è `Database` –≤ —Ç–µ—Å—Ç–∞—Ö.

---

## üîπ **–ù–µ–¥–µ–ª—è 13‚Äì14: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

**–ó–∞–¥–∞—á–∏:**
1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å —Å "–∑–∞–≥—Ä—è–∑–Ω—ë–Ω–Ω—ã–º" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (–º–Ω–æ–≥–æ `public` –ø–æ–ª–µ–π).
2. –î–æ–±–∞–≤—å—Ç–µ Doxygen-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –º–µ—Ç–æ–¥–∞–º.
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–ª–∞—Å—Å `noexcept move constructible`.
4. –û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É `using namespace std;` ‚Äî –ø–ª–æ—Ö–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö.
5. –ù–∞–ø–∏—à–∏—Ç–µ `constexpr` —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞.

---

# ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ C++ (Middle/Senior)**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã.

---

## üß† **1. –û—Å–Ω–æ–≤—ã —è–∑—ã–∫–∞**
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `const`, `constexpr`, `mutable`?
- [ ] –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `struct` –æ—Ç `class`?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `static` (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –º–µ—Ç–æ–¥, —Ñ—É–Ω–∫—Ü–∏—è)?
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `virtual` –∏ —Ç–∞–±–ª–∏—Ü–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (vtable)?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `override`, `final`?

---

## üß± **2. –û–û–ü –∏ –¥–∏–∑–∞–π–Ω**
- [ ] –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü.
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π)?
- [ ] –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π.
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ RAII? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ Rule of Three/Five/Zero?

---

## üîÅ **3. –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –ø–∞–º—è—Ç—å**
- [ ] –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `*`, `&` –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏? –ö–∞–∫ –Ω–∞–π—Ç–∏?
- [ ] –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `std::unique_ptr`, `shared_ptr`, `weak_ptr`.
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ –¥angled pointer?
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::move`? –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

---

## üß© **4. –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ SFINAE? –ü—Ä–∏–º–µ—Ä —Å `std::enable_if`.
- [ ] –ß–µ–º `concepts` –ª—É—á—à–µ SFINAE?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `template specialization`?
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `variadic templates`?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `CRTP`? –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?

---

## ‚öôÔ∏è **5. STL –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
- [ ] –ß–µ–º `std::vector` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `std::list`?
- [ ] –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `std::unordered_map`? –ö–æ–ª–ª–∏–∑–∏–∏?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã? –ö–∞—Ç–µ–≥–æ—Ä–∏–∏?
- [ ] –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::array` vs `std::vector`?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `std::string_view` –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

---

## üßµ **6. –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `race condition`?
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::mutex` –∏ `lock_guard`?
- [ ] –ß–µ–º `std::async` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `std::thread`?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ `deadlock`? –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å?
- [ ] –û–±—ä—è—Å–Ω–∏—Ç–µ `memory_order` –≤ `std::atomic`.

---

## üöÄ **7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ RVO/NRVO?
- [ ] –ö–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::move`?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ PIMPL? –ó–∞—á–µ–º?
- [ ] –ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ cache-friendly –∫–æ–¥?

---

## üõ†Ô∏è **8. –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**
- [ ] –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CMake?
- [ ] –ö–∞–∫ –ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã (Google Test)?
- [ ] –ß—Ç–æ —Ç–∞–∫–æ–µ CI/CD? –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ GitHub?
- [ ] –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `valgrind` / `AddressSanitizer`?
- [ ] –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `clang-tidy`?

---

## üìù **9. –ó–∞–¥–∞—á–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é**
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ `shared_ptr` —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫.
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ `ThreadPool`.
- [ ] –°–¥–µ–ª–∞–π—Ç–µ `LRU Cache`.
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ `Observer` –∏–ª–∏ `Command` –ø–∞—Ç—Ç–µ—Ä–Ω.
- [ ] –û—Ç–ª–∞–¥—å—Ç–µ –∫–æ–¥ —Å `double free` –∏–ª–∏ `use after free`.

---

# üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ì–æ—Ç–æ–≤—å—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ –¥–æ—Å–∫–µ –∏–ª–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –±–µ–∑ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è.
- –û–±—ä—è—Å–Ω—è–π—Ç–µ –≤—Å–ª—É—Ö —Ö–æ–¥ –º—ã—Å–ª–µ–π.
- –£—á–∏—Ç–µ—Å—å —á–∏—Ç–∞—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä (https://godbolt.org).
- –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –∑–∞–¥–∞—á–∏ —Å LeetCode (C++), –Ω–∞–ø—Ä–∏–º–µ—Ä: `Implement Smart Pointer`, `Thread-Safe Queue`.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF-–≤–µ—Ä—Å–∏—é —á–µ–∫-–ª–∏—Å—Ç–∞ –∏ –∑–∞–¥–∞—á**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **10 —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á —Å —Ä–µ—à–µ–Ω–∏—è–º–∏**
- –°–æ—Å—Ç–∞–≤–∏—Ç—å **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω —Å –¥–µ–¥–ª–∞–π–Ω–∞–º–∏**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# —Ä–∞—Å–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 1

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ù–µ–¥–µ–ª–∏ 1** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è C++**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–π **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º—É C++ (C++17 / C++20 / C++23)**. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤–∫–ª—é—á–∞–µ—Ç:  
- **–¢–µ–º—ã –¥–Ω—è**,  
- **–¢–µ–æ—Ä–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã**,  
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏**,  
- **–°–æ–≤–µ—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã**.

---

# üìò **–ù–µ–¥–µ–ª—è 1: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (C++17 / C++20 / C++23)**

**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:**  
–ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ C++, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –∫–æ–¥ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–∏—â–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–µ–µ. –í—ã –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç–µ –ø–∏—Å–∞—Ç—å "—Å—Ç–∞—Ä–æ–º–æ–¥–Ω—ã–π" C++ –∏ –Ω–∞—á–Ω—ë—Ç–µ –ø–∏—Å–∞—Ç—å –∫–æ–¥ –≤ —Å—Ç–∏–ª–µ **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++ (Modern C++)**.

---

## üóìÔ∏è **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º**

---

### **–î–µ–Ω—å 1: `auto`, `decltype`, `if constexpr`**

#### üîπ –¢–µ–º—ã:
- `auto` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ —Ç–∏–ø–∞
- `decltype` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- `if constexpr` ‚Äî –∫–æ–º–ø–∏–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ (C++17)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// auto ‚Äî –∑–∞–º–µ–Ω—è–µ—Ç –≥—Ä–æ–º–æ–∑–¥–∫–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
auto x = 42;                    // int
auto y = std::vector<int>{1,2}; // std::vector<int>
auto it = vec.begin();          // –∏—Ç–µ—Ä–∞—Ç–æ—Ä ‚Äî –Ω–µ –Ω–∞–¥–æ –ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ç–∏–ø

// decltype ‚Äî –ø–æ–ª–µ–∑–Ω–æ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
int a = 5;
decltype(a) b = 10;  // b ‚Äî int

// if constexpr ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
template <typename T>
void print_type(T value) {
    if constexpr (std::is_integral_v<T>) {
        std::cout << "Integer: " << value << "\n";
    } else if constexpr (std::is_floating_point_v<T>) {
        std::cout << "Float: " << value << "\n";
    }
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ —è–≤–Ω—ã–µ —Ç–∏–ø—ã –Ω–∞ `auto` –≤ –∫–æ–¥–µ —Å `std::map<std::string, std::vector<int>>`.
2. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é `decltype(a + b)` –æ—Ç –¥–≤—É—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
3. –°–¥–µ–ª–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –¥–ª—è `int` –∏ `double` —Å `if constexpr`.

#### üí° –°–æ–≤–µ—Ç:
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `auto`, –Ω–æ –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ. –ù–µ –ø–∏—à–∏—Ç–µ `auto x = func();`, –µ—Å–ª–∏ `func()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á—Ç–æ-—Ç–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ–µ.

---

### **–î–µ–Ω—å 2: `std::string_view`, `std::span`**

#### üîπ –¢–µ–º—ã:
- `std::string_view` ‚Äî "–≤–∑–≥–ª—è–¥" –Ω–∞ —Å—Ç—Ä–æ–∫—É –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (C++17)
- `std::span<T>` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π "–≤–∑–≥–ª—è–¥" –Ω–∞ –º–∞—Å—Å–∏–≤/–¥–∏–∞–ø–∞–∑–æ–Ω (C++20)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
#include <string_view>

void print_sv(std::string_view sv) {
    std::cout << sv << " (size: " << sv.size() << ")\n";
}

std::string s = "Hello";
print_sv(s);           // OK
print_sv("World");     // OK ‚Äî –Ω–µ —Å–æ–∑–¥–∞—ë—Ç std::string
print_sv(s.substr(0,3)); // –û—Å—Ç–æ—Ä–æ–∂–Ω–æ: –≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç "—É–π—Ç–∏"
```

```cpp
#include <span>

void print_span(std::span<int> sp) {
    for (int x : sp) std::cout << x << " ";
}

int arr[] = {1, 2, 3, 4};
print_span(arr);                    // OK
std::vector v{1,2,3};
print_span(v);                      // OK
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `void process(const std::string& s)` ‚Üí `std::string_view`.
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `max_in_span(std::span<const int>)`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –º–∞–∫—Å–∏–º—É–º.
3. –û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É `std::string_view` –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `const std::string&`.

#### üí° –°–æ–≤–µ—Ç:
> `std::string_view` ‚Äî –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ, —á–µ–º `const std::string&` –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

---

### **–î–µ–Ω—å 3: Structured Bindings**

#### üîπ –¢–µ–º—ã:
- `auto [x, y] = pair;` ‚Äî —É–¥–æ–±–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –ø–∞—Ä, –∫–æ—Ä—Ç–µ–∂–µ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä (C++17)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
std::pair<int, std::string> p = {42, "Alice"};
auto [id, name] = p;
std::cout << id << ", " << name << "\n";

// –í —Ü–∏–∫–ª–∞—Ö:
std::map<std::string, int> ages = {{"Alice", 25}, {"Bob", 30}};
for (const auto& [name, age] : ages) {
    std::cout << name << " -> " << age << "\n";
}

// –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä:
struct Point { int x, y; };
Point p2{10, 20};
auto [a, b] = p2;
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Ü–∏–∫–ª –ø–æ `std::map` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º structured bindings.
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `auto [key, value]` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `std::unordered_map`.
3. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é `std::tuple<int, double, std::string>` –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –µ—ë.

#### üí° –°–æ–≤–µ—Ç:
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `const auto& [k, v]`, —á—Ç–æ–±—ã –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ–±—Ö–æ–¥–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

### **–î–µ–Ω—å 4: `std::optional`, `std::variant`, `std::any`**

#### üîπ –¢–µ–º—ã:
- `std::optional<T>` ‚Äî –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –±—ã—Ç—å –ø—É—Å—Ç—ã–º (C++17)
- `std::variant<T, U>` ‚Äî —Ç–∏–ø-—Å—É–º–º–∞ (–∞–Ω–∞–ª–æ–≥ `union`, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π)
- `std::any` ‚Äî –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ª—é–±–æ–π —Ç–∏–ø (–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// optional
std::optional<int> divide(int a, int b) {
    if (b == 0) return std::nullopt;
    return a / b;
}

if (auto res = divide(10, 2); res) {
    std::cout << *res << "\n";
}

// variant
std::variant<int, std::string> v = "text";
v = 42;

if (std::holds_alternative<int>(v)) {
    std::cout << std::get<int>(v) << "\n";
}

// any
std::any a = 3.14;
a = std::string("hello");
if (auto* s = std::any_cast<std::string>(&a)) {
    std::cout << *s << "\n";
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `find_in_vector(std::vector<int>, int) ‚Üí std::optional<size_t>`.
2. –°–æ–∑–¥–∞–π—Ç–µ `std::variant<double, std::string, bool>` –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ `std::visit`.
3. –•—Ä–∞–Ω–∏—Ç–µ –≤ `std::vector<std::any>` —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∏ –≤—ã–≤–æ–¥–∏—Ç–µ –∏—Ö (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ).

#### üí° –°–æ–≤–µ—Ç:
> `std::optional` ‚Äî –ª—É—á—à–∞—è –∑–∞–º–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç—É `-1`, `nullptr` –∏–ª–∏ –±—É–ª–µ–≤–æ–≥–æ —Ñ–ª–∞–≥–∞.

---

### **–î–µ–Ω—å 5: `std::filesystem` (C++17)**

#### üîπ –¢–µ–º—ã:
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
- –ü—É—Ç–∏, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è, –æ–±—Ö–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
#include <filesystem>
namespace fs = std::filesystem;

fs::path p = "/home/user/Documents";
if (fs::exists(p)) {
    std::cout << "Size: " << fs::file_size(p / "file.txt") << "\n";
}

// –û–±—Ö–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
for (const auto& entry : fs::directory_iterator(p)) {
    if (entry.is_regular_file()) {
        std::cout << entry.path().filename() << "\n";
    }
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—á–∞—Ç–∞—é—â—É—é –≤—Å–µ `.txt` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
2. –ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ.
3. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `FileInfo` —Å –∏–º–µ–Ω–µ–º, —Ä–∞–∑–º–µ—Ä–æ–º, –¥–∞—Ç–æ–π ‚Äî –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–∑ `fs::directory_entry`.

#### üí° –°–æ–≤–µ—Ç:
> `std::filesystem` –∑–∞–º–µ–Ω—è–µ—Ç `dirent.h` –∏ `stat()` –∏–∑ C. –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π.

---

### **–î–µ–Ω—å 6: –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –≤–≤–µ–¥–µ–Ω–∏–µ (C++20)**

#### üîπ –¢–µ–º—ã:
- –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã?
- `template <Integral T>`
- `requires` –≤—ã—Ä–∞–∂–µ–Ω–∏—è

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ü–µ–ø—Ç
template <typename T>
concept Integral = std::is_integral_v<T>;

template <Integral T>
T add(T a, T b) {
    return a + b;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
add(3, 5);     // OK
add(3.5, 2.1); // –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚Äî double –Ω–µ Integral
```

```cpp
// –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π requires
template <typename T>
concept Addable = requires(T a, T b) {
    a + b;  // –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º
};

template <Addable T>
T sum(T a, T b) { return a + b; }
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ç `FloatingPoint`, —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π `float`, `double`.
2. –ù–∞–ø–∏—à–∏—Ç–µ —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `max`, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é —Ç–æ–ª—å–∫–æ `Addable` —Ç–∏–ø—ã.
3. –°—Ä–∞–≤–Ω–∏—Ç–µ –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å `concept` –∏ –±–µ–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å `static_assert`).

#### üí° –°–æ–≤–µ—Ç:
> –ö–æ–Ω—Ü–µ–ø—Ç—ã –¥–µ–ª–∞—é—Ç —à–∞–±–ª–æ–Ω—ã —á–∏—Ç–∞–µ–º—ã–º–∏ –∏ –¥–∞—é—Ç **–ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**.

---

### **–î–µ–Ω—å 7: –û–±–æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–æ–µ–∫—Ç**

#### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **"–£—Ç–∏–ª–∏—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤"**

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑—É—á–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (—á–µ—Ä–µ–∑ `std::filesystem`)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ `.txt` —Ñ–∞–π–ª–∞:
  - –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
  - –ù–∞—Ö–æ–¥–∏—Ç —Å–∞–º—É—é –¥–ª–∏–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `std::optional<std::string>` ‚Äî –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –ø—É—Å—Ç
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `std::vector<std::variant<FileInfo, ErrorInfo>>`
- –í—ã–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `filename.txt: 12 lines, longest: 45 chars`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::string_view`, `std::optional`, `std::variant`
- –ü—Ä–∏–º–µ–Ω–∏—Ç–µ `structured bindings` –ø—Ä–∏ –æ–±—Ö–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `if constexpr` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- –í–µ—Å—å –∫–æ–¥ ‚Äî C++17/20

#### üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- –°–¥–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —à–∞–±–ª–æ–Ω–Ω–æ–π —Å `concept ReadableFile`
- –î–æ–±–∞–≤—å—Ç–µ –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ `std::chrono`

---

## üìö **–†–µ—Å—É—Ä—Å—ã –¥–ª—è —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏**

- [https://en.cppreference.com](https://en.cppreference.com) ‚Äî –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- [https://godbolt.org](https://godbolt.org) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ (`-std=c++17`, `-std=c++20`)
- –ö–Ω–∏–≥–∞: *¬´Effective Modern C++¬ª* ‚Äî Scott Meyers (–≥–ª–∞–≤—ã 1‚Äì6)
- YouTube: **CppCon ‚Äî "Back to the Basics! Modern C++ Basics"**

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –ø–æ –∏—Ç–æ–≥–∞–º –Ω–µ–¥–µ–ª–∏**

–í—ã –≥–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ, –µ—Å–ª–∏ –º–æ–∂–µ—Ç–µ:

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `std::string_view`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `structured bindings` –≤ —Ü–∏–∫–ª–∞—Ö –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –í–µ—Ä–Ω—É—Ç—å `std::optional<T>` –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `std::variant` —á–µ—Ä–µ–∑ `std::visit`
- [ ] –ü—Ä–æ–π—Ç–∏—Å—å –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å `std::filesystem`
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π `concept` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —à–∞–±–ª–æ–Ω–µ

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **–≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç-–ø—Ä–∏–º–µ—Ä** –ø–æ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **—Ç–µ—Å—Ç –∏–∑ 10 –≤–æ–ø—Ä–æ—Å–æ–≤** –ø–æ —Ç–µ–º–∞–º
- –î–∞—Ç—å **—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ù–∞–ø–∏—à–∏ —Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á

–û—Ç–ª–∏—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–ª–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á** –∏–∑ **–ù–µ–¥–µ–ª–∏ 1: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (C++17 / C++20 / C++23)**. –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç:
- –ü–æ–ª–Ω—ã–π –∫–æ–¥ –Ω–∞ C++,
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏,
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

---

## ‚úÖ **–†–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –ù–µ–¥–µ–ª–∏ 1**

---

### **–î–µ–Ω—å 1: `auto`, `decltype`, `if constexpr`**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1: –ó–∞–º–µ–Ω–∏—Ç–µ —è–≤–Ω—ã–µ —Ç–∏–ø—ã –Ω–∞ `auto`

```cpp
#include <iostream>
#include <map>
#include <vector>
#include <string>

int main() {
    // –ë—ã–ª–æ:
    // std::map<std::string, std::vector<int>> data;
    // auto it = data.begin();

    auto data = std::map<std::string, std::vector<int>>{
        {"Alice", {1, 2, 3}},
        {"Bob",   {4, 5}}
    };

    for (const auto& [name, vec] : data) {
        std::cout << name << ": ";
        for (auto value : vec) {
            std::cout << value << " ";
        }
        std::cout << "\n";
    }

    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2: –§—É–Ω–∫—Ü–∏—è —Å `decltype(a + b)`

```cpp
#include <iostream>
#include <type_traits>

template <typename T, typename U>
auto add_and_return_type(T a, U b) -> decltype(a + b) {
    return a + b;
}

int main() {
    auto result = add_and_return_type(3, 4.5);  // double
    std::cout << result << "\n";  // 7.5
    return 0;
}
```

> üîé –ò—Å–ø–æ–ª—å–∑—É–µ–º trailing return type, –ø–æ—Ç–æ–º—É —á—Ç–æ `a + b` –µ—â—ë –Ω–µ –≤–∏–¥–Ω–æ –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏.

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: `if constexpr` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤

```cpp
#include <iostream>
#include <type_traits>

template <typename T>
void print_type_info(T value) {
    if constexpr (std::is_integral_v<T>) {
        std::cout << "Integer: " << value << " (size: " << sizeof(T) << ")\n";
    } else if constexpr (std::is_floating_point_v<T>) {
        std::cout << "Float: " << value << " (precision: ~" << std::numeric_limits<T>::digits10 << ")\n";
    } else {
        std::cout << "Other type\n";
    }
}

int main() {
    print_type_info(42);      // Integer
    print_type_info(3.14f);   // Float
    print_type_info("hello"); // Other
    return 0;
}
```

---

### **–î–µ–Ω—å 2: `std::string_view`, `std::span`**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1: –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å `std::string_view`

```cpp
#include <iostream>
#include <string>
#include <string_view>

// –ë—ã–ª–æ: void process(const std::string& s)
void process(std::string_view sv) {
    std::cout << "Processing: '" << sv << "' (length: " << sv.size() << ")\n";
}

int main() {
    std::string s = "Hello";
    const char* cstr = "World";
    std::string_view sv = "Temp";

    process(s);        // OK
    process(cstr);     // OK
    process(sv);       // OK
    process("Hi");     // OK ‚Äî –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π std::string
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2: `max_in_span`

```cpp
#include <iostream>
#include <span>
#include <vector>
#include <algorithm>

int max_in_span(std::span<const int> sp) {
    if (sp.empty()) {
        throw std::invalid_argument("Empty span");
    }
    return *std::max_element(sp.begin(), sp.end());
}

int main() {
    std::vector v = {1, 5, 3, 8, 2};
    int arr[] = {10, -1, 7};

    std::cout << max_in_span(v) << "\n";  // 8
    std::cout << max_in_span(arr) << "\n"; // 10
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: –ü–æ—á–µ–º—É `std::string_view` –±—ã—Å—Ç—Ä–µ–µ?

> ‚úÖ **–û—Ç–≤–µ—Ç:**  
> `const std::string&` —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –∞—Ä–≥—É–º–µ–Ω—Ç –±—ã–ª `std::string`, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç **–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `char*` ‚Üí `std::string`), —á—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç **–∞–ª–ª–æ–∫–∞—Ü–∏—é –ø–∞–º—è—Ç–∏**.  
> `std::string_view` –ø—Ä–æ—Å—Ç–æ "—Å–º–æ—Ç—Ä–∏—Ç" –Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ ‚Äî **–±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è**, **–±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–∏**.

---

### **–î–µ–Ω—å 3: Structured Bindings**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1‚Äì2: –¶–∏–∫–ª –ø–æ `map` –∏ `unordered_map`

```cpp
#include <iostream>
#include <map>
#include <unordered_map>

int main() {
    std::map<std::string, int> ages = {{"Alice", 25}, {"Bob", 30}};

    // –û–±—Ö–æ–¥ —Å structured binding
    for (const auto& [name, age] : ages) {
        std::cout << name << " -> " << age << "\n";
    }

    // –¢–æ –∂–µ –¥–ª—è unordered_map
    std::unordered_map<std::string, double> prices = {{"Apple", 1.2}, {"Banana", 0.8}};
    for (const auto& [item, price] : prices) {
        std::cout << item << ": $" << price << "\n";
    }

    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: –í–æ–∑–≤—Ä–∞—Ç `std::tuple` –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞

```cpp
#include <iostream>
#include <tuple>
#include <string>

std::tuple<int, double, std::string> get_data() {
    return {42, 3.14, "Hello"};
}

int main() {
    auto [id, pi, msg] = get_data();
    std::cout << id << ", " << pi << ", " << msg << "\n";
    return 0;
}
```

---

### **–î–µ–Ω—å 4: `std::optional`, `std::variant`, `std::any`**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1: `find_in_vector ‚Üí std::optional<size_t>`

```cpp
#include <iostream>
#include <vector>
#include <optional>

std::optional<size_t> find_in_vector(const std::vector<int>& vec, int value) {
    for (size_t i = 0; i < vec.size(); ++i) {
        if (vec[i] == value) {
            return i;
        }
    }
    return std::nullopt;
}

int main() {
    std::vector v = {10, 20, 30, 40};
    if (auto pos = find_in_vector(v, 30); pos) {
        std::cout << "Found at index: " << *pos << "\n";
    } else {
        std::cout << "Not found\n";
    }
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2: `std::variant` –∏ `std::visit`

```cpp
#include <iostream>
#include <variant>
#include <string>

using VarType = std::variant<double, std::string, bool>;

struct Printer {
    void operator()(double d) const { std::cout << "Double: " << d << "\n"; }
    void operator()(const std::string& s) const { std::cout << "String: " << s << "\n"; }
    void operator()(bool b) const { std::cout << "Bool: " << (b ? "true" : "false") << "\n"; }
};

int main() {
    std::vector<VarType> values = {3.14, std::string("Hello"), true, 2.71};

    for (const auto& v : values) {
        std::visit(Printer{}, v);
    }

    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: `std::any` —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏

```cpp
#include <iostream>
#include <vector>
#include <any>
#include <string>

void print_any(const std::any& a) {
    if (a.type() == typeid(int)) {
        std::cout << "int: " << std::any_cast<int>(a) << "\n";
    } else if (a.type() == typeid(std::string)) {
        std::cout << "string: " << std::any_cast<std::string>(a) << "\n";
    } else if (a.type() == typeid(double)) {
        std::cout << "double: " << std::any_cast<double>(a) << "\n";
    } else {
        std::cout << "Unknown type\n";
    }
}

int main() {
    std::vector<std::any> data = {42, std::string("Hi"), 3.14, true};

    for (const auto& item : data) {
        print_any(item);
    }

    return 0;
}
```

---

### **–î–µ–Ω—å 5: `std::filesystem`**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1: –ù–∞–π—Ç–∏ `.txt` —Ñ–∞–π–ª—ã

```cpp
#include <iostream>
#include <filesystem>

namespace fs = std::filesystem;

int main() {
    fs::path dir = ".";  // —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

    if (!fs::exists(dir) || !fs::is_directory(dir)) {
        std::cerr << "Directory not found\n";
        return 1;
    }

    std::cout << "Text files:\n";
    for (const auto& entry : fs::directory_iterator(dir)) {
        if (entry.path().extension() == ".txt") {
            std::cout << entry.path().filename() << "\n";
        }
    }

    return 0;
}
```

> ‚ö†Ô∏è –ö–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ —Å `-std=c++17 -lstdc++fs` (–Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö).

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2: –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤

```cpp
#include <iostream>
#include <filesystem>

namespace fs = std::filesystem;

int main() {
    fs::path dir = ".";
    uintmax_t total_size = 0;

    for (const auto& entry : fs::recursive_directory_iterator(dir)) {
        if (entry.is_regular_file()) {
            total_size += entry.file_size();
        }
    }

    std::cout << "Total size: " << total_size << " bytes\n";
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: `FileInfo` –∏–∑ `directory_entry`

```cpp
#include <iostream>
#include <filesystem>
#include <string>

namespace fs = std::filesystem;

struct FileInfo {
    std::string name;
    uintmax_t size;
    bool is_directory;
};

int main() {
    fs::path dir = ".";

    for (const auto& entry : fs::directory_iterator(dir)) {
        FileInfo info{
            entry.path().filename().string(),
            entry.file_size(),
            entry.is_directory()
        };
        std::cout << info.name << " | " << info.size << " B | " 
                  << (info.is_directory ? "DIR" : "FILE") << "\n";
    }

    return 0;
}
```

---

### **–î–µ–Ω—å 6: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)**

#### ‚úÖ –ó–∞–¥–∞—á–∞ 1: –ö–æ–Ω—Ü–µ–ø—Ç `FloatingPoint`

```cpp
#include <iostream>
#include <concepts>

template <typename T>
concept FloatingPoint = std::is_floating_point_v<T>;

template <FloatingPoint T>
T add(T a, T b) {
    return a + b;
}

int main() {
    std::cout << add(3.14, 2.86) << "\n";  // OK
    // std::cout << add(3, 5) << "\n";     // –û—à–∏–±–∫–∞: int –Ω–µ FloatingPoint
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 2: `Addable` –∏ `max`

```cpp
#include <iostream>
#include <concepts>

template <typename T>
concept Addable = requires(T a, T b) {
    a + b;
};

template <Addable T>
T max(T a, T b) {
    return (a > b) ? a : b;
}

int main() {
    std::cout << max(3, 5) << "\n";      // OK
    std::cout << max(2.5, 1.7) << "\n";  // OK
    // max("a", "b") ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
    return 0;
}
```

---

#### ‚úÖ –ó–∞–¥–∞—á–∞ 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å `concept` –∏ `static_assert`

```cpp
// –ë–µ–∑ concept ‚Äî –ø–ª–æ—Ö–∞—è –æ—à–∏–±–∫–∞
template <typename T>
T bad_add(T a, T b) {
    static_assert(std::is_arithmetic_v<T>, "T must be numeric");
    return a + b;
}

// –° concept ‚Äî –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞
template <std::arithmetic T>
T good_add(T a, T b) {
    return a + b;
}

int main() {
    good_add(3, 4);      // OK
    // good_add("a", "b"); // –û—à–∏–±–∫–∞: no matching function ‚Äî —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ, —á—Ç–æ char* –Ω–µ arithmetic
    return 0;
}
```

> ‚úÖ **–í—ã–≤–æ–¥:** `concept` –¥–∞—ë—Ç **–≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**.

---

### **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –£—Ç–∏–ª–∏—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤**

```cpp
#include <iostream>
#include <filesystem>
#include <string>
#include <string_view>
#include <vector>
#include <variant>
#include <optional>
#include <fstream>
#include <chrono>

namespace fs = std::filesystem;

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ
struct FileInfo {
    std::string filename;
    size_t line_count;
    size_t max_line_length;
    std::optional<std::string> first_line;
};

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ
struct ErrorInfo {
    std::string filename;
    std::string message;
};

using Result = std::variant<FileInfo, ErrorInfo>;

std::optional<std::string> read_first_line(const fs::path& path) {
    std::ifstream file(path);
    std::string line;
    if (std::getline(file, line)) {
        return line;
    }
    return std::nullopt;
}

Result analyze_file(const fs::path& path) {
    try {
        if (!fs::exists(path)) {
            return ErrorInfo{path.filename().string(), "File does not exist"};
        }

        std::ifstream file(path);
        if (!file.is_open()) {
            return ErrorInfo{path.filename().string(), "Cannot open file"};
        }

        size_t line_count = 0;
        size_t max_len = 0;
        std::string first_line;
        std::string line;

        while (std::getline(file, line)) {
            if (line_count == 0) {
                first_line = line;
            }
            if (line.length() > max_len) {
                max_len = line.length();
            }
            ++line_count;
        }

        return FileInfo{
            path.filename().string(),
            line_count,
            max_len,
            line_count > 0 ? std::make_optional(first_line) : std::nullopt
        };

    } catch (const std::exception& e) {
        return ErrorInfo{path.filename().string(), e.what()};
    }
}

int main() {
    auto start = std::chrono::high_resolution_clock::now();

    fs::path dir = ".";
    std::vector<Result> results;

    for (const auto& entry : fs::directory_iterator(dir)) {
        if (entry.path().extension() == ".txt") {
            results.push_back(analyze_file(entry.path()));
        }
    }

    // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    for (const auto& res : results) {
        std::visit([](const auto& data) {
            using T = std::decay_t<decltype(data)>;
            if constexpr (std::is_same_v<T, FileInfo>) {
                std::cout << data.filename
                          << ": " << data.line_count << " lines, "
                          << "longest: " << data.max_line_length << " chars";
                if (data.first_line) {
                    std::cout << ", first: '" << *data.first_line << "'";
                }
                std::cout << "\n";
            } else {
                std::cout << "ERROR [" << data.filename << "]: " << data.message << "\n";
            }
        }, res);
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);
    std::cout << "\nTotal time: " << duration.count() << " Œºs\n";

    return 0;
}
```

> üîß **–ö–∞–∫ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å:**
```bash
g++ -std=c++20 -lstdc++fs main.cpp -o analyzer
```

---

## üìå **–ò—Ç–æ–≥**

–¢—ã —Ç–µ–ø–µ—Ä—å:
- –ò—Å–ø–æ–ª—å–∑—É–µ—à—å `std::string_view` –≤–º–µ—Å—Ç–æ `const std::string&`,
- –ü—Ä–∏–º–µ–Ω—è–µ—à—å `std::optional` –∏ `std::variant` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π,
- –ü–æ–Ω–∏–º–∞–µ—à—å `if constexpr` –∏ –∫–æ–Ω—Ü–µ–ø—Ç—ã,
- –†–∞–±–æ—Ç–∞–µ—à—å —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞ C++17+,
- –ü–∏—à–µ—à—å —á–∏—Å—Ç—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **PDF —Å —ç—Ç–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏**,
- –°–¥–µ–ª–∞—Ç—å **—Ç–µ—Å—Ç –∏–∑ 20 –≤–æ–ø—Ä–æ—Å–æ–≤** –ø–æ Modern C++,
- –î–∞—Ç—å **–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –Ω–µ–¥–µ–ª—å**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–î–∞, —Ö–æ—á—É PDF"** –∏–ª–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏ —Å–æ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ–π"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ const, constexpr, mutable?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –†–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ä–æ–±–Ω–æ —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞ –≤ C++:  
**`const`**, **`constexpr`**, –∏ **`mutable`** ‚Äî —á—Ç–æ –æ–Ω–∏ –æ–∑–Ω–∞—á–∞—é—Ç, —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

---

## üîπ 1. `const` ‚Äî **–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ—Å—Ç—å**

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–û–±—ä—è–≤–ª—è–µ—Ç, —á—Ç–æ **–æ–±—ä–µ–∫—Ç –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è** –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

### üìå –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

#### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```cpp
const int x = 10;
x = 20; // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å const
```

#### 2. –£–∫–∞–∑–∞—Ç–µ–ª–∏
```cpp
const int* ptr;        // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ const int (–¥–∞–Ω–Ω—ã–µ –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å)
int* const ptr;        // const —É–∫–∞–∑–∞—Ç–µ–ª—å (–∞–¥—Ä–µ—Å –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å)
const int* const ptr;  // –∏ –¥–∞–Ω–Ω—ã–µ, –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å ‚Äî const
```

#### 3. –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤
```cpp
class MyClass {
    int value;
public:
    int get() const {  // –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç: –º–µ—Ç–æ–¥ –ù–ï –∏–∑–º–µ–Ω–∏—Ç –æ–±—ä–µ–∫—Ç
        return value;
    }
};
```
> ‚úÖ `const`-–º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ `const` –æ–±—ä–µ–∫—Ç–∞—Ö.

#### 4. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π
```cpp
void print(const std::string& s) {
    // s –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
}
```

### üí° –ó–∞—á–µ–º:
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å STL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `const` –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã).

---

## üîπ 2. `constexpr` ‚Äî **–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **–∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω—ã –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏–∑–≤–µ—Å—Ç–Ω—ã.

### üìå –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

#### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```cpp
constexpr int square(int n) {
    return n * n;
}

constexpr int x = square(5);  // –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚Üí x = 25
```

> ‚úÖ `constexpr` –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è **–¥–æ–ª–∂–Ω–∞** –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º.

#### 2. –§—É–Ω–∫—Ü–∏–∏
```cpp
constexpr double gravity() {
    return 9.81;
}

constexpr double potential_energy(double mass, double height) {
    return mass * gravity() * height;
}

constexpr double pe = potential_energy(10.0, 5.0); // OK, –µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏–∑–≤–µ—Å—Ç–Ω—ã –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

> ‚ö†Ô∏è –í C++14+ `constexpr` —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ü–∏–∫–ª—ã, —É—Å–ª–æ–≤–∏—è –∏ —Ç.–¥.

#### 3. –û–±—ä–µ–∫—Ç—ã
```cpp
struct Point {
    constexpr Point(double x, double y) : x(x), y(y) {}
    double x, y;
};

constexpr Point origin(0, 0); // –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

### üí° –ó–∞—á–µ–º:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –≤—ã—á–∏—Å–ª–µ–Ω–∏—è "–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è" –µ—â—ë –¥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–µ—Å—Ç–∞—Ö, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è **compile-time constant**, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  - –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞: `int arr[constexpr_size];`
  - –®–∞–±–ª–æ–Ω—ã: `std::array<int, N>`

---

## üîπ 3. `mutable` ‚Äî **–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ—Å—Ç–∏**

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü–æ–∑–≤–æ–ª—è–µ—Ç **–∏–∑–º–µ–Ω—è—Ç—å –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ –¥–∞–∂–µ –≤–Ω—É—Ç—Ä–∏ `const`-–º–µ—Ç–æ–¥–∞**.

### üìå –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:
–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã **–æ–±—ä–µ–∫—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–≤–∞–ª—Å—è "–Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º"**, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º **–æ–±–Ω–æ–≤–ª—è–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ,
- –°—á—ë—Ç—á–∏–∫ –≤—ã–∑–æ–≤–æ–≤,
- –ú—å—é—Ç–µ–∫—Å—ã –≤ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö.

### üìå –ü—Ä–∏–º–µ—Ä:

```cpp
class Logger {
    mutable int call_count;  // –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ const-–º–µ—Ç–æ–¥–∞—Ö
    mutable std::string cache;

public:
    Logger() : call_count(0) {}

    // const-–º–µ—Ç–æ–¥, –Ω–æ –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å mutable –ø–æ–ª—è
    void log(const std::string& msg) const {
        ++call_count;  // OK: mutable
        if (cache.empty()) {
            cache = "Cached: " + msg;  // OK: mutable
        }
        std::cout << msg << " (call #" << call_count << ")\n";
    }

    int get_call_count() const {
        return call_count;
    }
};

int main() {
    const Logger logger;  // –æ–±—ä–µ–∫—Ç const
    logger.log("Hello");  // OK: –º–µ—Ç–æ–¥ const, –Ω–æ –º–µ–Ω—è–µ—Ç mutable –ø–æ–ª—è
    logger.log("World");
    std::cout << "Total calls: " << logger.get_call_count() << "\n";
    return 0;
}
```

### üí° –ó–∞—á–µ–º:
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ—Å—Ç—å ‚â† —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ `const`-–º–µ—Ç–æ–¥—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å `mutable std::mutex`).

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `const` vs `constexpr` vs `mutable`

| –°–ª–æ–≤–æ       | –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è       | –ö–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è     | –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å?         | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|------------|------------------------|------------------------|-----------------------------|-----------------------|
| `const`    | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∏–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏) | ‚ùå (–æ–±—ã—á–Ω–æ) | `const int size = 10;` |
| `constexpr`| –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã | **–ù–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ) | ‚ùå | `constexpr int sq = square(5);` |
| `mutable`  | –ü–æ–ª—è –∫–ª–∞—Å—Å–∞            | –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è    | ‚úÖ –¥–∞–∂–µ –≤ `const`-–º–µ—Ç–æ–¥–∞—Ö | `mutable int cache_hits;` |

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ —Ç—Ä–∏:

```cpp
class Counter {
    mutable int access_count;  // —Å—á–∏—Ç–∞–µ–º, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —á–∏—Ç–∞–ª–∏
    const int id;              // id –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å
public:
    constexpr Counter(int id) : id(id), access_count(0) {}

    int get_id() const {       // const-–º–µ—Ç–æ–¥
        ++access_count;        // OK: mutable
        return id;             // OK: —á—Ç–µ–Ω–∏–µ const
    }

    int get_access_count() const {
        return access_count;
    }
};

int main() {
    constexpr Counter c(42);   // –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
    std::cout << c.get_id() << "\n";           // 42
    std::cout << c.get_access_count() << "\n"; // 1
    return 0;
}
```

---

## üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ:
> **"const –æ–∑–Ω–∞—á–∞–µ—Ç '–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è', constexpr ‚Äî '–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏', –∞ mutable ‚Äî '–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ const'."**

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **—Ç–µ—Å—Ç –∏–∑ 5 –≤–æ–ø—Ä–æ—Å–æ–≤** –ø–æ —ç—Ç–∏–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏–ª–∏ **–ø–æ–¥–±–æ—Ä–∫—É –∑–∞–¥–∞—á** –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è.


# –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è struct –æ—Ç class?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –í **C++** —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `struct` –∏ `class` ‚Äî **–æ—á–µ–Ω—å —Ç–æ–Ω–∫–∞—è, –Ω–æ –≤–∞–∂–Ω–∞—è**. –ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –æ–Ω–∏ –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã, –Ω–æ –µ—Å—Ç—å **–æ–¥–Ω–æ –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ** –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π**.

---

## üîë **–ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ: —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

| –ö–æ–Ω—Ç–µ–∫—Å—Ç       | `class`                     | `struct`                     |
|----------------|-----------------------------|------------------------------|
| **–ß–ª–µ–Ω—ã (–ø–æ–ª—è, –º–µ—Ç–æ–¥—ã)** | `private` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é       | `public` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é         |
| **–ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)** | `private` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `public` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é         |

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —á–ª–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```cpp
class MyClass {
    int x;        // private –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    void foo();   // —Ç–æ–∂–µ private
public:
    int y;        // —è–≤–Ω–æ public
};
```

```cpp
struct MyStruct {
    int x;        // public –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    void foo();   // —Ç–æ–∂–µ public
private:
    int y;        // –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å private —è–≤–Ω–æ
};
```

> –û–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –ø—Ä–æ—Å—Ç–æ **—É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑–Ω—ã–π**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

```cpp
class Base {};
class Derived : Base {};  // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: class Derived : private Base {}
```

```cpp
struct Base {};
struct Derived : Base {};  // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: struct Derived : public Base {}
```

---

## üîÑ **–ß—Ç–æ –û–ë–©–ï–ì–û —É `struct` –∏ `class`?**

–í C++ **`struct` ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ C**. –≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π **—Ç–∏–ø –∫–ª–∞—Å—Å–∞**. –¢–æ –µ—Å—Ç—å:

- –£ `struct` –º–æ–≥—É—Ç –±—ã—Ç—å:
  - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
  - –ú–µ—Ç–æ–¥—ã
  - `private`, `protected`, `public` —á–ª–µ–Ω—ã
  - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
  - –®–∞–±–ª–æ–Ω—ã

```cpp
struct Point {
    double x, y;

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    Point(double x, double y) : x(x), y(y) {}

    // –ú–µ—Ç–æ–¥
    double distance() const {
        return std::sqrt(x*x + y*y);
    }

    // –û–ø–µ—Ä–∞—Ç–æ—Ä
    bool operator==(const Point& other) const {
        return x == other.x && y == other.y;
    }
};
```

‚úÖ –≠—Ç–æ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å**, –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ `struct`.

---

## üß† **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ (–ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é)**

–•–æ—Ç—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ `struct` –∏ `class` –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã, –≤ C++ –ø—Ä–∏–Ω—è—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö **–ø–æ —Å–º—ã—Å–ª—É**:

| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|---------------|---------------|
| **`struct`**  | –î–ª—è **–ø—Ä–æ—Å—Ç—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö (POD)**, –≥–¥–µ –≤—Å–µ –ø–æ–ª—è `public`, –Ω–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: `Point`, `RGB`, `Person`. |
| **`class`**   | –î–ª—è **–æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º**, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π, –º–µ—Ç–æ–¥–∞–º–∏, —Å–∫—Ä—ã—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: `BankAccount`, `Logger`, `GameEngine`. |

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã:

```cpp
// struct ‚Äî –¥–∞–Ω–Ω—ã–µ
struct Point {
    double x, y;
};

struct Config {
    std::string host;
    int port;
    bool debug;
};
```

```cpp
// class ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è
class BankAccount {
private:
    double balance;
    std::string owner;

public:
    void deposit(double amount);
    double get_balance() const;
};
```

---

## üöÄ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++: `struct` —Ç–æ–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º

–ù–æ –Ω–∏—á—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç –ø–∏—Å–∞—Ç—å —Ç–∞–∫:

```cpp
struct Counter {
    Counter() { ++count; }
    ~Counter() { --count; }
private:
    static int count;
public:
    static int get_count() { return count; }
};
```

‚úÖ –≠—Ç–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∞–ª–∏–¥–Ω–æ** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —à–∞–±–ª–æ–Ω–∞—Ö –∏–ª–∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.

---

## üìå –ò—Ç–æ–≥: —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `struct` –æ—Ç `class`?

| –ö—Ä–∏—Ç–µ—Ä–∏–π                     | `struct`                          | `class`                           |
|-----------------------------|-----------------------------------|-----------------------------------|
| **–î–æ—Å—Ç—É–ø –∫ —á–ª–µ–Ω–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** | `public`                         | `private`                         |
| **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**    | `public`                         | `private`                         |
| **–ú–æ–≥—É—Ç –ª–∏ –∏–º–µ—Ç—å –º–µ—Ç–æ–¥—ã?**       | ‚úÖ –î–∞                            | ‚úÖ –î–∞                             |
| **–ú–æ–≥—É—Ç –ª–∏ –±—ã—Ç—å —à–∞–±–ª–æ–Ω–∞–º–∏?**     | ‚úÖ –î–∞                            | ‚úÖ –î–∞                             |
| **–°–µ–º–∞–Ω—Ç–∏–∫–∞ (–ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é)**    | –î–∞–Ω–Ω—ã–µ, POD, "–æ—Ç–∫—Ä—ã—Ç–∞—è" —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | –û–±—ä–µ–∫—Ç—ã, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –ø–æ–≤–µ–¥–µ–Ω–∏–µ  |

---

## üí° –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ `struct` –∏ `class` –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —É `class` –æ–Ω `private`, —É `struct` ‚Äî `public`. –¢–∞–∫–∂–µ –ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é `struct` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –∞ `class` ‚Äî –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º¬ª.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á** –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —ç—Ç–æ–π —Ç–µ–º—ã –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º `struct` –æ—Ç `class`**.



# –ß—Ç–æ —Ç–∞–∫–æ–µ static (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –º–µ—Ç–æ–¥, —Ñ—É–Ω–∫—Ü–∏—è)?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `static` –≤ C++ –∏–º–µ–µ—Ç **—Ä–∞–∑–Ω—ã–π —Å–º—ã—Å–ª –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**, –∏ –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –∫–∞–∫ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤, —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

–†–∞–∑–±–µ—Ä—ë–º **–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `static`**:

---

## üîπ 1. `static` **–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏** (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è **—Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ** –∏ **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏**.

### üìå –ü—Ä–∏–º–µ—Ä:
```cpp
void counter() {
    static int count = 0;  // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
    count++;
    std::cout << "Call #" << count << "\n";
}

int main() {
    counter(); // Call #1
    counter(); // Call #2
    counter(); // Call #3
    return 0;
}
```

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é).
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏**, –∞ –Ω–µ –Ω–∞ —Å—Ç–µ–∫–µ.
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞ –≤ C++11+ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞).

---

## üîπ 2. `static` **–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∞** (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ)

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü–æ–ª–µ **–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤—Å–µ–º—É –∫–ª–∞—Å—Å—É**, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É. –£ –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ ‚Äî **–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ**.

### üìå –ü—Ä–∏–º–µ—Ä:
```cpp
class Counter {
public:
    static int total;  // –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

    Counter() { total++; }
    ~Counter() { total--; }
};

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–Ω–µ –∫–ª–∞—Å—Å–∞!)
int Counter::total = 0;

int main() {
    std::cout << Counter::total << "\n";  // 0

    Counter c1, c2;
    std::cout << Counter::total << "\n";  // 2

    {
        Counter c3;
        std::cout << Counter::total << "\n";  // 3
    }
    std::cout << Counter::total << "\n";  // 2 (c3 —É–Ω–∏—á—Ç–æ–∂–µ–Ω)
    return 0;
}
```

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –æ–¥–∏–Ω —Ä–∞–∑** –≤ `.cpp` —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –Ω–µ `constexpr`).
- –î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –∏–º—è –∫–ª–∞—Å—Å–∞: `Counter::total`.
- –ü–æ–ª–µ–∑–Ω–∞ –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –∫—ç—à–µ–π –∏ —Ç.–¥.

> ‚ö†Ô∏è –ù–∞—á–∏–Ω–∞—è —Å C++17, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `inline static`, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä—è–º–æ –≤ –∫–ª–∞—Å—Å–µ:
> ```cpp
> class Counter {
>     inline static int total = 0;  // –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–Ω–µ –∫–ª–∞—Å—Å–∞
> };
> ```

---

## üîπ 3. `static` **–º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞**

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º** (`this` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω), –∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

### üìå –ü—Ä–∏–º–µ—Ä:
```cpp
class Math {
public:
    static int square(int x) {
        return x * x;
    }

    static double pi() {
        return 3.14159;
    }
};

int main() {
    int sq = Math::square(5);  // 25
    double p = Math::pi();     // 3.14159
    return 0;
}
```

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ù–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ **–Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–ª—è–º –∏ –º–µ—Ç–æ–¥–∞–º** (–Ω–µ—Ç `this`).
- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ **–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–ª–∞—Å—Å–æ–º.
- –ú–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è **—Ñ–∞–±—Ä–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**:
  ```cpp
  class Point {
      double x, y;
      Point(double x, double y) : x(x), y(y) {}
  public:
      static Point origin() { return Point(0, 0); }
      static Point random();
  };
  ```

---

## üîπ 4. `static` **–≤–Ω–µ –∫–ª–∞—Å—Å–∞ / –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω** (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

> ‚ö†Ô∏è –≠—Ç–æ **C-style `static`**, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++.

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç **–æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π** —Ñ–∞–π–ª–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞ (internal linkage).

### üìå –ü—Ä–∏–º–µ—Ä:
```cpp
// helper.cpp
static int helper_counter = 0;  // –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ helper.cpp

static void log_debug() {       // —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
    std::cout << "Debug: " << ++helper_counter << "\n";
}
```

> üîÅ –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤ C++ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∞–Ω–æ–Ω–∏–º–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω**:
> ```cpp
> namespace {
>     int counter = 0;
>     void log_debug() { ... }
> }
> ```

---

## üîö **–ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: `static` –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö**

| –ö–æ–Ω—Ç–µ–∫—Å—Ç                     | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                                 | –ü—Ä–∏–º–µ—Ä |
|-----------------------------|---------------------------------------------------------------------------|--------|
| `static int x;` –≤ —Ñ—É–Ω–∫—Ü–∏–∏   | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏                             | `static int count = 0;` |
| `static int x;` –≤ –∫–ª–∞—Å—Å–µ    | –û–±—â–µ–µ –ø–æ–ª–µ –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∫–ª–∞—Å—Å–∞                                       | `static int total;` |
| `static void f();` –≤ –∫–ª–∞—Å—Å–µ | –ú–µ—Ç–æ–¥ –±–µ–∑ `this`, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–º—è –∫–ª–∞—Å—Å–∞                            | `Math::sqrt(4)` |
| `static` –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–∞    | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å (internal linkage) ‚Äî **—É—Å—Ç–∞—Ä–µ–ª–æ**                 | `static void helper()` |

---

## üí° –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`static` –≤ C++ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
>
> - –í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∂–∏–≤—ë—Ç –≤—Å—ë –≤—Ä–µ–º—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
> - –í –∫–ª–∞—Å—Å–µ ‚Äî –ø–æ–ª–µ –∏–ª–∏ –º–µ—Ç–æ–¥, –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
> - –ù–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–∞ ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å (–Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–µ namespace).
>
> –¢–∞–∫–∂–µ —Å C++17 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `inline static` –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π, —á—Ç–æ–±—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –≤–Ω–µ –∫–ª–∞—Å—Å–∞.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å:
- **5 –∑–∞–¥–∞—á –Ω–∞ `static`** (–æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫ —Å–ª–æ–∂–Ω—ã–º),
- **–ü—Ä–∏–º–µ—Ä —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞ –Ω–∞ `static`**,
- **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ, —á–µ–º `static` –∏ `const`/`constexpr` –æ—Ç–ª–∏—á–∞—é—Ç—Å—è**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ß—Ç–æ –∑–Ω–∞—á–∏—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–æ—Å—Ç—å –≤ c++?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (thread safety)** ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –≤ C++, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å —É—Ä–æ–≤–Ω–∏.

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å?

**–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –∫–æ–¥–∞ (—Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å–∞, –æ–±—ä–µ–∫—Ç–∞), –∫–æ—Ç–æ—Ä–æ–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É **–ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤** –±–µ–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∫:
- **–ì–æ–Ω–∫–∞–º –¥–∞–Ω–Ω—ã—Ö (data races)**,
- **–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é**,
- **–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—é –ø–∞–º—è—Ç–∏**.

> ‚úÖ **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥** ‚Äî —ç—Ç–æ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è**, –µ—Å–ª–∏ –µ–≥–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—Ä **–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ** –∫–æ–¥–∞

```cpp
#include <iostream>
#include <thread>

int counter = 0;

void increment() {
    for (int i = 0; i < 100000; ++i) {
        counter++;  // ‚ö†Ô∏è –ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö! –ù–ï –∞—Ç–æ–º–∞—Ä–Ω–æ
    }
}

int main() {
    std::thread t1(increment);
    std::thread t2(increment);

    t1.join();
    t2.join();

    std::cout << "Counter: " << counter << "\n";  // ‚ùå –ù–µ –≤—Å–µ–≥–¥–∞ 200000!
    return 0;
}
```

> üî• –ü–æ—á–µ–º—É? –û–ø–µ—Ä–∞—Ü–∏—è `counter++` —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —à–∞–≥–æ–≤:
> 1. –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è,
> 2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ,
> 3. –ó–∞–ø–∏—Å—å –æ–±—Ä–∞—Ç–Ω–æ.
>
> –î–≤–∞ –ø–æ—Ç–æ–∫–∞ –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Ä—è–µ—Ç—Å—è.

---

## ‚úÖ –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º?

### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º—å—é—Ç–µ–∫—Å–∞ (`std::mutex`)**

```cpp
#include <iostream>
#include <thread>
#include <mutex>

int counter = 0;
std::mutex mtx;

void increment() {
    for (int i = 0; i < 100000; ++i) {
        std::lock_guard<std::mutex> lock(mtx);  // –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—å—é—Ç–µ–∫—Å
        counter++;
    }
}
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ `counter` –∑–∞—â–∏—â—ë–Ω ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω—è—Ç—å –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç.

---

### 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`std::atomic`)**

```cpp
#include <atomic>

std::atomic<int> counter{0};  // ‚úÖ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

void increment() {
    for (int i = 0; i < 100000; ++i) {
        counter++;  // ‚úÖ –∞—Ç–æ–º–∞—Ä–Ω–æ
    }
}
```

> ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º –º—å—é—Ç–µ–∫—Å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

---

## üìö –£—Ä–æ–≤–Ω–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–†–∞–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã –ø–æ-—Ä–∞–∑–Ω–æ–º—É:

| –£—Ä–æ–≤–µ–Ω—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|
| **–ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** | –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –±–µ–∑ –≤–Ω–µ—à–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ü—Ä–∏–º–µ—Ä: `std::vector`, –µ—Å–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –ø–∏—à—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. |
| **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è** | –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –º–æ–≥—É—Ç **—á–∏—Ç–∞—Ç—å** –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç, –Ω–æ **–∑–∞–ø–∏—Å—å —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**. –ü—Ä–∏–º–µ—Ä: `std::string` ‚Äî –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤, –Ω–æ –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. |
| **–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** | –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã –ø—Ä–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ (–æ–±—ã—á–Ω–æ –∑–∞ —Å—á—ë—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º—å—é—Ç–µ–∫—Å–æ–≤). –†–µ–¥–∫–æ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. |
| **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Ç–∏–ø—ã** | `std::atomic<T>` ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é. |

---

## üß© –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ STL

–í–æ—Ç –∫–∞–∫ –≤–µ–¥—É—Ç —Å–µ–±—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã STL:

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ? | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å? | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å? |
|----------|------------------------|-------------------------------|------------------------|
| `std::vector`, `std::list` –∏ –¥—Ä. | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã) | ‚ùå –ù–µ—Ç |
| `std::string` | ‚úÖ –ß—Ç–µ–Ω–∏–µ | ‚ùå –ó–∞–ø–∏—Å—å —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ | ‚ùå |
| `std::shared_ptr` | ‚úÖ –ß—Ç–µ–Ω–∏–µ `shared_ptr` | ‚úÖ –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å | ‚ùå –°–∞–º –æ–±—ä–µ–∫—Ç ‚Äî –Ω–µ –∑–∞—â–∏—â—ë–Ω! |

> üî• –í–∞–∂–Ω–æ: `std::shared_ptr<T>` **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω**, –µ—Å–ª–∏:
> - –ù–µ—Å–∫–æ–ª—å–∫–æ `shared_ptr`'–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ **–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç**, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö ‚Äî **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–º —Å—Å—ã–ª–æ–∫ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ**.
> - –ù–æ **–æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç**, **–Ω–µ –∑–∞—â–∏—â—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**!

```cpp
std::shared_ptr<MyClass> ptr = std::make_shared<MyClass>();

// –ü–æ—Ç–æ–∫ 1
auto p1 = ptr;  // ‚úÖ OK: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ shared_ptr ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ

// –ü–æ—Ç–æ–∫ 2
auto p2 = ptr;  // ‚úÖ OK

// –ù–æ –µ—Å–ª–∏ –æ–±–∞ –ø–æ—Ç–æ–∫–∞ –¥–µ–ª–∞—é—Ç ptr->modify() ‚Äî –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è!
```

---

## üõ°Ô∏è –ö–∞–∫ –¥–æ—Å—Ç–∏—á—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?

| –°–ø–æ—Å–æ–± | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-------|---------------------|
| `std::mutex` + `std::lock_guard` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å –±–ª–æ–∫ –∫–æ–¥–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ |
| `std::atomic<T>` | –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤ (int, bool, —É–∫–∞–∑–∞—Ç–µ–ª–∏) |
| `std::shared_mutex` (C++17) | –ö–æ–≥–¥–∞ –º–Ω–æ–≥–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π, –º–∞–ª–æ –ø–∏—Å–∞—Ç–µ–ª–µ–π (read-write lock) |
| `thread_local` | –ö–æ–≥–¥–∞ –∫–∞–∂–¥–æ–º—É –ø–æ—Ç–æ–∫—É –Ω—É–∂–Ω–∞ —Å–≤–æ—è –∫–æ–ø–∏—è –¥–∞–Ω–Ω—ã—Ö |
| –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å (`std::async`, `std::future`) | –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ |

---

## üí° `thread_local` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤–∏–¥ "–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"

```cpp
thread_local int local_counter = 0;  // –£ –∫–∞–∂–¥–æ–π –Ω–∏—Ç–∏ ‚Äî —Å–≤–æ—è –∫–æ–ø–∏—è

void worker() {
    local_counter = 10;
    std::cout << "Thread " << std::this_thread::get_id()
              << ": " << local_counter << "\n";
}
```

> ‚úÖ –ù–µ—Ç –≥–æ–Ω–æ–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ —Å–≤–æ—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.

---

## ‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

1. **–î—É–º–∞—Ç—å, —á—Ç–æ `std::vector` –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** ‚Äî ‚ùå  
   –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å **—Ä–∞–∑–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏**.

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `const` –æ–±—ä–µ–∫—Ç –∫–∞–∫ "–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π"** ‚Äî ‚ùå  
   `const` –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ —á–∏—Ç–∞–µ—Ç, –∞ –¥—Ä—É–≥–æ–π –ø–∏—à–µ—Ç ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –≥–æ–Ω–∫–∞.

3. **–ó–∞–±—ã—Ç—å –ø—Ä–æ `mutable` –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `const`-–º–µ—Ç–æ–¥–∞—Ö** ‚Äî  
   –ï—Å–ª–∏ `const`-–º–µ—Ç–æ–¥ –º–µ–Ω—è–µ—Ç `mutable std::string cache`, –Ω—É–∂–Ω–æ –∑–∞—â–∏—â–∞—Ç—å –º—å—é—Ç–µ–∫—Å–æ–º.

```cpp
class CachedData {
    mutable std::string cache;
    mutable std::mutex mtx;
public:
    std::string get() const {
        std::lock_guard<std::mutex> lock(mtx);
        if (cache.empty()) {
            cache = heavy_computation();
        }
        return cache;
    }
};
```

---

## ‚úÖ –ò—Ç–æ–≥: —á—Ç–æ –∑–Ω–∞—á–∏—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å?

> **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–æ–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤, –±–µ–∑:
> - –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö,
> - –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è,
> - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

### üîê –î–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é:
- `std::mutex`
- `std::atomic`
- `std::lock_guard`
- `thread_local`
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è)

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–¥ –º–æ–∂–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤. –í C++ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤ –≤—Ä–æ–¥–µ `std::shared_ptr` (—Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫). –î–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç `mutex`, `atomic`, –∏–ª–∏ `thread_local`. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –∏–∑–±–µ–≥–∞—Ç—å data race, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–±—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** (–æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ —Å–ª–æ–∂–Ω—ã—Ö),
- –ü—Ä–∏—Å–ª–∞—Ç—å **–ø—Ä–∏–º–µ—Ä –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤ —Å –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á**,
- –û–±—ä—è—Å–Ω–∏—Ç—å **memory_order –≤ std::atomic**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ß—Ç–æ –∑–Ω–∞—á–∏—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–π —Ç–∏–ø –≤ c++?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ê—Ç–æ–º–∞—Ä–Ω—ã–π —Ç–∏–ø (atomic type)** –≤ C++ ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤** –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º—å—é—Ç–µ–∫—Å–æ–≤.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–π —Ç–∏–ø?

**–ê—Ç–æ–º–∞—Ä–Ω—ã–π —Ç–∏–ø** ‚Äî —ç—Ç–æ —Ç–∏–ø, –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–∫–∞–∫ –µ–¥–∏–Ω–∞—è, –Ω–µ–¥–µ–ª–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è** (–ø–æ—ç—Ç–æ–º—É –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *–∞—Ç–æ–º–∞—Ä–Ω–æ–π*), –∏ **–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω–∞ –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–æ–º**.

> ‚úÖ –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:  
> - **–ù–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö (data race)**,  
> - **–ù–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**,  
> - **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –¥–∞–∂–µ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ**.

---

## üìå –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä: `std::atomic<int>`

```cpp
#include <iostream>
#include <thread>
#include <atomic>

std::atomic<int> counter{0};  // –∞—Ç–æ–º–∞—Ä–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

void increment() {
    for (int i = 0; i < 100000; ++i) {
        counter++;  // ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    }
}

int main() {
    std::thread t1(increment);
    std::thread t2(increment);

    t1.join();
    t2.join();

    std::cout << "Counter: " << counter << "\n";  // ‚úÖ –í—Å–µ–≥–¥–∞ 200000
    return 0;
}
```

> ‚úÖ –ë–µ–∑ `std::atomic` –±—ã–ª –±—ã **data race**, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª –±—ã **–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º**.

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::atomic<T>`?

`std::atomic<T>` ‚Äî —ç—Ç–æ **—à–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å** –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `<atomic>`, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ç–∏–ø `T` –∏ –¥–µ–ª–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –Ω–∏–º –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã: `int`, `long`, `bool`, `char`, —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –¥—Ä.
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ).

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```cpp
counter++;     // –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç
counter += 5;  // —Å–ª–æ–∂–µ–Ω–∏–µ
counter.store(10);   // –∑–∞–ø–∏—Å—å
int x = counter.load();  // —á—Ç–µ–Ω–∏–µ
counter.exchange(42);    // –∑–∞–º–µ–Ω–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
counter.compare_exchange_weak(expected, desired);  // CAS
```

---

## üîÅ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã `std::atomic`

| –ú–µ—Ç–æ–¥ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------|-----------|
| `.store(val)` | –ê—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ |
| `.load()` | –ê—Ç–æ–º–∞—Ä–Ω–æ —á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ |
| `.exchange(val)` | –ó–∞–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ |
| `.compare_exchange_weak(expected, desired)` | –ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ == `expected`, —Ç–æ –∑–∞–º–µ–Ω—è–µ—Ç –Ω–∞ `desired` (CAS ‚Äî Compare-And-Swap) |
| `++`, `--`, `+=` –∏ –¥—Ä. | –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤) |

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: `compare_exchange_weak`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–±–µ–∑–±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω—ã—Ö (lock-free)** —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö.

```cpp
std::atomic<int> value{0};

int expected = value.load();
while (!value.compare_exchange_weak(expected, expected + 1)) {
    // –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π –∏–∑–º–µ–Ω–∏–ª value, expected –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    // –∏ —Ü–∏–∫–ª –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è
}
// —Ç–µ–ø–µ—Ä—å value == expected + 1
```

> üîÅ –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ –≤—Ä—É—á–Ω—É—é.

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `std::atomic` –ø–µ—Ä–µ–¥ `std::mutex`

| –ö—Ä–∏—Ç–µ—Ä–∏–π | `std::atomic` | `std::mutex` |
|--------|---------------|--------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (—á–∞—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ CPU-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏) | ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–≤–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã) |
| **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏** | ‚ùå –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock-free) | ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤ | –õ—é–±–æ–π –∫–æ–¥, –±–ª–æ–∫, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω | –í—ã—Å–æ–∫–∞—è |

> üí° –ò—Å–ø–æ–ª—å–∑—É–π `std::atomic`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å **–æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é**.  
> –ò—Å–ø–æ–ª—å–∑—É–π `std::mutex`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –∏–ª–∏ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É**.

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

### 1. –ù–µ –≤—Å–µ —Ç–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
```cpp
std::atomic<std::string> s;  // ‚ùå –û—à–∏–±–∫–∞! std::string –Ω–µ –∞—Ç–æ–º–∞—Ä–µ–Ω
std::atomic<int> x;          // ‚úÖ OK
```

> –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π `std::mutex`.

---

### 2. `std::atomic` –Ω–µ –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º
```cpp
struct Data {
    int a, b;
};

std::atomic<Data> data;  // ‚ùå –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ Data ‚Äî —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –∏ lock-free
```

> –î–∞–∂–µ –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ `a` –∏ `b` **–Ω–µ –∞—Ç–æ–º–∞—Ä–Ω–æ –≤–º–µ—Å—Ç–µ**. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º—å—é—Ç–µ–∫—Å.

---

### 3. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (memory ordering)
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `std::atomic` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `memory_order_seq_cst` ‚Äî **—Å—Ç—Ä–æ–≥–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**, –Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–∞–±—ã–µ —Ä–µ–∂–∏–º—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

```cpp
counter.load(std::memory_order_relaxed);  // –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–µ–Ω—å—à–µ –≥–∞—Ä–∞–Ω—Ç–∏–π
```

> ‚ö†Ô∏è –°–ª–∞–±—ã–µ –ø–æ—Ä—è–¥–∫–∏ (`relaxed`, `acquire`, `release`) —Å–ª–æ–∂–Ω—ã –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ‚Äî –ª—É—á—à–µ –Ω–∞—á–∏–Ω–∞—Ç—å —Å `seq_cst`.

---

## üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::atomic`?

| –°–∏—Ç—É–∞—Ü–∏—è | –†–µ—à–µ–Ω–∏–µ |
|--------|--------|
| –°—á—ë—Ç—á–∏–∫ –≤—ã–∑–æ–≤–æ–≤ | ‚úÖ `std::atomic<int>` |
| –§–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è | ‚úÖ `std::atomic<bool>` |
| –£–∫–∞–∑–∞—Ç–µ–ª—å –≤ lock-free —Å—Ç–µ–∫–µ | ‚úÖ `std::atomic<Node*>` |
| –û–±—ä–µ–∫—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ | ‚ùå –õ—É—á—à–µ `std::mutex` |
| `std::string`, `std::vector` | ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é |

---

## üí° –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`std::atomic<T>` ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ —Ç–∏–ø–æ–º `T` –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏, —Ç–æ –µ—Å—Ç—å –Ω–µ–¥–µ–ª–∏–º—ã–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø—Ä–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CAS) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å lock-free –∫–æ–¥. –ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤, —Ñ–ª–∞–≥–æ–≤, —É–∫–∞–∑–∞—Ç–µ–ª–µ–π. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º—å—é—Ç–µ–∫—Å–∞ ‚Äî –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –ø—Ä–∏–º–µ–Ω–∏–º —Ç–æ–ª—å–∫–æ –∫ –ø—Ä–æ—Å—Ç—ã–º —Ç–∏–ø–∞–º.¬ª

---

## üìö –ü—Ä–∏–º–µ—Ä: —Ñ–ª–∞–≥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

```cpp
#include <iostream>
#include <thread>
#include <atomic>
#include <chrono>

std::atomic<bool> stop{false};

void worker() {
    while (!stop.load()) {
        std::cout << "Working...\n";
        std::this_thread::sleep_for(std::chrono::seconds(1));
    }
    std::cout << "Stopped.\n";
}

int main() {
    std::thread t(worker);

    std::this_thread::sleep_for(std::chrono::seconds(3));
    stop.store(true);  // —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

    t.join();
    return 0;
}
```

> ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ç–æ–∫.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ `std::atomic`**,
- –û–±—ä—è—Å–Ω–∏—Ç—å **—Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `memory_order_relaxed`, `acquire`, `release`**,
- –ü–æ–∫–∞–∑–∞—Ç—å **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é lock-free —Å—á—ë—Ç—á–∏–∫–∞**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç virtual –∏ —Ç–∞–±–ª–∏—Ü–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (vtable)?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ü–æ–Ω–∏–º–∞–Ω–∏–µ **`virtual`** –∏ **—Ç–∞–±–ª–∏—Ü—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (vtable)** ‚Äî –∫–ª—é—á –∫ –≥–ª—É–±–æ–∫–æ–º—É –ø–æ–Ω–∏–º–∞–Ω–∏—é **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞** –≤ C++. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ –ø–æ–¥—Ä–æ–±–Ω–æ, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ —Å—Ö–µ–º–∞–º–∏.

---

## üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `virtual`?

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `virtual` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ **–≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø–æ —Ç–∏–ø—É –æ–±—ä–µ–∫—Ç–∞ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (runtime)**, –∞ –Ω–µ –ø–æ —Ç–∏–ø—É —É–∫–∞–∑–∞—Ç–µ–ª—è/—Å—Å—ã–ª–∫–∏ (–∫–∞–∫ –ø—Ä–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏).

### ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:

```cpp
#include <iostream>

class Animal {
public:
    virtual void speak() {
        std::cout << "Animal speaks\n";
    }
};

class Dog : public Animal {
public:
    void speak() override {  // override ‚Äî –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
        std::cout << "Woof!\n";
    }
};

int main() {
    Animal* ptr = new Dog();
    ptr->speak();  // –í—ã–≤–æ–¥: "Woof!"
    
    delete ptr;
    return 0;
}
```

> ‚ùì –ü–æ—á–µ–º—É –≤—ã–≤–µ–ª–æ—Å—å `"Woof!"`, –∞ –Ω–µ `"Animal speaks"`?  
> –ü–æ—Ç–æ–º—É —á—Ç–æ `speak()` ‚Äî **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**, –∏ –≤—ã–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø–æ —Ä–µ–∞–ª—å–Ω–æ–º—É —Ç–∏–ø—É –æ–±—ä–µ–∫—Ç–∞ (`Dog`)**.

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º"? ‚Äî –í–≤–µ–¥–µ–Ω–∏–µ –≤ `vtable`

–ö–æ–≥–¥–∞ –≤—ã –æ–±—ä—è–≤–ª—è–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ `virtual`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç **—Ç–∞–±–ª–∏—Ü—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (vtable)** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞.

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `vtable`?
- –≠—Ç–æ **–º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏**, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º **–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∏–º–µ—é—â–µ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**.
- –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç **—Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ vtable (`vptr`)**.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ —Å `virtual`

–î–ª—è –∫–ª–∞—Å—Å–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
```cpp
class Animal {
    void* __vptr;         // –°–∫—Ä—ã—Ç—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ vtable
    std::string name;     // –í–∞—à–∏ –ø–æ–ª—è
};
```

> `__vptr` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞.

---

## üß© –ü—Ä–∏–º–µ—Ä —Å `vtable`

```cpp
class Animal {
public:
    virtual void speak() { std::cout << "Animal\n"; }
    virtual void eat()   { std::cout << "Eating\n"; }
};

class Dog : public Animal {
public:
    void speak() override { std::cout << "Woof!\n"; }
    // eat() –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è
};

class Cat : public Animal {
public:
    void speak() override { std::cout << "Meow!\n"; }
    void eat()   override { std::cout << "Cat eats fish\n"; }
};
```

### üîπ –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä?

#### 1. `vtable` –¥–ª—è `Animal`:
| –§—É–Ω–∫—Ü–∏—è       | –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞         |
|---------------|-----------------------|
| `speak()`     | `Animal::speak`       |
| `eat()`       | `Animal::eat`         |

#### 2. `vtable` –¥–ª—è `Dog`:
| –§—É–Ω–∫—Ü–∏—è       | –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞         |
|---------------|-----------------------|
| `speak()`     | `Dog::speak`          |
| `eat()`       | `Animal::eat`         | ‚Üê —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ

#### 3. `vtable` –¥–ª—è `Cat`:
| –§—É–Ω–∫—Ü–∏—è       | –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞         |
|---------------|-----------------------|
| `speak()`     | `Cat::speak`          |
| `eat()`       | `Cat::eat`            |

---

## ‚öôÔ∏è –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ `ptr->speak()`?

```cpp
Animal* ptr = new Dog();
ptr->speak();
```

–®–∞–≥–∏:
1. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤–∏–¥–∏—Ç: `ptr` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `Animal`, –Ω–æ `speak()` ‚Äî `virtual`.
2. –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
   - –ë–µ—Ä—ë—Ç—Å—è `ptr->__vptr` ‚Üí —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `vtable` –æ–±—ä–µ–∫—Ç–∞.
   - –ò–∑ `vtable` –±–µ—Ä—ë—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `speak()` (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ ‚Äî –Ω–∞ `Dog::speak`).
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
3. –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `Dog::speak()`.

> ‚úÖ –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø–æ–∑–¥–Ω–∏–º —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ–º (late binding)** –∏–ª–∏ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º**.

---

## üß± –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏?

- –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å **–Ω–∞—Å–ª–µ–¥—É–µ—Ç `vtable`**, –Ω–æ **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç** —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç.
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ ‚Äî –≤ `vtable` –æ—Å—Ç–∞—ë—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

---

## üìâ –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã

| –°—Ç–æ–∏–º–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------|
| ‚úÖ **–ü–∞–º—è—Ç—å** | –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Å `virtual` —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Ö—Ä–∞–Ω–∏—Ç `vptr` (–æ–±—ã—á–Ω–æ 8 –±–∞–π—Ç –Ω–∞ 64-–±–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ). |
| ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** | –í—ã–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∫–æ—Å–≤–µ–Ω–Ω—ã–π (—á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É), –ø–æ—ç—Ç–æ–º—É **–Ω–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ**, —á–µ–º –æ–±—ã—á–Ω—ã–π –≤—ã–∑–æ–≤. |
| ‚ùå **–ù–µ–ª—å–∑—è inlining** | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –∏–Ω–ª–∞–π–Ω–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏). |

---

## üî• –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

### 1. `virtual` —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ —Å—Å—ã–ª–æ–∫
```cpp
Dog d;
Animal& ref = d;
ref.speak();  // ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ ‚Üí "Woof!"

d.speak();    // ‚ùå –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ ‚Üí "Woof!", –Ω–æ –Ω–µ —á–µ—Ä–µ–∑ vtable
```

> –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **–∫–æ—Å–≤–µ–Ω–Ω–æ–º –≤—ã–∑–æ–≤–µ** (—á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å).

---

### 2. –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `virtual`!
```cpp
class Base {
public:
    virtual ~Base() = default;  // ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
};

class Derived : public Base {
    ~Derived() override { /* cleanup */ }
};

Base* ptr = new Derived();
delete ptr;  // –ë–µ–∑ virtual: –≤—ã–∑–æ–≤–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ ~Base!
```

> ‚ùó –ë–µ–∑ `virtual` –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ ‚Äî **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å.

---

### 3. `override` –∏ `final`
```cpp
class Dog : public Animal {
public:
    void speak() override;        // —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º
    void run()    final;          // –∑–∞–ø—Ä–µ—â–∞–µ–º –¥–∞–ª—å–Ω–µ–π—à–µ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
};

class Bulldog : public Dog {
public:
    void run() override;  // ‚ùå –û—à–∏–±–∫–∞: run() ‚Äî final
};
```

---

## üß© –ü—Ä–∏–º–µ—Ä: –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ø–∞–º—è—Ç—å

```cpp
Dog dog;
```

| –ü–∞–º—è—Ç—å –æ–±—ä–µ–∫—Ç–∞ `dog`         |
|------------------------------|
| `__vptr` ‚Üí —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `Dog`'s vtable |
| `name` (–µ—Å–ª–∏ –µ—Å—Ç—å)           |
| –¥—Ä—É–≥–∏–µ –ø–æ–ª—è                  |

---

## ‚úÖ –ò—Ç–æ–≥: –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `virtual` –∏ `vtable`

| –®–∞–≥ | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç |
|-----|----------------|
| 1 | –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `virtual` —Ñ—É–Ω–∫—Ü–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç `vtable` –¥–ª—è –∫–ª–∞—Å—Å–∞ |
| 2 | –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ `vptr` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–≤–æ—é `vtable` |
| 3 | –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `ptr->virtual_func()` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: <br> `vptr ‚Üí vtable ‚Üí –Ω—É–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è` |
| 4 | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (runtime) |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–ö–æ–≥–¥–∞ –≤ –∫–ª–∞—Å—Å–µ –µ—Å—Ç—å `virtual` —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (vtable) ‚Äî –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ `vptr`, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –Ω–∞ —Å–≤–æ—é `vtable`. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –∏–ª–∏ —Å—Å—ã–ª–∫—É, –≤—ã–∑–æ–≤ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `vptr` –∏ `vtable`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é) –≤–µ—Ä—Å–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö. –≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –¥–µ–ª–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä `virtual`, –µ—Å–ª–∏ –∫–ª–∞—Å—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Å—Ö–µ–º—É `vtable` –≤ ASCII,
- –ü—Ä–∏—Å–ª–∞—Ç—å **–∑–∞–¥–∞—á–∏ –Ω–∞ `virtual` –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**,
- –ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç `vtable` –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ (—á–µ—Ä–µ–∑ Compiler Explorer).

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ß—Ç–æ —Ç–∞–∫–æ–µ override, final?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ **`override`** –∏ **`final`** ‚Äî –≤–∞–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–∏—Å–∞—Ç—å **–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

–û–Ω–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ **C++11** (`override`) –∏ **C++11** (`final`), –∏ —è–≤–ª—è—é—Ç—Å—è **—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è** (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏, –Ω–æ –∫—Ä–∞–π–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º–∏).

---

## üîπ 1. `override` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

### ‚úÖ –ó–∞—á–µ–º –Ω—É–∂–µ–Ω?
–ß—Ç–æ–±—ã **—è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å**, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞**, –∏ **–ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –µ—Å–ª–∏ –≤—ã –æ—à–∏–±–ª–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–ø–∏—Å–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É).

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ `override`:

```cpp
class Animal {
public:
    virtual void speak() {
        std::cout << "Animal\n";
    }
};

class Dog : public Animal {
public:
    // –û–®–ò–ë–ö–ê: –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –∏–º–µ–Ω–∏ ‚Äî speak ‚Üí speek
    void speek() {  // ‚Üê –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é!
        std::cout << "Woof!\n";
    }
};
```

> üî¥ –ö–æ–¥ **—Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è**, –Ω–æ `speek()` **–Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞** –ø—Ä–∏ `ptr->speak()` ‚Äî –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**!

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ–º `override`

```cpp
class Dog : public Animal {
public:
    void speek() override {  // ‚ö†Ô∏è –û–®–ò–ë–ö–ê –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò!
        std::cout << "Woof!\n";
    }
};
```

> ‚ùå –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–∫–∞–∂–µ—Ç:
> ```
> error: 'void Dog::speek()' marked 'override', but does not override
> ```

–¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∞ **–æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –∞ –Ω–µ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

---

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```cpp
class Dog : public Animal {
public:
    void speak() override {  // ‚úÖ OK: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç
        std::cout << "Woof!\n";
    }
};
```

---

### üí° –ü—Ä–∞–≤–∏–ª–∞:
- `override` –º–æ–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å **—Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ**.
- –¢–æ–ª—å–∫–æ –¥–ª—è **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π** (–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ).
- –ù–µ –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ ‚Äî —Ç–æ–ª—å–∫–æ **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**.

---

## üîπ 2. `final` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

`final` –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫:
- **—Ñ—É–Ω–∫—Ü–∏–∏** ‚Äî –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö,
- **–∫–ª–∞—Å—Å—É** ‚Äî –Ω–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞.

---

### ‚úÖ `final` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏

```cpp
class Dog : public Animal {
public:
    void speak() override final {  // üõë –ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å speak()
        std::cout << "Woof!\n";
    }
};

class Bulldog : public Dog {
public:
    void speak() override {  // ‚ùå –û–®–ò–ë–ö–ê: speak() ‚Äî final!
        std::cout << "Bark!\n";
    }
};
```

> üî¥ –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å `final` —Ñ—É–Ω–∫—Ü–∏—é.

---

### ‚úÖ `final` –¥–ª—è –∫–ª–∞—Å—Å–∞

```cpp
class SealedClass final {
public:
    virtual void doWork() { /* ... */ }
};

class Derived : public SealedClass {  // ‚ùå –û–®–ò–ë–ö–ê!
    // –ù–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç final-–∫–ª–∞—Å—Å–∞
};
```

> üî¥ –û—à–∏–±–∫–∞: "cannot derive from 'final' class".

---

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `final`?

| –°–∏—Ç—É–∞—Ü–∏—è | –ü—Ä–∏–º–µ—Ä |
|--------|--------|
| –•–æ—á—É –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ |
| –ö–ª–∞—Å—Å ‚Äî –∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | `class JsonParser final` |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç **–∏–Ω–ª–∞–π–Ω–∏—Ç—å** –≤—ã–∑–æ–≤—ã `final` –º–µ—Ç–æ–¥–æ–≤ |
| –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è | –°–∏–Ω–≥–ª—Ç–æ–Ω, —É—Ç–∏–ª–∏—Ç—ã, –∫–æ–Ω—Ñ–∏–≥–∏ |

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `override` vs `final`

| –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –≠—Ñ—Ñ–µ–∫—Ç |
|----------------|------------------|-------|
| `override`     | –í –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ | –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ |
| `final`        | –í –ª—é–±–æ–º –∫–ª–∞—Å—Å–µ (–º–µ—Ç–æ–¥ –∏–ª–∏ –∫–ª–∞—Å—Å) | **–ó–∞–ø—Ä–µ—â–∞–µ—Ç** –¥–∞–ª—å–Ω–µ–π—à–µ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–¥–ª—è –º–µ—Ç–æ–¥–∞) –∏–ª–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–¥–ª—è –∫–ª–∞—Å—Å–∞) |

---

## üß© –ü—Ä–∏–º–µ—Ä: –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```cpp
class Animal {
public:
    virtual void speak() { std::cout << "Animal\n"; }
    virtual ~Animal() = default;
};

class Dog final : public Animal {  // üõë –ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Dog
public:
    void speak() override final {  // üõë –ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å speak()
        std::cout << "Woof!\n";
    }
};

// class Puppy : public Dog { ... }  // ‚ùå –û—à–∏–±–∫–∞: Dog ‚Äî final
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`override` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É: "—è —Ö–æ—á—É –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞". –ï—Å–ª–∏ —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—Ç ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –æ—à–∏–±–æ–∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.  
>  
> `final` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç –∫–ª–∞—Å—Å–∞. –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞. –û–±–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞ –¥–µ–ª–∞—é—Ç –∫–æ–¥ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.¬ª

---

## ‚úÖ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `override`, –∫–æ–≥–¥–∞ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ** –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `final`, –µ—Å–ª–∏ **–Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –¥–∞–ª—å–Ω–µ–π—à–µ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**.
3. ‚úÖ –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ `override final`, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —Ü–µ–ø–æ—á–∫–µ.
4. ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `final` –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã ‚Äî —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ `override` –∏ `final`**,
- –ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ `final` –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥,
- –ü—Ä–∏—Å–ª–∞—Ç—å **–ø—Ä–∏–º–µ—Ä —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –∫–ª–∞—Å—Å–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö** —Å `override`/`final`.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –†–∞—Å–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ week 2

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ù–µ–¥–µ–ª–∏ 2** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è C++**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–π **—É–º–Ω—ã–º —É–∫–∞–∑–∞—Ç–µ–ª—è–º –∏ RAII**.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++. –û—Å–≤–æ–∏–≤ –µ—ë, –≤—ã –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `new`/`delete` –≤—Ä—É—á–Ω—É—é, –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π, —É—Å—Ç–æ–π—á–∏–≤—ã–π –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º –∫–æ–¥** –∏ –ø–æ–π–º—ë—Ç–µ, –∫–∞–∫ C++ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º–∏.

---

# üìò **–ù–µ–¥–µ–ª—è 2: –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ RAII**

**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:**  
–ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏** (`std::unique_ptr`, `std::shared_ptr`, `std::weak_ptr`) –∏ –ø–æ–Ω—è—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é **RAII (Resource Acquisition Is Initialization)**. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é, –∏–∑–±–µ–≥–∞—Ç—å —É—Ç–µ—á–µ–∫ –∏ –ø–∏—Å–∞—Ç—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥.

---

## üóìÔ∏è **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º**

---

### **–î–µ–Ω—å 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ RAII –∏ Rule of Zero/Three/Five**

#### üîπ –¢–µ–º—ã:
- –ß—Ç–æ —Ç–∞–∫–æ–µ RAII?
- Rule of Zero, Three, Five
- –ü–æ—á–µ–º—É —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é ‚Äî –ø–ª–æ—Ö–æ

#### üìö –¢–µ–æ—Ä–∏—è:
**RAII (Resource Acquisition Is Initialization)** ‚Äî —ç—Ç–æ –∏–¥–∏–æ–º–∞ C++, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** (–ø–∞–º—è—Ç—å, —Ñ–∞–π–ª, —Å–æ–∫–µ—Ç) **—Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞**, –∞ **–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ ‚Äî —Å –µ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º**.

```cpp
class File {
    FILE* f;
public:
    File(const char* name) {
        f = fopen(name, "r");
        if (!f) throw std::runtime_error("Cannot open file");
    }
    ~File() {
        if (f) fclose(f);  // –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤—ã–∑–æ–≤, –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
    }
    // ...
};
```

> ‚úÖ –ï—Å–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑–æ–≤–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Üí —Ñ–∞–π–ª –∑–∞–∫—Ä–æ–µ—Ç—Å—è.

---

#### üîπ Rule of Three / Five / Zero

| –ü—Ä–∞–≤–∏–ª–æ | –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è |
|--------|------------------|
| **Rule of Three** | –ï—Å–ª–∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –æ–¥–∏–Ω –∏–∑: –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä—É—é—â–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä—É—é—â–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ |
| **Rule of Five** | –¢–æ –∂–µ, –Ω–æ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ move-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (C++11+) |
| **Rule of Zero** | –õ—É—á—à–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –≤–æ–≤—Å–µ ‚Äî –¥–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —É–º–Ω—ã–º —É–∫–∞–∑–∞—Ç–µ–ª—è–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º |

```cpp
// ‚úÖ –•–æ—Ä–æ—à–æ: Rule of Zero
class Buffer {
    std::unique_ptr<int[]> data;
    size_t size;
public:
    Buffer(size_t n) : data(std::make_unique<int[]>(n)), size(n) {}
    // –ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, move ‚Äî –≤—Å—ë –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!
};
```

> ‚ùå –ü–ª–æ—Ö–æ: —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí —Ä–∏—Å–∫ —É—Ç–µ—á–µ–∫, –æ—à–∏–±–æ–∫.

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–π–¥–∏—Ç–µ –≤ —Å—Ç–∞—Ä–æ–º –∫–æ–¥–µ –∫–ª–∞—Å—Å —Å `new`/`delete` –∏ –ø–µ—Ä–µ–ø–∏—à–∏—Ç–µ –µ–≥–æ —Å `std::unique_ptr`.
2. –û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É `std::vector` —Å–ª–µ–¥—É–µ—Ç Rule of Zero.
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `Logger`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.

---

### **–î–µ–Ω—å 2: `std::unique_ptr` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ**

#### üîπ –¢–µ–º—ã:
- `std::unique_ptr<T>` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—É—Ä—Å–∞
- –ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ `std::move`
- `std::make_unique` (C++14)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
#include <memory>

std::unique_ptr<int> ptr = std::make_unique<int>(42);
std::cout << *ptr << "\n";  // 42

// –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
// std::unique_ptr<int> ptr2 = ptr;  // ‚ùå –û—à–∏–±–∫–∞

// –ù–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ
std::unique_ptr<int> ptr2 = std::move(ptr);  // ‚úÖ OK
// –¢–µ–ø–µ—Ä—å ptr == nullptr, ptr2 –≤–ª–∞–¥–µ–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º
```

```cpp
// make_unique ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω–µ–µ
auto ptr = std::make_unique<Widget>(arg1, arg2);
// –õ—É—á—à–µ, —á–µ–º: std::unique_ptr<Widget>(new Widget(arg1, arg2))
// (–∏–∑–±–µ–≥–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ –≤ arg2)
```

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –°–æ–∑–¥–∞–π—Ç–µ `std::unique_ptr<BankAccount>` –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–≥–æ –≤ —Ñ—É–Ω–∫—Ü–∏—é.
2. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é `std::unique_ptr<Shape>`.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å `std::unique_ptr<Node>`.

---

### **–î–µ–Ω—å 3: `std::shared_ptr` –∏ `std::weak_ptr` ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ**

#### üîπ –¢–µ–º—ã:
- `std::shared_ptr<T>` ‚Äî –≤–ª–∞–¥–µ–Ω–∏–µ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫
- `std::weak_ptr<T>` ‚Äî –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫, —Ä–µ—à–∞–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
- `std::make_shared`

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
auto ptr1 = std::make_shared<int>(100);
std::shared_ptr<int> ptr2 = ptr1;  // —Å—á—ë—Ç—á–∏–∫ = 2

std::cout << *ptr1 << "\n";        // 100
std::cout << ptr1.use_count() << "\n";  // 2
```

```cpp
// weak_ptr ‚Äî –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫
std::weak_ptr<int> weak = ptr1;
if (auto locked = weak.lock()) {  // –ø—Ä–æ–≤–µ—Ä—è–µ–º, –∂–∏–≤ –ª–∏ –æ–±—ä–µ–∫—Ç
    std::cout << *locked << "\n";
} else {
    std::cout << "Object destroyed\n";
}
```

> üîÅ **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ ‚Äî –ø—Ä–æ–±–ª–µ–º–∞:**
```cpp
struct Node {
    std::shared_ptr<Node> parent;
    std::shared_ptr<Node> child;
};
// –ï—Å–ª–∏ parent –∏ child —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ ‚Äî —Å—á—ë—Ç—á–∏–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–∞–Ω–µ—Ç 0!
```

> ‚úÖ –†–µ—à–µ–Ω–∏–µ: –æ–¥–∏–Ω –∏–∑ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π ‚Äî `std::weak_ptr`.

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å `std::shared_ptr` –∏ `std::weak_ptr`.
2. –ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å `Observer`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `std::weak_ptr`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–∫–∏.
3. –°–æ–∑–¥–∞–π—Ç–µ `std::shared_ptr`, —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ (—Å `mutable` –∏ –º—å—é—Ç–µ–∫—Å–æ–º).

---

### **–î–µ–Ω—å 4: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –∞–Ω–∞–ª–∏–∑ —Å Valgrind / AddressSanitizer**

#### üîπ –¢–µ–º—ã:
- –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏?
- –ö–∞–∫ –Ω–∞–π—Ç–∏ —É—Ç–µ—á–∫–∏?
- Valgrind (Linux), AddressSanitizer (–≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
void leak() {
    int* p = new int(42);  // ‚ùå –£—Ç–µ—á–∫–∞: –Ω–µ—Ç delete
    return;  // p —Ç–µ—Ä—è–µ—Ç—Å—è
}
```

> üîç –ö–∞–∫ –Ω–∞–π—Ç–∏:
- **Valgrind** (Linux): `valgrind --leak-check=full ./program`
- **AddressSanitizer** (Clang/GCC): `-fsanitize=address`
- **Visual Studio**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä —É—Ç–µ—á–µ–∫

```bash
g++ -fsanitize=address -g main.cpp -o main
./main  # ASan –ø–æ–∫–∞–∂–µ—Ç —É—Ç–µ—á–∫—É —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π
```

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥ —Å —É—Ç–µ—á–∫–æ–π –∏ –Ω–∞–π–¥–∏—Ç–µ –µ—ë —á–µ—Ä–µ–∑ AddressSanitizer.
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É `shared_ptr`.
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —Å `new`/`delete` –∏ –Ω–∞–π–¥–∏—Ç–µ `use-after-free`.

---

### **–î–µ–Ω—å 5: RAII –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**

#### üîπ –¢–µ–º—ã:
- RAII –¥–ª—è —Ñ–∞–π–ª–æ–≤, —Å–æ–∫–µ—Ç–æ–≤, –º—å—é—Ç–µ–∫—Å–æ–≤
- RAII-–æ–±—ë—Ä—Ç–∫–∏: `lock_guard`, `fstream`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ RAII-–∫–ª–∞—Å—Å—ã

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// RAII –¥–ª—è –º—å—é—Ç–µ–∫—Å–∞
std::mutex mtx;
{
    std::lock_guard<std::mutex> lock(mtx);  // –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç
    // ... –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥
} // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
```

```cpp
// RAII –¥–ª—è —Ñ–∞–π–ª–∞
{
    std::ofstream file("log.txt");
    file << "Hello\n";
} // —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```

```cpp
// –°–≤–æ–π RAII-–∫–ª–∞—Å—Å
class Timer {
    std::chrono::steady_clock::time_point start;
public:
    Timer() : start(std::chrono::steady_clock::now()) {}
    ~Timer() {
        auto end = std::chrono::steady_clock::now();
        std::cout << "Time: "
                  << std::chrono::duration_cast<std::chrono::microseconds>(end - start).count()
                  << " Œºs\n";
    }
};

void slow_function() {
    Timer t;  // –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏
    std::this_thread::sleep_for(std::chrono::milliseconds(100));
} // –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ ‚Äî –≤—ã–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏
```

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ RAII-–æ–±—ë—Ä—Ç–∫—É –¥–ª—è `FILE*` (C-style —Ñ–∞–π–ª).
2. –°–æ–∑–¥–∞–π—Ç–µ `ConnectionGuard` –¥–ª—è —Å–æ–∫–µ—Ç–∞.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `ScopedTimer` —Å –≤—ã–≤–æ–¥–æ–º –≤ `std::ostream`.

---

### **–î–µ–Ω—å 6: Rule of Zero ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω**

#### üîπ –¢–µ–º—ã:
- –ö–∞–∫ –ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å—ã, –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ move
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ STL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ö–æ–≥–¥–∞ –≤—Å—ë-—Ç–∞–∫–∏ –Ω—É–∂–Ω–æ `= default` –∏–ª–∏ `= delete`

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
class MyClass {
    std::unique_ptr<int[]> data;
    std::string name;
    std::vector<double> values;

public:
    MyClass(size_t n, const std::string& s)
        : data(std::make_unique<int[]>(n)), name(s) {}

    // –ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å:
    // ~MyClass() ‚Äî unique_ptr —Å–∞–º —É–¥–∞–ª–∏—Ç
    // MyClass(const MyClass&) ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–ø–∏—Ä—É–µ—Ç name –∏ values, data ‚Äî –æ—à–∏–±–∫–∞ (unique_ptr –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
    // –ù–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
    MyClass(const MyClass&) = delete;             // –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    MyClass(MyClass&&) = default;                 // —Ä–∞–∑—Ä–µ—à–∏—Ç—å move
    MyClass& operator=(MyClass&&) = default;
};
```

> ‚úÖ Rule of Zero: –¥–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ STL.

---

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å —Å `int*` –Ω–∞ `std::unique_ptr<int[]>`.
2. –î–æ–±–∞–≤—å—Ç–µ `= delete` –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ.
3. –°–æ–∑–¥–∞–π—Ç–µ `Container`, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç `std::vector<std::unique_ptr<Object>>`.

---

### **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**

#### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **"–°–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä"**

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ö–ª–∞—Å—Å `SafeArray<T>`, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–∞—Å—Å–∏–≤–æ–º —á–µ—Ä–µ–∑ `std::unique_ptr`.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
  - `push_back(T value)`
  - `at(size_t i)` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
  - `size()`, `empty()`
  - Move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞ (move constructor, move assignment)
- –ù–µ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å, –ª–∏–±–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
- RAII: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `std::unique_ptr`
- –°–ª–µ–¥—É–µ—Ç Rule of Zero/Five
- –ò–º–µ–µ—Ç –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–æ–∫—Ä—ã—Ç –ø—Ä–æ—Å—Ç—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏

---

#### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:

```cpp
#include <iostream>
#include <memory>
#include <stdexcept>

template <typename T>
class SafeArray {
    std::unique_ptr<T[]> data;
    size_t sz;
    size_t capacity;

    void grow() {
        capacity = capacity == 0 ? 1 : capacity * 2;
        std::unique_ptr<T[]> new_data = std::make_unique<T[]>(capacity);
        for (size_t i = 0; i < sz; ++i) {
            new_data[i] = std::move(data[i]);
        }
        data = std::move(new_data);
    }

public:
    explicit SafeArray(size_t cap = 10) : data(std::make_unique<T[]>(cap)), sz(0), capacity(cap) {}

    void push_back(const T& value) {
        if (sz >= capacity) grow();
        data[sz++] = value;
    }

    T& at(size_t i) {
        if (i >= sz) throw std::out_of_range("Index out of range");
        return data[i];
    }

    const T& at(size_t i) const {
        if (i >= sz) throw std::out_of_range("Index out of range");
        return data[i];
    }

    size_t size() const { return sz; }
    bool empty() const { return sz == 0; }

    // Rule of Five
    ~SafeArray() = default;
    SafeArray(const SafeArray&) = delete;              // –∑–∞–ø—Ä–µ—â–∞–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    SafeArray& operator=(const SafeArray&) = delete;
    SafeArray(SafeArray&&) = default;                  // —Ä–∞–∑—Ä–µ—à–∞–µ–º move
    SafeArray& operator=(SafeArray&&) = default;
};

int main() {
    SafeArray<int> arr;
    arr.push_back(10);
    arr.push_back(20);
    std::cout << arr.at(0) << ", " << arr.at(1) << "\n";  // 10, 20
    return 0;
}
```

---

## üìö **–†–µ—Å—É—Ä—Å—ã –¥–ª—è —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏**

- **–ö–Ω–∏–≥–∞:** *¬´Effective Modern C++¬ª* ‚Äî Scott Meyers (Item 18‚Äì21)
- **–í–∏–¥–µ–æ:** *CppCon ‚Äî "Back to the Basics: RAII and the Rule of the Big Five"*
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
  - [Compiler Explorer (godbolt.org)](https://godbolt.org) ‚Äî —Å AddressSanitizer
  - Valgrind: `valgrind --tool=memcheck --leak-check=full ./program`

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –ø–æ –∏—Ç–æ–≥–∞–º –Ω–µ–¥–µ–ª–∏**

–í—ã –≥–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ, –µ—Å–ª–∏ –º–æ–∂–µ—Ç–µ:

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ RAII –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::unique_ptr`, `std::shared_ptr`, `std::weak_ptr`
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –Ω–∏–º–∏
- [ ] –ü–∏—Å–∞—Ç—å –∫–æ–¥ –±–µ–∑ `new`/`delete`
- [ ] –û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å —É—Ç–µ—á–∫–∏ —Å AddressSanitizer
- [ ] –°–ª–µ–¥–æ–≤–∞—Ç—å Rule of Zero
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π RAII-–∫–ª–∞—Å—Å
- [ ] –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ `std::weak_ptr`

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **—Ç–µ—Å—Ç –∏–∑ 10 –≤–æ–ø—Ä–æ—Å–æ–≤** –ø–æ —É–º–Ω—ã–º —É–∫–∞–∑–∞—Ç–µ–ª—è–º,
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å **–ù–µ–¥–µ–ª–∏ 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –ü—Ä–æ–¥–æ–ª–∂–∏ —Å **–ù–µ–¥–µ–ª–∏ 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**.

–û—Ç–ª–∏—á–Ω–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π C++**.

---

# üìò **–ù–µ–¥–µ–ª—è 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏**, –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã **SFINAE**, **variadic templates** –∏ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—à–∞–±–ª–æ–Ω–Ω–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (TMP)**.

---

## üóìÔ∏è **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –¥–Ω—è–º**

---

### **–î–µ–Ω—å 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω—ã (—Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã)**

#### üîπ –¢–µ–º—ã:
- –®–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –®–∞–±–ª–æ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- –Ø–≤–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ (`T`, `auto`)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –®–∞–±–ª–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
template <typename T>
T max(T a, T b) {
    return (a > b) ? a : b;
}

int x = max(3, 5);        // T = int
double y = max(3.14, 2.7); // T = double
```

```cpp
// –®–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å
template <typename T, size_t N>
class Array {
    T data[N];
public:
    T& operator[](size_t i) { return data[i]; }
    size_t size() const { return N; }
};

Array<int, 10> arr;  // –º–∞—Å—Å–∏–≤ –∏–∑ 10 int
```

```cpp
// –Ø–≤–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
template <>
std::string max<std::string>(std::string a, std::string b) {
    return a.length() > b.length() ? a : b;
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `swap(T&, T&)`.
2. –°–æ–∑–¥–∞–π—Ç–µ `Pair<T1, T2>` —Å –ø–æ–ª—è–º–∏ `first`, `second`.
3. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ `Pair<int, int>` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `operator+`.

---

### **–î–µ–Ω—å 2: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ (—á–∞—Å—Ç–∏—á–Ω–∞—è –∏ –ø–æ–ª–Ω–∞—è)**

#### üîπ –¢–µ–º—ã:
- –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤)
- –ö–æ–≥–¥–∞ –∏ –∑–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
template <>
class Array<bool, 10> {
    // –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî –±–∏—Ç—ã
    uint32_t bits;
    // ...
};
```

```cpp
// –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
template <typename T>
class Array<T, 0> {  // –º–∞—Å—Å–∏–≤ "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ" —Ä–∞–∑–º–µ—Ä–∞
    std::vector<T> data;
public:
    void push_back(const T& x) { data.push_back(x); }
};
```

```cpp
// –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é
template <typename T>
class Wrapper<T*> {
    T* ptr;
public:
    void release() { delete ptr; }
};
```

> ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É.

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –°–æ–∑–¥–∞–π—Ç–µ `SmartPointer<T>` –∏ —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–ª—è `T[]`.
2. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ `Array<std::string, N>` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
3. –ù–∞–ø–∏—à–∏—Ç–µ `is_pointer<T>` —á–µ—Ä–µ–∑ –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é.

---

### **–î–µ–Ω—å 3: Variadic Templates (—à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)**

#### üîπ –¢–µ–º—ã:
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞–∫–µ—Ç—ã (`T... Args`)
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `...`
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –ü–µ—á–∞—Ç—å –≤—Å–µ—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
template <typename T>
void print(T value) {
    std::cout << value << "\n";
}

template <typename T, typename... Args>
void print(T first, Args... args) {
    std::cout << first << ", ";
    print(args...);  // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
}

print(1, "hello", 3.14, 'x');  // 1, hello, 3.14, x
```

```cpp
// –ö–æ—Ä—Ç–µ–∂ —Å –ø–æ–º–æ—â—å—é variadic templates
template <typename... Args>
void log(const std::string& msg, Args... args) {
    std::cout << "[LOG] " << msg << ": ";
    print(args...);
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ `sum(1, 2, 3)` ‚Üí `6`.
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `make_array(1, 2.5, "hi")` ‚Üí `std::array<std::variant<...>, 3>`.
3. –°–æ–∑–¥–∞–π—Ç–µ `Timer` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤: `time_call("func", arg1, arg2)`.

---

### **–î–µ–Ω—å 4: SFINAE –∏ `std::enable_if`**

#### üîπ –¢–µ–º—ã:
- –ß—Ç–æ —Ç–∞–∫–æ–µ SFINAE (Substitution Failure Is Not An Error)?
- `std::enable_if` ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ/–∏—Å–∫–ª—é—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–π—Å—Ç–≤ —Ç–∏–ø–æ–≤ (`std::is_integral`, `std::is_floating_point`)

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –¢–æ–ª—å–∫–æ –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
template <typename T>
typename std::enable_if<std::is_integral_v<T>, T>::type
    abs(T x) {
    return x < 0 ? -x : x;
}

// C++14: –∫–æ—Ä–æ—á–µ
template <typename T>
std::enable_if_t<std::is_floating_point_v<T>, T>
    abs(T x) {
    return x < 0 ? -x : x;
}
```

```cpp
// –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Å SFINAE
template <typename T>
auto get_size(const T& container) -> decltype(container.size()) {
    return container.size();  // —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è vector, string –∏ —Ç.–¥.
}

template <typename T, size_t N>
constexpr size_t get_size(T (&)[N]) {
    return N;  // —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è C-–º–∞—Å—Å–∏–≤–æ–≤
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ `is_addable<T, U>`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π, –º–æ–∂–Ω–æ –ª–∏ `T + U`.
2. –°–æ–∑–¥–∞–π—Ç–µ `print_if_container`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `safe_divide`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π `std::optional`, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤.

---

### **–î–µ–Ω—å 5: –®–∞–±–ª–æ–Ω–Ω–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (TMP)**

#### üîπ –¢–µ–º—ã:
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- `constexpr` vs TMP

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –§–∞–∫—Ç–æ—Ä–∏–∞–ª —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω—ã
template <int N>
struct Factorial {
    static constexpr int value = N * Factorial<N-1>::value;
};

template <>
struct Factorial<0> {
    static constexpr int value = 1;
};

constexpr int f5 = Factorial<5>::value;  // 120
```

```cpp
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—ë—Ç–Ω–æ—Å—Ç–∏
template <int N>
struct is_even {
    static constexpr bool value = (N % 2 == 0);
};
```

> ‚ö†Ô∏è –í C++14+ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `constexpr`, –Ω–æ TMP –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –∏ —Ç–∏–ø–æ–≤.

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ `Fibonacci<N>`.
2. –°–æ–∑–¥–∞–π—Ç–µ `static_assert(is_even<4>::value)`.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `Power<2, 5>::value` ‚Üí `32`.

---

### **–î–µ–Ω—å 6: `decltype`, `declval`, `void_t`**

#### üîπ –¢–µ–º—ã:
- `decltype(expr)` ‚Äî —Ç–∏–ø –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- `std::declval<T>()` ‚Äî "–ø—Å–µ–≤–¥–æ-–æ–±—ä–µ–∫—Ç" –¥–ª—è SFINAE
- `std::void_t` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π

#### üìö –¢–µ–æ—Ä–∏—è:
```cpp
// –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –º–µ—Ç–æ–¥ .size()
template <typename T, typename = void>
struct has_size : std::false_type {};

template <typename T>
struct has_size<T, std::void_t<decltype(std::declval<T>().size())>> : std::true_type {};

static_assert(has_size<std::vector<int>>::value);
static_assert(!has_size<int>::value);
```

```cpp
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ enable_if
template <typename T>
std::enable_if_t<has_size<T>::value, void>
    print_size(const T& obj) {
    std::cout << obj.size() << "\n";
}
```

#### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
1. –ù–∞–ø–∏—à–∏—Ç–µ `has_push_back<T>`.
2. –°–æ–∑–¥–∞–π—Ç–µ `has_member_function<T, void(int), &T::process>`.
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ `is_iterable<T>` —á–µ—Ä–µ–∑ `std::void_t`.

---

### **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî `Variant` –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö**

#### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **`SimpleVariant`**

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ `std::variant` —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–æ–≤, variadic templates –∏ SFINAE.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `SimpleVariant<int, std::string, double>`
- `emplace<T>(value)`
- `get<T>()` ‚Äî —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–∞
- `holds_alternative<T>()`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `std::visit` (–±–∞–∑–æ–≤–æ)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å variadic templates
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ move-—Å–µ–º–∞–Ω—Ç–∏–∫–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤

---

#### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):

```cpp
#include <iostream>
#include <string>
#include <type_traits>

template <typename... Types>
class SimpleVariant;

// –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
template <typename T, typename... Rest>
class SimpleVariant<T, Rest...> {
    union {
        T value;
        SimpleVariant<Rest...> rest;
    };
    bool holds_first = false;

public:
    template <typename U>
    void emplace(U&& u) {
        if constexpr (std::is_same_v<std::decay_t<U>, T>) {
            new (&value) T(std::forward<U>(u));
            holds_first = true;
        } else {
            rest.emplace(std::forward<U>(u));
            holds_first = false;
        }
    }

    template <typename U>
    U& get() {
        if constexpr (std::is_same_v<U, T>) {
            if (!holds_first) throw std::bad_variant_access();
            return value;
        } else {
            return rest.template get<U>();
        }
    }

    template <typename U>
    bool holds_alternative() const {
        if constexpr (std::is_same_v<U, T>) {
            return holds_first;
        } else {
            return !holds_first && rest.template holds_alternative<U>();
        }
    }

    ~SimpleVariant() {
        if (holds_first) value.~T();
        else rest.~SimpleVariant<Rest...>();
    }
};

// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞
template <typename T>
class SimpleVariant<T> {
    T value;
public:
    template <typename U>
    void emplace(U&& u) {
        value = std::forward<U>(u);
    }

    template <typename U>
    U& get() {
        static_assert(std::is_same_v<U, T>);
        return value;
    }

    template <typename U>
    bool holds_alternative() const {
        return std::is_same_v<U, T>;
    }
};
```

> üí° –≠—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ `std::variant` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏.

---

## üìö **–†–µ—Å—É—Ä—Å—ã –¥–ª—è —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏**

- **–ö–Ω–∏–≥–∞:** *¬´C++ Templates: The Complete Guide¬ª* ‚Äî –î. –î–∂–æ—Å—É—Ç–∏—Å, –î. –í–∞–Ω–¥–µ–≤—É—Ä–¥–µ
- **–í–∏–¥–µ–æ:** *CppCon ‚Äî "Template Metaprogramming is Serious Business"*
- **–°–∞–π—Ç:** [https://en.cppreference.com](https://en.cppreference.com) ‚Äî `std::enable_if`, `std::void_t`, `std::declval`

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –ø–æ –∏—Ç–æ–≥–∞–º –Ω–µ–¥–µ–ª–∏**

–í—ã –≥–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ, –µ—Å–ª–∏ –º–æ–∂–µ—Ç–µ:

- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –∫–ª–∞—Å—Å
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `variadic templates` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å `std::enable_if` –∏ SFINAE
- [ ] –ü–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::void_t`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Factorial<N>`)
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `enable_if` –∏ `concepts` (–ø–æ–∫–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏)

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)** ‚Äî –∑–∞–º–µ–Ω–∞ SFINAE, –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ —à–∞–±–ª–æ–Ω–∞–º** —Å —Ä–µ—à–µ–Ω–∏—è–º–∏,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–î–∞, —Ö–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 4"**.


# –†–∞–∑–≤–µ—Ä–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 3 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**, —Å **–∫—Ä–∞—Ç–∫–∏–º, –Ω–æ —ë–º–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º. –≠—Ç–∞ –Ω–µ–¥–µ–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –≤—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª–∏ –æ—Ç –æ—Å–Ω–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤ –∫ —Å–ª–æ–∂–Ω—ã–º —Ç–µ—Ö–Ω–∏–∫–∞–º –≤—Ä–æ–¥–µ SFINAE –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

---

# üìò **–ù–µ–¥–µ–ª—è 3: –®–∞–±–ª–æ–Ω—ã –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–¥—Ä–æ–±–Ω–æ)**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**, –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —à–∞–±–ª–æ–Ω–∞–º–∏, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—à–∞–±–ª–æ–Ω–Ω–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (TMP)** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω—ã**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ —à–∞–±–ª–æ–Ω—ã?

–®–∞–±–ª–æ–Ω—ã ‚Äî —ç—Ç–æ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±–æ–±—â—ë–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è** –≤ C++. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥, **–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤**.

- **–®–∞–±–ª–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏.
- **–®–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å** ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ—Ç–¥–µ–ª—å–Ω–æ.
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
template <typename T>
T max(T a, T b) {
    return a > b ? a : b;
}

int x = max(3, 5);        // T = int
double y = max(3.14, 2.7); // T = double
```

### üîë –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è:
- `template <typename T>` –∏–ª–∏ `template <class T>` ‚Äî —Å–∏–Ω–æ–Ω–∏–º—ã.
- `T` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —à–∞–±–ª–æ–Ω–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∏–ø–æ–º, –∑–Ω–∞—á–µ–Ω–∏–µ–º, —à–∞–±–ª–æ–Ω–æ–º).
- **–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è —Ç–∏–ø–∞.

---

## üóìÔ∏è **–î–µ–Ω—å 2: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–æ–ª–Ω–∞—è –∏ —á–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ–∑–≤–æ–ª—è–µ—Ç **–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–ª–∏ —É—Å–ª–æ–≤–∏–π**.

#### 1. **–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
–ó–∞–º–µ–Ω—è–µ—Ç —à–∞–±–ª–æ–Ω **–ø–æ–ª–Ω–æ—Å—Ç—å—é** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```cpp
template <typename T>
struct Info { static void print() { std::cout << "General\n"; } };

// –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è int
template <>
struct Info<int> { static void print() { std::cout << "Integer!\n"; } };
```

#### 2. **–ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
–†–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤**, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è **–ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ —É—Å–ª–æ–≤–∏–π**.

```cpp
template <typename T>
struct Info<T*> {  // –¥–ª—è –≤—Å–µ—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
    static void print() { std::cout << "Pointer!\n"; }
};
```

> ‚ùå –ù–µ–ª—å–∑—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É.

---

## üóìÔ∏è **–î–µ–Ω—å 3: Variadic Templates (—à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)**

### üîπ –¢–µ–æ—Ä–∏—è: `T... Args` ‚Äî –ø–∞–∫–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ **–ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞**.

- `Args...` ‚Äî –ø–∞–∫–µ—Ç —Ç–∏–ø–æ–≤.
- `args...` ‚Äî –ø–∞–∫–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π.
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∞: `func(args...)` ‚Üí –≤—ã–∑–æ–≤ —Å –∫–∞–∂–¥—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø–µ—á–∞—Ç—å
```cpp
template <typename T>
void print(T value) {
    std::cout << value << "\n";
}

template <typename T, typename... Args>
void print(T first, Args... args) {
    std::cout << first << " ";
    print(args...);  // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ–º –ø–∞–∫–µ—Ç
}

print(1, "hello", 3.14);  // 1 hello 3.14
```

### üîë –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ,
- –§–∞–±—Ä–∏–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤,
- –û–±—ë—Ä—Ç–∫–∏ –≤–æ–∫—Ä—É–≥ –≤—ã–∑–æ–≤–æ–≤ (`std::make_tuple`, `std::forward`).

---

## üóìÔ∏è **–î–µ–Ω—å 4: SFINAE –∏ `std::enable_if`**

### üîπ –¢–µ–æ—Ä–∏—è: SFINAE ‚Äî "–û—à–∏–±–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –Ω–µ –æ—à–∏–±–∫–∞"

**SFINAE (Substitution Failure Is Not An Error)** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **–æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–∏–ø–∞ –≤ —à–∞–±–ª–æ–Ω –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –∞ –ø—Ä–æ—Å—Ç–æ **–∏—Å–∫–ª—é—á–∞–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è**.

#### `std::enable_if` ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SFINAE

```cpp
template <bool B, typename T = void>
struct enable_if {};

template <typename T>
struct enable_if<true, T> { using type = T; };
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ –¥–ª—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
```cpp
template <typename T>
typename std::enable_if<std::is_integral_v<T>, T>::type
    abs(T x) {
    return x < 0 ? -x : x;
}
```

> üîç –ï—Å–ª–∏ `T` ‚Äî –Ω–µ —Ü–µ–ª–æ–µ, `enable_if<false, T>::type` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è ‚Üí SFINAE ‚Üí –¥—Ä—É–≥–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞.

### üîë –ê–Ω–∞–ª–æ–≥ –≤ C++20: `concepts` ‚Äî —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

---

## üóìÔ∏è **–î–µ–Ω—å 5: –®–∞–±–ª–æ–Ω–Ω–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (TMP)**

### üîπ –¢–µ–æ—Ä–∏—è: –í—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º, –∫–æ—Ç–æ—Ä—ã–µ **–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏**. –í C++ —ç—Ç–æ ‚Äî **–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–æ–≤**.

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∫—É—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–æ–≤.
- –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî `constexpr` –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ —Ç–∏–ø—ã.
- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```cpp
template <int N>
struct Factorial {
    static constexpr int value = N * Factorial<N - 1>::value;
};

template <>
struct Factorial<0> {
    static constexpr int value = 1;
};

constexpr int result = Factorial<5>::value;  // 120
```

> ‚ö†Ô∏è –í C++14+ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `constexpr` —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ TMP –æ—Å—Ç–∞—ë—Ç—Å—è –º–æ—â–Ω—ã–º –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–æ–≤.

---

## üóìÔ∏è **–î–µ–Ω—å 6: `decltype`, `declval`, `void_t`**

### üîπ –¢–µ–æ—Ä–∏—è: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

#### 1. `decltype(expr)`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

```cpp
int x = 5;
decltype(x) y = 10;  // y ‚Äî int
```

#### 2. `std::declval<T>()`
–ü–æ–∑–≤–æ–ª—è–µ—Ç "—Å–æ–∑–¥–∞—Ç—å" –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `T` –±–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `decltype` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π.

```cpp
decltype(std::declval<T>().size())
```

#### 3. `std::void_t<...>`
–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –≤ `void`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π**.

```cpp
template <typename T, typename = void>
struct has_size : std::false_type {};

template <typename T>
struct has_size<T, std::void_t<decltype(std::declval<T>().size())>> : std::true_type {};
```

> ‚úÖ –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è **–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤/—á–ª–µ–Ω–æ–≤**.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî `SimpleVariant`**

### üîπ –¶–µ–ª—å:
–°–æ–∑–¥–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ `std::variant`, –∏—Å–ø–æ–ª—å–∑—É—è:
- Variadic templates,
- –†–µ–∫—É—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–æ–≤,
- SFINAE/–ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤,
- RAII –∏ move-—Å–µ–º–∞–Ω—Ç–∏–∫—É.

### üîπ –†–µ–∞–ª–∏–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `emplace<T>(value)` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏.
- `get<T>()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π).
- `holds_alternative<T>()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–∏ —Ç–∏–ø.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤: `SimpleVariant<int, std::string, double>`.

### üîπ –£—á–µ–±–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç `std::variant`, `std::tuple`.
- –ü—Ä–∞–∫—Ç–∏–∫–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.
- –ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤–ª–∞–¥–µ–Ω–∏—è –∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ |
|---------|------------|
| **–®–∞–±–ª–æ–Ω—ã** | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ |
| **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ |
| **Variadic templates** | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| **SFINAE + enable_if** | –£—Å–ª–æ–≤–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ |
| **TMP** | –í—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| **`void_t`, `declval`** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–µ—Ç–æ–¥–æ–≤, –æ–ø–µ—Ä–∞—Ü–∏–π, —á–ª–µ–Ω–æ–≤ |

---

## üìö **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `typename` –≤ —à–∞–±–ª–æ–Ω–∞—Ö, –∫–æ–≥–¥–∞ `T` ‚Äî –∑–∞–≤–∏—Å–∏–º—ã–π —Ç–∏–ø.
2. ‚úÖ –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ `auto` –∏ `constexpr` TMP, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ.
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `static_assert` –¥–ª—è –ø–æ–Ω—è—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫.
4. ‚úÖ –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö SFINAE ‚Äî –≤ C++20 –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `concepts`.
5. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (—Å–∫–∞–ª—è—Ä—ã, –∫–ª–∞—Å—Å—ã, —É–∫–∞–∑–∞—Ç–µ–ª–∏).

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –∫–ª–∞—Å—Å
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `...` –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å `std::enable_if` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é `std::void_t`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Factorial<N>`)
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç SFINAE

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SFINAE, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã **—á–∏—Ç–∞–µ–º—ã–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏**.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF-–≤–µ—Ä—Å–∏—é —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á —Å —Ä–µ—à–µ–Ω–∏—è–º–∏** –ø–æ —à–∞–±–ª–æ–Ω–∞–º,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 4"**.


# –†–∞–∑–≤–µ—Ä–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 4 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)** —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π. –≠—Ç–∞ –Ω–µ–¥–µ–ª—è –ø–æ—Å–≤—è—â–µ–Ω–∞ **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–µ SFINAE** ‚Äî –º–æ—â–Ω–æ–π –∏ —á–∏—Ç–∞–µ–º–æ–π —Å–∏—Å—Ç–µ–º–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ç–∏–ø–æ–≤ –≤ C++20.

---

# üìò **–ù–µ–¥–µ–ª—è 4: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20) ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ó–∞–º–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ `std::enable_if` –∏ SFINAE –Ω–∞ **–ø–æ–Ω—è—Ç–Ω—ã–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã (concepts)**. –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å **—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã** —Å **—è—Å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã?

**–ö–æ–Ω—Ü–µ–ø—Ç (concept)** ‚Äî —ç—Ç–æ **–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –Ω–∞ —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä**, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —à–∞–±–ª–æ–Ω–µ.

> ‚úÖ –î–æ C++20: –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ SFINAE / `enable_if` ‚Üí —Å–ª–æ–∂–Ω—ã–µ, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏.  
> ‚úÖ –° C++20: **`template <Integral T>`** ‚Üí –ø–æ–Ω—è—Ç–Ω–æ, —á–∏—Ç–∞–µ–º–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ.

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** (–Ω–µ 100 —Å—Ç—Ä–æ–∫ SFINAE).
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞**.
- **–†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**.
- **–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
template <typename T>
concept Integral = std::is_integral_v<T>;

template <Integral T>
T add(T a, T b) {
    return a + b;
}

add(3, 5);     // OK
add(3.5, 2.1); // –û—à–∏–±–∫–∞: double –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç Integral
```

> üîç –û—à–∏–±–∫–∞:  
> `error: constraints not satisfied` ‚Äî —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, –≤ —á—ë–º –¥–µ–ª–æ.

---

## üóìÔ∏è **–î–µ–Ω—å 2: –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –æ–±—ä—è–≤–ª—è—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç—ã

–ö–æ–Ω—Ü–µ–ø—Ç –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `concept` –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–∏—Å—Ç–∏–Ω–Ω—ã–º** –¥–ª—è –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤.

### –§–æ—Ä–º—ã:
```cpp
template <typename T>
concept –ò–º—è = –ª–æ–≥–∏—á–µ—Å–∫–æ–µ_–≤—ã—Ä–∞–∂–µ–Ω–∏–µ;
```

### –ü—Ä–∏–º–µ—Ä—ã:

#### 1. –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ü–µ–ø—Ç
```cpp
template <typename T>
concept FloatingPoint = std::is_floating_point_v<T>;
```

#### 2. –ß–µ—Ä–µ–∑ `requires`
```cpp
template <typename T>
concept Addable = requires(T a, T b) {
    a + b;  // –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º
};
```

#### 3. –° –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º —Ç–∏–ø–æ–º
```cpp
template <typename T>
concept Printable = requires(T t) {
    std::cout << t;
};
```

---

## üóìÔ∏è **–î–µ–Ω—å 3: `requires`-–≤—ã—Ä–∞–∂–µ–Ω–∏—è ‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤ `requires`?

`requires` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- **–°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—ã—Ä–∞–∂–µ–Ω–∏–π**,
- **–¢–∏–ø—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**,
- **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**.

### –í–∏–¥—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

#### 1. **–ü—Ä–æ—Å—Ç–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ**
```cpp
requires(T a) { a + a; }
```

#### 2. **–¢–∏–ø–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ**
```cpp
requires { typename T::value_type; }
```

#### 3. **–°–æ—Å—Ç–∞–≤–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ**
```cpp
requires(T a) { { a++ } -> std::same_as<T>; }
```
> –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ `a++` –≤–∞–ª–∏–¥–Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `T`.

#### 4. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
```cpp
template <typename T>
concept RandomAccess = Bidirectional<T> && requires(T a) {
    { a + 1 } -> std::integral;
};
```

---

## üóìÔ∏è **–î–µ–Ω—å 4: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)**

### üîπ –¢–µ–æ—Ä–∏—è: –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã –∏–∑ `<concepts>`

C++20 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω—É–∂–¥.

| –ö–æ–Ω—Ü–µ–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|
| `std::integral<T>` | –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã |
| `std::floating_point<T>` | `float`, `double` –∏ —Ç.–¥. |
| `std::default_constructible<T>` | –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `T{}` |
| `std::copyable<T>` | –ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å |
| `std::movable<T>` | –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å |
| `std::equality_comparable<T>` | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `a == b` |
| `std::regular<T>` | `movable` + `equality_comparable` + –¥—Ä—É–≥–∏–µ |

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <concepts>

template <std::integral T>
T multiply(T a, T b) {
    return a * b;
}
```

---

## üóìÔ∏è **–î–µ–Ω—å 5: –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º**

### üîπ –¢–µ–æ—Ä–∏—è: –í—ã–±–æ—Ä –ª—É—á—à–µ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

–ö–æ–Ω—Ü–µ–ø—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç **–ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç **–Ω–∞–∏–±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é** –≤–µ—Ä—Å–∏—é.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
template <typename T>
void sort(T& container) {
    // –æ–±—â–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É–∑—ã—Ä—å–∫–æ–º)
}

template <std::random_access_iterator I>
void sort(I first, I last) {
    // –±—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, std::sort)
}
```

> –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å `std::vector<int>`, –≤—ã–∑–æ–≤–µ—Ç—Å—è **–≤—Ç–æ—Ä–∞—è –≤–µ—Ä—Å–∏—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ **–±–æ–ª–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞**.

### üîë –ü—Ä–∞–≤–∏–ª–æ:  
–ß–µ–º **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ–µ –∫–æ–Ω—Ü–µ–ø—Ç**, —Ç–µ–º **–≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**.

---

## üóìÔ∏è **–î–µ–Ω—å 6: –ö–æ–Ω—Ü–µ–ø—Ç—ã vs SFINAE ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–æ—á–µ–º—É –∫–æ–Ω—Ü–µ–ø—Ç—ã –ª—É—á—à–µ SFINAE?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | SFINAE (`enable_if`) | –ö–æ–Ω—Ü–µ–ø—Ç—ã |
|--------|------------------------|---------|
| **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** | –î–ª–∏–Ω–Ω—ã–µ, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ | –ö—Ä–∞—Ç–∫–∏–µ, —è—Å–Ω—ã–µ |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE** | –ü–ª–æ—Ö–∞—è | –•–æ—Ä–æ—à–∞—è (–ø–æ–¥—Å–≤–µ—Ç–∫–∞, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ) |
| **–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞** | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è –∏ –ª–æ–≥–∏—á–Ω–∞—è |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ù–µ –≤–ª–∏—è–µ—Ç | –ù–µ –≤–ª–∏—è–µ—Ç |

### ‚úÖ –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞:

#### –ë—ã–ª–æ (SFINAE):
```cpp
template <typename T>
std::enable_if_t<std::is_arithmetic_v<T>, T>
abs(T x) { return x < 0 ? -x : x; }
```

#### –°—Ç–∞–ª–æ (concept):
```cpp
template <std::integral T>
T abs(T x) { return x < 0 ? -x : x; }
```

> ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª **–∫–æ—Ä–æ—á–µ, –ø–æ–Ω—è—Ç–Ω–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **"–ú–∏–Ω–∏-STL —Å –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏"**

**–¶–µ–ª—å:** –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Ü–µ–ø—Ç—ã –≤–º–µ—Å—Ç–æ SFINAE –∏–ª–∏ —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `my_sort(container)` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è `random_access_iterator`.
- `my_find(container, value)` ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `value_type` —Å—Ä–∞–≤–Ω–∏–º —Å `value`.
- `my_distance(first, last)` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤.
- `static_assert` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤.

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:
```cpp
#include <concepts>
#include <vector>
#include <iostream>

template <std::random_access_iterator It>
void my_sort(It first, It last) {
    std::cout << "Fast sort (random access)\n";
    // std::sort(first, last);
}

template <std::input_iterator It>
void my_sort(It first, It last) {
    std::cout << "Slow sort (input iterator)\n";
    // bubble sort
}

template <typename Container, typename T>
    requires std::equality_comparable_with<typename Container::value_type, T>
auto my_find(Container& c, const T& value) {
    for (auto it = c.begin(); it != c.end(); ++it) {
        if (*it == value) return it;
    }
    return c.end();
}

int main() {
    std::vector v = {3, 1, 4, 1, 5};

    my_sort(v.begin(), v.end());  // –≤—ã–∑–æ–≤–µ—Ç random_access –≤–µ—Ä—Å–∏—é

    auto it = my_find(v, 4);
    if (it != v.end()) {
        std::cout << "Found: " << *it << "\n";
    }

    return 0;
}
```

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ |
|---------|------------|
| `concept` | –ò–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ç–∏–ø |
| `requires` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, —Ç–∏–ø–æ–≤, –≤—ã—Ä–∞–∂–µ–Ω–∏–π |
| –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã | –ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è: `integral`, `movable`, `equality_comparable` |
| –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ |
| –ö–æ–Ω—Ü–µ–ø—Ç—ã vs SFINAE | –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è, —á–∏—Ç–∞–µ–º–∞—è –∑–∞–º–µ–Ω–∞ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –û–±—ä—è–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ü–µ–ø—Ç —á–µ—Ä–µ–∑ `bool`-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `requires` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã (`std::integral`, `std::movable`)
- [ ] –ü–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å —à–∞–±–ª–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–æ —Ä–∞–∑–Ω—ã–º –∫–æ–Ω—Ü–µ–ø—Ç–∞–º
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç—ã –∏ SFINAE
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –∫–æ–Ω—Ü–µ–ø—Ç—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ** ‚Äî –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–æ–∏—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã `std::vector`, `std::map` –∏ `std::string` –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º** —Å —Ä–µ—à–µ–Ω–∏—è–º–∏,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 5"**.


# –û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 5 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ**, —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî **–∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π" STL**, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ C++.

---

# üìò **–ù–µ–¥–µ–ª—è 5: –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã –∏ STL –≥–ª—É–±–æ–∫–æ**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ü–æ–Ω—è—Ç—å, **–∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã STL –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º**, –Ω–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã**, —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏**, –∏ –ø–æ–Ω–∏–º–∞—Ç—å, **–ø–æ—á–µ–º—É –æ–¥–Ω–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±—ã—Å—Ç—Ä–µ–µ –¥—Ä—É–≥–∏—Ö** –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: –ü—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤

–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –≤ STL –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ **–∏–µ—Ä–∞—Ä—Ö–∏—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**. –ß–µ–º "–≤—ã—à–µ" –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | –ü—Ä–∏–º–µ—Ä—ã |
|----------|--------------------------|--------|
| **Input Iterator** | –ß—Ç–µ–Ω–∏–µ, `++` | `std::istream_iterator` |
| **Output Iterator** | –ó–∞–ø–∏—Å—å, `++` | `std::ostream_iterator` |
| **Forward Iterator** | –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, `++`, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | `std::forward_list`, `std::unordered_map` |
| **Bidirectional Iterator** | `++`, `--` | `std::list`, `std::set` |
| **Random Access Iterator** | `+`, `-`, `[]`, `<`, `>` | `std::vector`, `std::array`, `std::deque` |

### ‚úÖ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
–ê–ª–≥–æ—Ä–∏—Ç–º—ã STL –≤—ã–±–∏—Ä–∞—é—Ç **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞**:
```cpp
std::advance(it, 10);  // –¥–ª—è RandomAccess: it += 10 (O(1))
                       // –¥–ª—è Forward: 10 —Ä–∞–∑ ++it (O(n))
```

---

## üóìÔ∏è **–î–µ–Ω—å 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä

–ß—Ç–æ–±—ã –≤–∞—à –∫–ª–∞—Å—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫) —Ä–∞–±–æ—Ç–∞–ª —Å STL-–∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏, –µ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω:
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`*`, `->`, `++`, `==`, `!=`)
- –ò–º–µ—Ç—å **–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã** (–≤ C++17+ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `using`, –Ω–æ –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å `iterator_traits`)

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–¥–Ω–æ—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞

```cpp
template <typename T>
struct List {
    struct Node {
        T data;
        Node* next;
    };

    struct iterator {
        Node* ptr;

        // –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        T& operator*()  { return ptr->data; }
        T* operator->() { return &ptr->data; }
        iterator& operator++() { ptr = ptr->next; return *this; }
        bool operator==(const iterator& other) const { return ptr == other.ptr; }
        bool operator!=(const iterator& other) const { return !(*this == other); }

        // –¢–∏–ø—ã (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å STL)
        using iterator_category = std::forward_iterator_tag;
        using value_type = T;
        using difference_type = std::ptrdiff_t;
        using pointer = T*;
        using reference = T&;
    };

    iterator begin() { return iterator{head}; }
    iterator end()   { return iterator{nullptr}; }

private:
    Node* head = nullptr;
};
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å:
> ```cpp
> for (auto& x : my_list) { ... }
> std::find(my_list.begin(), my_list.end(), value);
> ```

---

## üóìÔ∏è **–î–µ–Ω—å 3: `std::iterator_traits` –∏ `using`-–æ–±—ä—è–≤–ª–µ–Ω–∏—è**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —É–∑–Ω–∞—é—Ç, —á—Ç–æ —É–º–µ–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä?

–ß–µ—Ä–µ–∑ **`std::iterator_traits<It>`** ‚Äî —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Ç–µ—Ä–∞—Ç–æ—Ä–µ:
- `value_type` ‚Äî —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞,
- `iterator_category` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è,
- `difference_type` ‚Äî —Ç–∏–ø –¥–ª—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.

–ï—Å–ª–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä ‚Äî –æ–±—ã—á–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å, `iterator_traits` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é.

### ‚úÖ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
–ê–ª–≥–æ—Ä–∏—Ç–º—ã –≤—Ä–æ–¥–µ `std::sort` –∏–ª–∏ `std::distance` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ —Ç–∏–ø—ã:
```cpp
template <typename It>
typename std::iterator_traits<It>::difference_type
distance(It first, It last) { ... }
```

> ‚ö†Ô∏è –í C++20 –ø–æ—è–≤–∏–ª–∏—Å—å **concepts**, –∏ `iterator_traits` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∂–µ, –Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –µ–≥–æ –≤–∞–∂–Ω–æ.

---

## üóìÔ∏è **–î–µ–Ω—å 4: –ê–ª–ª–æ–∫–∞—Ç–æ—Ä—ã ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ STL**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä?

**–ê–ª–ª–æ–∫–∞—Ç–æ—Ä** ‚Äî –æ–±—ä–µ–∫—Ç, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ **–≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**. STL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –∫–∞–∫ —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä.

```cpp
template <typename T, typename Allocator = std::allocator<T>>
class vector { ... };
```

### üîë –ó–∞—á–µ–º –Ω—É–∂–µ–Ω?
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏** (–ø—É–ª—ã, arena, mmap –∏ —Ç.–¥.)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–∏–∑–±–µ–∂–∞–Ω–∏–µ `new`/`delete`)
- **–û—Ç–ª–∞–¥–∫–∞** (–ø–æ–¥—Å—á—ë—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫)

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ—Å—Ç–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä
```cpp
template <typename T>
struct SimpleAllocator {
    using value_type = T;

    T* allocate(std::size_t n) {
        std::cout << "Allocating " << n << " elements\n";
        return static_cast<T*>(::operator new(n * sizeof(T)));
    }

    void deallocate(T* p, std::size_t n) {
        ::operator delete(p);
    }

    template <typename U, typename... Args>
    void construct(U* p, Args&&... args) {
        new(p) U(std::forward<Args>(args)...);
    }

    void destroy(T* p) {
        p->~T();
    }
};
```

> ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
> ```cpp
> std::vector<int, SimpleAllocator<int>> vec;
> ```

---

## üóìÔ∏è **–î–µ–Ω—å 5: –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã `std::vector`, `std::map`, `std::unordered_map`**

### üîπ –¢–µ–æ—Ä–∏—è: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

#### 1. `std::vector<T>`
- **–ü–∞–º—è—Ç—å:** –≤—ã–¥–µ–ª–µ–Ω–∞ –æ–¥–Ω–∏–º –±–ª–æ–∫–æ–º (–Ω–∞ –∫—É—á–µ)
- **–†–æ—Å—Ç:** –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ ‚Äî –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –±–ª–æ–∫, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è/–ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è
- **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã:** Random Access
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** `O(1)` –¥–æ—Å—Ç—É–ø, `O(1)` –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü (–∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ), `O(n)` –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É

#### 2. `std::map<K,V>`
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ **–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ**
- **–ü–æ—Ä—è–¥–æ–∫:** –ø–æ –∫–ª—é—á—É
- **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã:** Bidirectional
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** `O(log n)` –Ω–∞ –≤—Å—Ç–∞–≤–∫—É, –ø–æ–∏—Å–∫, —É–¥–∞–ª–µ–Ω–∏–µ

#### 3. `std::unordered_map<K,V>`
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** **—Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞**
- **–ü–æ—Ä—è–¥–æ–∫:** –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω
- **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã:** Forward
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** `O(1)` –≤ —Å—Ä–µ–¥–Ω–µ–º, `O(n)` –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ (–∫–æ–ª–ª–∏–∑–∏–∏)

> üîç –í—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:
> - –ù—É–∂–µ–Ω –ª–∏ –ø–æ—Ä—è–¥–æ–∫?
> - –ö–∞–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞?
> - –ß–∞—Å—Ç–æ—Ç–∞ –≤—Å—Ç–∞–≤–æ–∫/–ø–æ–∏—Å–∫–æ–≤?

---

## üóìÔ∏è **–î–µ–Ω—å 6: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã STL**

### üîπ –¢–µ–æ—Ä–∏—è: –ú–æ—â–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏–∑ `<algorithm>`

STL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–¥–µ—Å—è—Ç–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤**, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ —á–∞—Å—Ç–æ **–∑–∞–º–µ–Ω—è—é—Ç —Ü–∏–∫–ª—ã**.

| –ê–ª–≥–æ—Ä–∏—Ç–º | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-----------|
| `std::transform` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º |
| `std::accumulate` | –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ / —Å–≤—ë—Ä—Ç–∫–∞ |
| `std::partition` | –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ —É—Å–ª–æ–≤–∏—é |
| `std::rotate` | –ü–æ–≤–µ—Ä–Ω—É—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω |
| `std::inplace_merge` | –°–ª–∏—è–Ω–∏–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π |
| `std::nth_element` | –ù–∞–π—Ç–∏ n-–π –ø–æ –ø–æ—Ä—è–¥–∫—É —ç–ª–µ–º–µ–Ω—Ç |

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
std::vector<int> v = {1, 2, 3, 4, 5};

// –£–¥–≤–æ–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
std::transform(v.begin(), v.end(), v.begin(), [](int x) { return x * 2; });

// –°—É–º–º–∞
int sum = std::accumulate(v.begin(), v.end(), 0);

// –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —á—ë—Ç–Ω—ã–µ –≤ –Ω–∞—á–∞–ª–æ
std::partition(v.begin(), v.end(), [](int x) { return x % 2 == 0; });
```

> ‚úÖ –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **–≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º–µ–µ**.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –°–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º –∏ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–º**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **`MyVector<T, Alloc>`**

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ `std::vector`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ,
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã (Random Access),
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä,
- –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `push_back`, `size`, `operator[]`, `begin`/`end`.

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `iterator` —Å `RandomAccessIterator` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –∫–∞–∫ —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å `std::sort`, `std::find`.
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `new`/`delete` –Ω–∞–ø—Ä—è–º—É—é ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):

```cpp
template <typename T, typename Alloc = std::allocator<T>>
class MyVector {
    T* data = nullptr;
    size_t sz = 0;
    size_t cap = 0;
    [[no_unique_address]] Alloc alloc;

    void grow() {
        size_t new_cap = cap == 0 ? 1 : cap * 2;
        T* new_data = alloc.allocate(new_cap);

        for (size_t i = 0; i < sz; ++i) {
            alloc.construct(&new_data[i], std::move(data[i]));
            alloc.destroy(&data[i]);
        }
        if (data) alloc.deallocate(data, cap);

        data = new_data;
        cap = new_cap;
    }

public:
    using value_type = T;
    using allocator_type = Alloc;
    using iterator = T*;
    using const_iterator = const T*;

    explicit MyVector(const Alloc& a = Alloc{}) : alloc(a) {}

    void push_back(const T& value) {
        if (sz >= cap) grow();
        alloc.construct(&data[sz], value);
        ++sz;
    }

    void push_back(T&& value) {
        if (sz >= cap) grow();
        alloc.construct(&data[sz], std::move(value));
        ++sz;
    }

    T& operator[](size_t i) { return data[i]; }
    const T& operator[](size_t i) const { return data[i]; }

    size_t size() const { return sz; }
    bool empty() const { return sz == 0; }

    iterator begin() { return data; }
    iterator end() { return data + sz; }
    const_iterator begin() const { return data; }
    const_iterator end() const { return data + sz; }

    ~MyVector() {
        for (size_t i = 0; i < sz; ++i) {
            alloc.destroy(&data[i]);
        }
        if (data) alloc.deallocate(data, cap);
    }
};
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
> ```cpp
> MyVector<int> v;
> v.push_back(1);
> v.push_back(2);
> std::sort(v.begin(), v.end());
> ```

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ | STL –≤—ã–±–∏—Ä–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ |
| –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã | –ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å STL, –Ω—É–∂–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Ç–µ–≥–∏ |
| –ê–ª–ª–æ–∫–∞—Ç–æ—Ä—ã | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ |
| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ | –ó–Ω–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| –ê–ª–≥–æ—Ä–∏—Ç–º—ã STL | –õ—É—á—à–µ —Ü–∏–∫–ª–æ–≤: –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–∏—Ç–∞–µ–º–µ–µ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º–µ–µ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `std::vector` –∏ `std::unordered_map`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::transform`, `std::accumulate`, `std::partition`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º –∏ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–º

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** ‚Äî –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ `std::thread`, `std::async`, `std::mutex`, `std::atomic`, –∏ —Å–æ–∑–¥–∞–Ω–∏–µ thread-safe –∫–æ–¥–∞.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º –∏ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞–º**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 6"**.


# –û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 6 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî –∫–ª—é—á –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é **–≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** –Ω–∞ C++.

---

# üìò **–ù–µ–¥–µ–ª—è 6: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–ø–æ—Ç–æ–∫–∞–º–∏**, **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π**, **–∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏** –∏ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º**, –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å **–≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö**, **–≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (deadlock)** –∏ –ø–∏—Å–∞—Ç—å **thread-safe –∫–æ–¥**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: `std::thread` ‚Äî –æ—Å–Ω–æ–≤—ã –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ—Ç–æ–∫?

**–ü–æ—Ç–æ–∫ (thread)** ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.  
–í C++ –ø–æ—Ç–æ–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `std::thread` –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `<thread>`.

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ó–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
- –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
- –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (`join()`).
- –û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (`detach()` ‚Äî —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <iostream>
#include <thread>

void greet(const std::string& name) {
    std::cout << "Hello from " << name << "!\n";
}

int main() {
    std::thread t(greet, "Thread 1");
    t.join();  // –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
    return 0;
}
```

### üîë –í–∞–∂–Ω–æ:
- –ö–∞–∂–¥—ã–π `std::thread` **–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `joined` –∏–ª–∏ `detached`** –ø–µ—Ä–µ–¥ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º.
- –ü–æ—Ç–æ–∫–∏ **–Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è**, —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è (`std::move`).

---

## üóìÔ∏è **–î–µ–Ω—å 2: `std::mutex` –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –º—å—é—Ç–µ–∫—Å?

**–ú—å—é—Ç–µ–∫—Å (mutex)** ‚Äî —ç—Ç–æ **–ø—Ä–∏–º–∏—Ç–∏–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫** –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é.

### üîë –ó–∞—á–µ–º?
–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å **–≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö (data race)** –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <mutex>
#include <thread>

int counter = 0;
std::mutex mtx;

void increment() {
    for (int i = 0; i < 100000; ++i) {
        mtx.lock();
        ++counter;  // –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è
        mtx.unlock();
    }
}
```

> ‚ö†Ô∏è –†—É—á–Ω–æ–π `lock`/`unlock` –æ–ø–∞—Å–µ–Ω ‚Äî –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::lock_guard`.

---

## üóìÔ∏è **–î–µ–Ω—å 3: `std::lock_guard`, `std::unique_lock`**

### üîπ –¢–µ–æ—Ä–∏—è: RAII –¥–ª—è –º—å—é—Ç–µ–∫—Å–æ–≤

#### 1. `std::lock_guard<T>`
- –£–¥–æ–±–Ω–∞—è RAII-–æ–±—ë—Ä—Ç–∫–∞.
- –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—å—é—Ç–µ–∫—Å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏.
- **–ù–µ–ª—å–∑—è –æ—Ç–ø—É—Å–∫–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ**.

```cpp
std::mutex mtx;
{
    std::lock_guard<std::mutex> lock(mtx);
    // –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è
} // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π unlock
```

#### 2. `std::unique_lock<T>`
- –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π: –º–æ–∂–Ω–æ –æ—Ç–ø—É—Å–∫–∞—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É (`std::defer_lock`).
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `std::condition_variable`.

```cpp
std::unique_lock<std::mutex> lock(mtx, std::defer_lock);
// ...
lock.lock();
// ...
lock.unlock();
```

> ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lock_guard`, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å.

---

## üóìÔ∏è **–î–µ–Ω—å 4: `std::atomic<T>` ‚Äî lock-free —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**

### üîπ –¢–µ–æ—Ä–∏—è: –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

`std::atomic<T>` ‚Äî —Ç–∏–ø, –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º **–∞—Ç–æ–º–∞—Ä–Ω—ã** (–Ω–µ–¥–µ–ª–∏–º—ã), –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –º—å—é—Ç–µ–∫—Å–∞.

- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤**: `int`, `bool`, —É–∫–∞–∑–∞—Ç–µ–ª–∏.
- –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π (—á–∞—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ CPU-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏).
- –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤, —Ñ–ª–∞–≥–æ–≤.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <atomic>

std::atomic<int> counter{0};

void increment() {
    for (int i = 0; i < 100000; ++i) {
        counter++;  // –∞—Ç–æ–º–∞—Ä–Ω–æ
    }
}
```

> ‚úÖ –ù–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ—Ç –º—å—é—Ç–µ–∫—Å–∞ ‚Äî **lock-free**.

### üîë –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å `std::atomic<std::string>` (–Ω–æ –º–æ–∂–Ω–æ `std::atomic<std::string*>`).
- –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `mutex`.

---

## üóìÔ∏è **–î–µ–Ω—å 5: `std::condition_variable` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π**

### üîπ –¢–µ–æ—Ä–∏—è: –£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

`std::condition_variable` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ–¥–Ω–æ–º—É –ø–æ—Ç–æ–∫—É –∂–¥–∞—Ç—å**, –ø–æ–∫–∞ **–¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫** –Ω–µ —Å–æ–æ–±—â–∏—Ç –æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è.

–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å —à–∞–±–ª–æ–Ω–æ–º **"–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å"**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: Producer-Consumer

```cpp
#include <queue>
#include <condition_variable>

std::queue<int> data_queue;
std::mutex mtx;
std::condition_variable cv;
bool finished = false;

// –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å
void consumer() {
    while (true) {
        std::unique_lock<std::mutex> lock(mtx);
        cv.wait(lock, []{ return !data_queue.empty() || finished; });

        if (finished && data_queue.empty()) break;

        int value = data_queue.front(); data_queue.pop();
        lock.unlock();

        std::cout << "Consumed: " << value << "\n";
    }
}

// –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å
void producer() {
    for (int i = 0; i < 10; ++i) {
        std::lock_guard<std::mutex> lock(mtx);
        data_queue.push(i);
        cv.notify_one();  // –±—É–¥–∏–º –æ–¥–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
    }

    {
        std::lock_guard<std::mutex> lock(mtx);
        finished = true;
    }
    cv.notify_all();  // –±—É–¥–∏–º –≤—Å–µ—Ö
}
```

> üîÅ `cv.wait()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—É—Å–∫–∞–µ—Ç –º—å—é—Ç–µ–∫—Å –∏ –∂–¥—ë—Ç —Å–∏–≥–Ω–∞–ª–∞.

---

## üóìÔ∏è **–î–µ–Ω—å 6: `std::async`, `std::future`, `std::promise`**

### üîπ –¢–µ–æ—Ä–∏—è: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

#### 1. `std::async`
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `std::future`.

```cpp
auto future = std::async([]{ return 42; });
int result = future.get();  // –∂–¥—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

#### 2. `std::future<T>`
–û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π **–≤ –±—É–¥—É—â–µ–º** –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### 3. `std::promise<T>`
–ü–æ–∑–≤–æ–ª—è–µ—Ç **—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ** –¥–ª—è `future` –∏–∑ –¥—Ä—É–≥–æ–≥–æ –ø–æ—Ç–æ–∫–∞.

```cpp
std::promise<int> prom;
std::future<int> fut = prom.get_future();

std::thread t([&prom]{
    std::this_thread::sleep_for(std::chrono::seconds(1));
    prom.set_value(100);
});

int value = fut.get();  // 100
```

> ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤, callback-–∑–∞–º–µ–Ω—ã.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ (Thread Pool)**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤**

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –Ω–∞–±–æ—Ä –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –æ–±—â–µ–π –æ—á–µ—Ä–µ–¥–∏.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤.
- –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (`std::function<void()>`).
- –ú–µ—Ç–æ–¥ `enqueue(task)` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
- –ü–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ü–∏–∫–ª–µ: –±–µ—Ä—É—Ç –∑–∞–¥–∞—á—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `std::async`-–ø–æ–¥–æ–±–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å `std::future`.

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```cpp
ThreadPool pool(4);  // 4 –ø–æ—Ç–æ–∫–∞

auto future1 = pool.enqueue([]{ return sum(1, 1000); });
auto future2 = pool.enqueue([]{ return fib(30); });

int result1 = future1.get();
int result2 = future2.get();
```

---

### ‚úÖ –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```cpp
#include <vector>
#include <queue>
#include <thread>
#include <mutex>
#include <condition_variable>
#include <future>
#include <functional>

class ThreadPool {
    std::vector<std::thread> workers;
    std::queue<std::function<void()>> tasks;
    std::mutex mtx;
    std::condition_variable cv;
    bool stop = false;

public:
    explicit ThreadPool(size_t num_threads) {
        for (size_t i = 0; i < num_threads; ++i) {
            workers.emplace_back([this] {
                while (true) {
                    std::function<void()> task;
                    {
                        std::unique_lock<std::mutex> lock(mtx);
                        cv.wait(lock, [this]{ return stop || !tasks.empty(); });
                        if (stop && tasks.empty()) return;
                        task = std::move(tasks.front());
                        tasks.pop();
                    }
                    task();
                }
            });
        }
    }

    template <typename F>
    auto enqueue(F&& f) -> std::future<decltype(f())> {
        using return_type = decltype(f());

        auto task = std::make_shared<std::packaged_task<return_type()>>(
            std::forward<F>(f)
        );

        std::future<return_type> result = task->get_future();
        {
            std::lock_guard<std::mutex> lock(mtx);
            tasks.emplace([task](){ (*task)(); });
        }
        cv.notify_one();
        return result;
    }

    ~ThreadPool() {
        {
            std::lock_guard<std::mutex> lock(mtx);
            stop = true;
        }
        cv.notify_all();
        for (std::thread& t : workers) {
            t.join();
        }
    }
};
```

> ‚úÖ –≠—Ç–æ –±–∞–∑–∞ –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å–µ—Ä–≤–µ—Ä–æ–≤, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| `std::thread` | –ó–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ |
| `std::mutex` | –ó–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–µ–∫—Ü–∏–∏ |
| `std::lock_guard` / `unique_lock` | RAII –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –º—å—é—Ç–µ–∫—Å–∞–º–∏ |
| `std::atomic<T>` | Lock-free —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤ |
| `std::condition_variable` | –û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ |
| `std::async` / `future` | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º |
| –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å `std::thread`
- [ ] –ó–∞—â–∏—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é `std::mutex` –∏ `lock_guard`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::atomic` –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤ –∏ —Ñ–ª–∞–≥–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å producer-consumer —Å `condition_variable`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ `std::async` –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ —Å `std::future`
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `lock_guard` –∏ `unique_lock`

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 7: –õ—è–º–±–¥—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—è–º–±–¥ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –∫–æ–¥–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö, generic lambdas, `std::function`, `std::bind`.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 7: –õ—è–º–±–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 7"**.


# –û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 7 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 7: –õ—è–º–±–¥—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**, —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è –ø–æ—Å–≤—è—â–µ–Ω–∞ **–æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∏—á C++11+** ‚Äî **–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–π, –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å STL –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é.

---

# üìò **–ù–µ–¥–µ–ª—è 7: –õ—è–º–±–¥—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ù–∞—É—á–∏—Ç—å—Å—è —É–≤–µ—Ä–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ª—è–º–±–¥—ã**, –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –æ–Ω–∏ —É—Å—Ç—Ä–æ–µ–Ω—ã, –∫–∞–∫ **–∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö —Å **–∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ STL**, **–ø–æ—Ç–æ–∫–∞–º–∏**, **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏**, –∏ –∫–∞–∫ –æ–Ω–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ **–æ–±—ä–µ–∫—Ç—ã-—Ñ—É–Ω–∫—Ç–æ—Ä—ã**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –õ—è–º–±–¥—ã ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –æ—Å–Ω–æ–≤—ã**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –ª—è–º–±–¥–∞?

**–õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ** ‚Äî —ç—Ç–æ **–∞–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä—è–º–æ –≤ –º–µ—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –µ—ë –≤ **–æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ç–æ—Ä** (–∫–ª–∞—Å—Å —Å `operator()`).

### üîπ –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
[–∑–∞—Ö–≤–∞—Ç] (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) -> –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π_—Ç–∏–ø { —Ç–µ–ª–æ }
```

- `[capture]` ‚Äî —á—Ç–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ (–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –ø–æ —Å—Å—ã–ª–∫–µ).
- `(params)` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∫–∞–∫ —É —Ñ—É–Ω–∫—Ü–∏–∏).
- `-> return_type` ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–≤–µ—Å—Ç–∏.
- `{}` ‚Äî —Ç–µ–ª–æ.

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã:
```cpp
// –ü—Ä–æ—Å—Ç–∞—è –ª—è–º–±–¥–∞
auto greet = []() { std::cout << "Hello!\n"; };
greet();

// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
auto add = [](int a, int b) { return a + b; };
std::cout << add(3, 5);  // 8

// –° –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º —Ç–∏–ø–æ–º (–µ—Å–ª–∏ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è)
auto divide = [](double a, double b) -> double {
    if (b == 0) return 0;
    return a / b;
};
```

> ‚úÖ –õ—è–º–±–¥—ã ‚Äî **–ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**: –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å, —Ö—Ä–∞–Ω–∏—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å.

---

## üóìÔ∏è **–î–µ–Ω—å 2: –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∏ –ø–æ —Å—Å—ã–ª–∫–µ**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –ª—è–º–±–¥—ã "–∑–∞–ø–æ–º–∏–Ω–∞—é—Ç" –≤–Ω–µ—à–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–õ—è–º–±–¥—ã –º–æ–≥—É—Ç **–∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–π –æ–±–ª–∞—Å—Ç–∏.

| –ó–∞—Ö–≤–∞—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-------|--------|
| `[=]` | –í—Å—ë –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é |
| `[&]` | –í—Å—ë –ø–æ —Å—Å—ã–ª–∫–µ |
| `[x]` | –¢–æ–ª—å–∫–æ `x` –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é |
| `[&x]` | –¢–æ–ª—å–∫–æ `x` –ø–æ —Å—Å—ã–ª–∫–µ |
| `[&, x]` | –ü–æ —Å—Å—ã–ª–∫–µ –≤—Å—ë, –∫—Ä–æ–º–µ `x` ‚Äî –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é |
| `[=, &x]` | –ü–æ –∑–Ω–∞—á–µ–Ω–∏—é –≤—Å—ë, –∫—Ä–æ–º–µ `x` ‚Äî –ø–æ —Å—Å—ã–ª–∫–µ |

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
int a = 10;
int b = 20;

auto f1 = [a]() { return a; };        // –∫–æ–ø–∏—è a
auto f2 = [&b]() { b += 5; };         // —Å—Å—ã–ª–∫–∞ –Ω–∞ b
auto f3 = [=]() mutable { a++; };     // –∫–æ–ø–∏—è a, mutable –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å
auto f4 = [&]() { a++; b++; };        // —Å—Å—ã–ª–∫–∏ –Ω–∞ a –∏ b
```

> ‚ö†Ô∏è –û–ø–∞—Å–Ω–æ—Å—Ç—å: –∑–∞—Ö–≤–∞—Ç –ø–æ —Å—Å—ã–ª–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞ ‚Üí **dangling reference**.

---

## üóìÔ∏è **–î–µ–Ω—å 3: `mutable` –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–æ—á–µ–º—É –ª—è–º–±–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã"

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é **–ª—è–º–±–¥–∞ —Å –∑–∞—Ö–≤–∞—Ç–æ–º –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é** –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî –µ—ë `operator()` –Ω–µ—è–≤–Ω–æ `const`.

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ **`mutable`** –æ—Ç–º–µ–Ω—è–µ—Ç —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
int counter = 0;

auto f1 = [counter]() {
    // counter++;  // ‚ùå –û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å
};

auto f2 = [counter]() mutable {
    counter++;  // ‚úÖ OK: mutable
    std::cout << counter << "\n";
};

f2();  // 1
f2();  // 2 ‚Äî counter ‚Äî –∫–æ–ø–∏—è, –∂–∏–≤—ë—Ç –≤ –ª—è–º–±–¥–µ
```

> üîÅ –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `f2` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –∫–æ–ø–∏–µ–π** `counter`.

---

## üóìÔ∏è **–î–µ–Ω—å 4: –•—Ä–∞–Ω–µ–Ω–∏–µ –ª—è–º–±–¥ ‚Äî `std::function` –∏ `auto`**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –ª—è–º–±–¥—ã?

–õ—è–º–±–¥—ã –∏–º–µ—é—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π —Ç–∏–ø**, –ø–æ—ç—Ç–æ–º—É:
- `auto` ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö,
- `std::function` ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö, –ø–æ–ª—è—Ö.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <functional>
#include <vector>

// –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
auto func = [](int x) { return x * x; };

// –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
std::vector<std::function<int(int)>> operations;
operations.push_back([](int x) { return x + 1; });
operations.push_back([](int x) { return x * 2; });
operations.push_back(func);

// –í—ã–∑–æ–≤
for (auto& op : operations) {
    std::cout << op(5) << " ";  // 6 10 25
}
```

> ‚ö†Ô∏è `std::function` –∏–º–µ–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (type erasure), –Ω–æ –æ—á–µ–Ω—å –≥–∏–±–æ–∫.

---

## üóìÔ∏è **–î–µ–Ω—å 5: Generic Lambdas (C++14)**

### üîπ –¢–µ–æ—Ä–∏—è: –õ—è–º–±–¥—ã —Å `auto` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

–ù–∞—á–∏–Ω–∞—è —Å C++14, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª—è–º–±–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å `auto` ‚Äî —Ç–æ–≥–¥–∞ –ª—è–º–±–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **—à–∞–±–ª–æ–Ω–Ω–æ–π**.

```cpp
auto print = [](const auto& value) {
    std::cout << value << "\n";
};

print(42);        // int
print(3.14);      // double
print("hello");   // const char*
```

> ‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `operator()<T>` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä
```cpp
auto ascending = [](const auto& a, const auto& b) {
    return a < b;
};

std::sort(vec.begin(), vec.end(), ascending);
```

---

## üóìÔ∏è **–î–µ–Ω—å 6: –õ—è–º–±–¥—ã –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏**

### üîπ –¢–µ–æ—Ä–∏—è: –ì–¥–µ –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª—è–º–±–¥—ã?

–õ—è–º–±–¥—ã ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã –¥–ª—è:
- –ü–µ—Ä–µ–¥–∞—á–∏ –≤ `std::thread`,
- `std::async`,
- `ThreadPool::enqueue`,
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π.

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã:

#### 1. –ü–æ—Ç–æ–∫ —Å –ª—è–º–±–¥–æ–π
```cpp
std::thread t([name = "Worker"] {
    std::cout << "Running in " << name << "\n";
});
t.join();
```

#### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
```cpp
auto future = std::async([] {
    std::this_thread::sleep_for(std::chrono::seconds(1));
    return compute_heavy_task();
});
int result = future.get();
```

#### 3. –í –ø—É–ª–µ –ø–æ—Ç–æ–∫–æ–≤
```cpp
pool.enqueue([data = heavy_data] {
    process(data);
});
```

> ‚úÖ –õ—è–º–±–¥—ã –¥–µ–ª–∞—é—Ç –∫–æ–¥ **–±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º**.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –°–æ–±—ã—Ç–∏–π–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä (Event Bus)**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Event Bus**

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç **–ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è** –∏ **—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∏—Ö —á–µ—Ä–µ–∑ –ª—è–º–±–¥—ã**.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `subscribe<Event>(handler)` ‚Äî –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ.
- `publish<Event>(event)` ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ.
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ ‚Äî –ª—è–º–±–¥—ã —Å –∑–∞—Ö–≤–∞—Ç–æ–º.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π.

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```cpp
EventBus bus;

bus.subscribe<int>([](int x) {
    std::cout << "Received number: " << x << "\n";
});

bus.subscribe<std::string>([](const std::string& s) {
    std::cout << "Received string: " << s << "\n";
});

bus.publish(42);                    // –≤—ã–∑–æ–≤–µ—Ç –ø–µ—Ä–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
bus.publish(std::string("hello"));  // –≤—ã–∑–æ–≤–µ—Ç –≤—Ç–æ—Ä–æ–π
```

---

### ‚úÖ –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```cpp
#include <unordered_map>
#include <vector>
#include <functional>
#include <typeindex>
#include <memory>

class EventBus {
    std::unordered_map<std::type_index, std::vector<std::function<void(const void*)>>> handlers;

public:
    template <typename Event>
    void subscribe(std::function<void(const Event&)> handler) {
        auto type = std::type_index(typeid(Event));
        handlers[type].push_back([handler](const void* event) {
            handler(*static_cast<const Event*>(event));
        });
    }

    template <typename Event>
    void publish(const Event& event) {
        auto type = std::type_index(typeid(Event));
        if (handlers.find(type) != handlers.end()) {
            for (auto& handler : handlers[type]) {
                handler(&event);
            }
        }
    }
};
```

> ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `std::type_index`, `void*`, `std::function` ‚Äî –º–æ—â–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ.

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| –õ—è–º–±–¥—ã | –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ç–æ—Ä—ã |
| –ó–∞—Ö–≤–∞—Ç | `[=]`, `[&]`, `[x]`, `[&x]` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ, —á—Ç–æ –∏ –∫–∞–∫ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è |
| `mutable` | –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| `std::function` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ |
| Generic Lambdas | –®–∞–±–ª–æ–Ω–Ω—ã–µ –ª—è–º–±–¥—ã —Å `auto` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö |
| –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | STL, –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å, —Å–æ–±—ã—Ç–∏—è, –∫–æ–ª–ª–±—ç–∫–∏ |
| Event Bus | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª—è–º–±–¥ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –ù–∞–ø–∏—Å–∞—Ç—å –ª—è–º–±–¥—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º —Ç–∏–ø–æ–º
- [ ] –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∏ –ø–æ —Å—Å—ã–ª–∫–µ
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `mutable` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –•—Ä–∞–Ω–∏—Ç—å –ª—è–º–±–¥—ã –≤ `std::vector<std::function<...>>`
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å generic lambda
- [ ] –ü–µ—Ä–µ–¥–∞—Ç—å –ª—è–º–±–¥—É –≤ `std::thread`, `std::async`, `ThreadPool`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π Event Bus —Å –ª—è–º–±–¥–∞–º–∏

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 8: –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ª–∏–Ω–∫–æ–≤–∫–∏** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ C++ –∫–æ–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª, —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `.h` –∏ `.cpp`, ODR, `inline`, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –ª—è–º–±–¥–∞–º**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 8: –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ª–∏–Ω–∫–æ–≤–∫–∏**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 8"**.


# –û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 8 —Å –∫—Ä–∞—Ç–∫–æ–π —Ç–µ–æ—Ä–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 8: –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ª–∏–Ω–∫–æ–≤–∫–∏** —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî **–∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é, –∫–∞–∫ C++ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π**, –∏ –ø–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –ª–∏–Ω–∫–æ–≤–∫–∏. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è **—Ä–∞–±–æ—Ç—ã –≤ –∫–æ–º–∞–Ω–¥–µ**, **—Å–æ–∑–¥–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫** –∏ **—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫**.

---

# üìò **–ù–µ–¥–µ–ª—è 8: –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ª–∏–Ω–∫–æ–≤–∫–∏**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ü–æ–Ω—è—Ç—å **—ç—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏ C++ –ø—Ä–æ–≥—Ä–∞–º–º—ã**, —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É **–∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π –∏ –ª–∏–Ω–∫–æ–≤–∫–æ–π**, –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏**, –ø–æ–Ω—è—Ç—å **–ø—Ä–∞–≤–∏–ª–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (ODR)** –∏ –Ω–∞—É—á–∏—Ç—å—Å—è –∏–∑–±–µ–≥–∞—Ç—å **–æ—à–∏–±–æ–∫ –ª–∏–Ω–∫–æ–≤–∫–∏**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –≠—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏ ‚Äî –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –∫–æ–º–ø–∏–ª—è—Ü–∏—è, –∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏–Ω–∫–æ–≤–∫–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ C++ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º

–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è `.cpp` —Ñ–∞–π–ª–∞ –≤ `exe` –∏–ª–∏ `out` —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 4 —ç—Ç–∞–ø–æ–≤:

| –≠—Ç–∞–ø | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------|-----------|
| **1. –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä** | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `#include`, `#define`, `#ifdef` ‚Äî –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.h`, —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –º–∞–∫—Ä–æ—Å—ã |
| **2. –ö–æ–º–ø–∏–ª—è—Ü–∏—è** | –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç **–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π C++ –∫–æ–¥** –≤ **–∞—Å—Å–µ–º–±–ª–µ—Ä** –∏–ª–∏ **–æ–±—ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥** (`.o` / `.obj`) |
| **3. –ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∞—Å—Å–µ–º–±–ª–µ—Ä –≤ **–º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥** (–æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª) |
| **4. –õ–∏–Ω–∫–æ–≤–∫–∞ (Linking)** | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç **–æ–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã** –∏ **–±–∏–±–ª–∏–æ—Ç–µ–∫–∏** –≤ **–æ–¥–∏–Ω –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª** |

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```bash
# 1. –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
g++ -E main.cpp -o main.i

# 2. –ö–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí –∞—Å—Å–µ–º–±–ª–µ—Ä
g++ -S main.i -o main.s

# 3. –ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
g++ -c main.s -o main.o

# 4. –õ–∏–Ω–∫–æ–≤–∫–∞ ‚Üí –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
g++ main.o -o program
```

> –ò–ª–∏ –æ–¥–Ω–∏–º —à–∞–≥–æ–º: `g++ main.cpp -o program`

---

## üóìÔ∏è **–î–µ–Ω—å 2: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ `.h` –∏ `.cpp` ‚Äî –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ**

### üîπ –¢–µ–æ—Ä–∏—è: –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`.h` (–∑–∞–≥–æ–ª–æ–≤–æ–∫)** ‚Äî –æ–±—ä—è–≤–ª–µ–Ω–∏—è: –∫–ª–∞—Å—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏, —à–∞–±–ª–æ–Ω—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.
- **`.cpp` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
// math.h
#pragma once
int add(int a, int b);  // –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
```

```cpp
// math.cpp
#include "math.h"
int add(int a, int b) {  // –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
    return a + b;
}
```

```cpp
// main.cpp
#include "math.h"
int main() {
    add(2, 3);  // OK: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–Ω–∞–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É
    return 0;
}
```

> üîó –ü—Ä–∏ –ª–∏–Ω–∫–æ–≤–∫–µ `main.o` –∏ `math.o` —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è.

### üîë –ó–∞—á–µ–º?
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞.
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–º–µ–Ω—å—à–µ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏).
- –°–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üóìÔ∏è **–î–µ–Ω—å 3: –ü—Ä–∞–≤–∏–ª–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (ODR)**

### üîπ –¢–µ–æ—Ä–∏—è: One Definition Rule

**ODR** ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ C++:
> –í—Å—ë, —á—Ç–æ **–º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ**, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑** –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

| –ß—Ç–æ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è ODR? | –ú–æ–∂–Ω–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö? |
|----------------------|----------------------------|
| –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`int f();`) | ‚úÖ –î–∞ |
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`int f(){}`) | ‚ùå –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ |
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (`int x = 5;`) | ‚ùå –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ |
| –ö–ª–∞—Å—Å | ‚úÖ –í –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ —á–µ—Ä–µ–∑ `.h`, –Ω–æ **–æ–¥–∏–Ω–∞–∫–æ–≤–æ** |
| –®–∞–±–ª–æ–Ω | ‚úÖ –í –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –Ω–µ `extern template`) |

### ‚úÖ –ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è:
```cpp
// a.cpp
int global = 10;

// b.cpp
int global = 20;  // ‚ùå –û—à–∏–±–∫–∞ –ª–∏–Ω–∫–æ–≤–∫–∏: multiple definition
```

> üîó –õ–∏–Ω–∫–æ–≤—â–∏–∫ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –≤—ã–±—Ä–∞—Ç—å.

---

## üóìÔ∏è **–î–µ–Ω—å 4: `inline` ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω–ª–∞–π–Ω–∏–Ω–≥–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `inline`

`inline` –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ–∑–Ω–∞—á–∞–ª–æ "–≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é", –Ω–æ —Ç–µ–ø–µ—Ä—å ‚Äî **—Å—Ä–µ–¥—Å—Ç–≤–æ –±–æ—Ä—å–±—ã —Å ODR**.

#### `inline` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç **–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**, –µ—Å–ª–∏:
- –í—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è **–æ–¥–∏–Ω–∞–∫–æ–≤—ã**,
- `inline` —Å—Ç–æ–∏—Ç **–≤–µ–∑–¥–µ**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
// utils.h
#pragma once
inline int square(int x) {
    return x * x;
}
```

> ‚úÖ –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å `utils.h` –≤ 10 `.cpp` ‚Äî –ª–∏–Ω–∫–æ–≤–∫–∞ –ø—Ä–æ–π–¥—ë—Ç —É—Å–ø–µ—à–Ω–æ.

#### –¢–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:
- `inline` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (C++17):
  ```cpp
  inline int counter = 0;
  ```
- `inline` namespace (—Ä–µ–¥–∫–æ).

---

## üóìÔ∏è **–î–µ–Ω—å 5: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ–¥–∞

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª—ã | –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã |
|-----|--------|------|------|-------|
| **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞** | –ö–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è** –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª | `.a` (Linux), `.lib` (Windows) | –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å | –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞** | –ö–æ–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | `.so` (Linux), `.dll` (Windows) | –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä, –æ–±—â–∞—è –ø–∞–º—è—Ç—å, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, "DLL hell" |

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ª–∏–Ω–∫–æ–≤–∫–∏:
```bash
g++ main.o libmath.a -o program
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π:
```bash
g++ main.o -lmath -L. -o program
export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH
./program
```

---

## üóìÔ∏è **–î–µ–Ω—å 6: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É

#### 1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**
```bash
# –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
g++ -c math.cpp -o math.o

# –°–æ–∑–¥–∞—ë–º –∞—Ä—Ö–∏–≤
ar rcs libmath.a math.o

# –ò—Å–ø–æ–ª—å–∑—É–µ–º
g++ main.cpp libmath.a -o program
```

#### 2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**
```bash
g++ -fPIC -c math.cpp -o math.o
g++ -shared -o libmath.so math.o

g++ main.cpp -L. -lmath -o program
```

> ‚ö†Ô∏è `-fPIC` ‚Äî –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∫–æ–¥ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è `.so`).

### ‚úÖ –ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞:
```cpp
// math.h
#pragma once
int add(int a, int b);
int multiply(int a, int b);
```

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **`libutils` ‚Äî –≤–∞—à–∞ –ø–µ—Ä–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å **—Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é** –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –§—É–Ω–∫—Ü–∏–∏: `int factorial(int)`, `bool is_prime(int)`, `std::string reverse_string(std::string)`
- –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª `utils.h`
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `utils.cpp`
- –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ (—Ä—É—á–Ω–æ–π –∏–ª–∏ —á–µ—Ä–µ–∑ `make`)
- –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É

### ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
libutils/
‚îú‚îÄ‚îÄ utils.h
‚îú‚îÄ‚îÄ utils.cpp
‚îú‚îÄ‚îÄ libutils.a      # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è
‚îú‚îÄ‚îÄ libutils.so     # –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è
‚îú‚îÄ‚îÄ example.cpp
‚îî‚îÄ‚îÄ Makefile
```

### ‚úÖ Makefile (–ø—Ä–∏–º–µ—Ä):
```makefile
CXX = g++
CXXFLAGS = -std=c++17 -fPIC

all: static dynamic example

static:
	$(CXX) $(CXXFLAGS) -c utils.cpp -o utils.o
	ar rcs libutils.a utils.o

dynamic:
	$(CXX) $(CXXFLAGS) -c utils.cpp -o utils.o
	$(CXX) -shared -o libutils.so utils.o

example:
	$(CXX) $(CXXFLAGS) example.cpp -L. -lutils -o example

run: example
	LD_LIBRARY_PATH=. ./example

clean:
	rm -f *.o *.a *.so example
```

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| –≠—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏ | –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä ‚Üí –∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí –∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ª–∏–Ω–∫–æ–≤–∫–∞ |
| `.h` vs `.cpp` | –û–±—ä—è–≤–ª–µ–Ω–∏—è –≤ `.h`, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ `.cpp` |
| ODR | –û–¥–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º—É ‚Äî –∏–Ω–∞—á–µ –æ—à–∏–±–∫–∞ –ª–∏–Ω–∫–æ–≤–∫–∏ |
| `inline` | –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö) |
| –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞ | –ö–æ–¥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª |
| –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞ | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ |
| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ | `.a` ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, `.so`/`.dll` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å 4 —ç—Ç–∞–ø–∞ —Å–±–æ—Ä–∫–∏ C++ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- [ ] –†–∞–∑–¥–µ–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–∞–π–ª–∞–º `.h` / `.cpp`
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å ODR –∏ –∫–∞–∫ –µ–≥–æ –Ω–∞—Ä—É—à–∏—Ç—å
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `inline` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (`.a`)
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (`.so`)
- [ ] –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏—Å–ø–æ–ª—å–∑—É—é—â—É—é –≤–∞—à—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `LD_LIBRARY_PATH` –∏–ª–∏ `PATH`

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, `std::move`, RVO, –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, PIMPL, –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –ª–∏–Ω–∫–æ–≤–∫–µ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 9"**.


# –û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 9 —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** —Å **—á—ë—Ç–∫–∏–º –∏ –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ**, –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî **–∫–ª—é—á –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –±—ã—Å—Ç—Ä–æ–≥–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏ "–∫—ç—à-–¥—Ä—É–∂–µ–ª—é–±–Ω–æ–≥–æ" C++ –∫–æ–¥–∞**. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å **–∏–∑–º–µ—Ä—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**, **–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –∏ –ø–æ–Ω–∏–º–∞—Ç—å, **—á—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∑–∞–º–µ–¥–ª—è–µ—Ç –≤–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É**.

---

# üìò **–ù–µ–¥–µ–ª—è 9: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ù–∞—É—á–∏—Ç—å—Å—è **–∏–∑–º–µ—Ä—è—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å C++ –∫–æ–¥–∞**, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–¥–∏–æ–º—ã (move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞, RVO)**, –ø–æ–Ω–∏–º–∞—Ç—å –≤–ª–∏—è–Ω–∏–µ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–∞–º—è—Ç–∏** –∏ –∏–∑–±–µ–≥–∞—Ç—å **—Å–∫—Ä—ã—Ç—ã—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: `std::move` –∏ move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**Move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞** –ø–æ–∑–≤–æ–ª—è–µ—Ç **"—É–∫—Ä–∞—Å—Ç—å" —Ä–µ—Å—É—Ä—Å—ã** —É –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (rvalue), –∏–∑–±–µ–≥–∞—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

- `std::move(x)` ‚Äî –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç `x` –≤ **rvalue**, —Ä–∞–∑—Ä–µ—à–∞—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ.
- –†–∞–±–æ—Ç–∞–µ—Ç —Å `std::string`, `std::vector`, `std::unique_ptr` –∏ –¥—Ä—É–≥–∏–º–∏.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
std::vector<int> createBigVector() {
    std::vector<int> v(1000000);
    return v;  // RVO, –Ω–æ –µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî move
}

std::vector<int> v1 = createBigVector();  // move, –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

std::vector<int> v2 = std::vector<int>(500000);  // move –∏–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ
```

```cpp
void process(std::string s);  // –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
std::string name = "Hello";

process(name);           // –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
process(std::move(name)); // move ‚Äî name —Ç–µ–ø–µ—Ä—å –≤ –≤–∞–ª–∏–¥–Ω–æ–º, –Ω–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
```

> ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::move`, –∫–æ–≥–¥–∞ **–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –æ–±—ä–µ–∫—Ç**.

---

## üóìÔ∏è **–î–µ–Ω—å 2: RVO –∏ NRVO ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è**

### üîπ –¢–µ–æ—Ä–∏—è: Return Value Optimization

**RVO (Return Value Optimization)** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **–æ–±—ä–µ–∫—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è**.

- **RVO** ‚Äî –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
- **NRVO (Named RVO)** ‚Äî –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö).

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
std::vector<int> make_vector() {
    std::vector<int> v = heavy_computation();
    return v;  // NRVO: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
}
```

> üîç –î–∞–∂–µ –±–µ–∑ `std::move`, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä **–º–æ–∂–µ—Ç —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**.

### üîë –°–æ–≤–µ—Ç:
- –ü–∏—à–∏—Ç–µ `return expensive_object;` ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–¥–µ–ª–∞–µ—Ç move –∏–ª–∏ RVO.
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `std::move` –≤ `return` –±–µ–∑ –Ω—É–∂–¥—ã ‚Äî —ç—Ç–æ **–º–µ—à–∞–µ—Ç RVO**.

---

## üóìÔ∏è **–î–µ–Ω—å 3: –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî `std::chrono`**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –∏–∑–º–µ—Ä—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

`<chrono>` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <chrono>

auto start = std::chrono::high_resolution_clock::now();

// ... –≤–∞—à –∫–æ–¥ ...

auto end = std::chrono::high_resolution_clock::now();
auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

std::cout << "Time: " << duration.count() << " Œºs\n";
```

### üîë –ï–¥–∏–Ω–∏—Ü—ã:
- `nanoseconds`, `microseconds`, `milliseconds`, `seconds`

### ‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:
- –ó–∞–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è `push_back` —Å `reserve()` –∏ –±–µ–∑.
- –°—Ä–∞–≤–Ω–∏—Ç–µ `std::sort` –∏ –ø—É–∑—ã—Ä—å–∫–æ–≤—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.

---

## üóìÔ∏è **–î–µ–Ω—å 4: –ö—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ layout of objects**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏ –≤–∞–∂–µ–Ω

–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ **–∫—ç—à-–ª–∏–Ω–∏–∏ (–æ–±—ã—á–Ω–æ 64 –±–∞–π—Ç–∞)**. –ï—Å–ª–∏ –≤—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ **—Å–æ—Å–µ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º** ‚Äî —ç—Ç–æ **–±—ã—Å—Ç—Ä–æ**. –ï—Å–ª–∏ –ø—Ä—ã–≥–∞–µ—Ç–µ –ø–æ –ø–∞–º—è—Ç–∏ ‚Äî **–º–µ–¥–ª–µ–Ω–Ω–æ**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
```cpp
// –•–æ—Ä–æ—à–æ: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
for (auto& row : matrix) {
    for (auto& elem : row) {
        sum += elem;  // –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ
    }
}
```

```cpp
// –ü–ª–æ—Ö–æ: —Å—Ç—Ä–∏–¥–æ–≤—ã–π –¥–æ—Å—Ç—É–ø
for (int j = 0; j < N; ++j) {
    for (int i = 0; i < N; ++i) {
        sum += matrix[i][j];  // –ø–ª–æ—Ö–æ–π spatial locality
    }
}
```

### üîë –°–æ–≤–µ—Ç—ã:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::vector` –≤–º–µ—Å—Ç–æ `std::list` (–∫–æ–Ω—Ç–∏–Ω—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å).
- –•—Ä–∞–Ω–∏—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–µ (data-oriented design).
- –ò–∑–±–µ–≥–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é.

---

## üóìÔ∏è **–î–µ–Ω—å 5: PIMPL ‚Äî —Ä–∞–∑–¥–µ–ª—è–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**

### üîπ –¢–µ–æ—Ä–∏—è: Pointer to IMPLementation

**PIMPL** ‚Äî –∏–¥–∏–æ–º–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ —Å–∫—Ä—ã—Ç–∞** –∑–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–º.

### ‚úÖ –ó–∞—á–µ–º?
- –£–º–µ–Ω—å—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `.h` —Ñ–∞–π–ª–æ–≤ ‚Üí –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è.
- –°–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.
- –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ (–µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π).

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
// widget.h
#pragma once
#include <memory>

class Widget {
    class Impl;  // forward declaration
    std::unique_ptr<Impl> pImpl;
public:
    Widget();
    ~Widget();  // –Ω—É–∂–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ unique_ptr –≤ .cpp
    void doSomething();
};
```

```cpp
// widget.cpp
#include "widget.h"

class Widget::Impl {
public:
    std::string data;
    std::vector<int> cache;
    void heavy_logic();
};

Widget::Widget() : pImpl(std::make_unique<Impl>()) {}
Widget::~Widget() = default;

void Widget::doSomething() {
    pImpl->heavy_logic();
}
```

> ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–±–∏–ª–µ–Ω, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## üóìÔ∏è **–î–µ–Ω—å 6: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –≥–¥–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è –≤—Ä–µ–º—è?**

### üîπ –¢–µ–æ—Ä–∏—è: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫–∏ (profilers)

–ß—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –Ω—É–∂–Ω–æ **–∑–Ω–∞—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞**.

#### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|----------|
| `gprof` | Linux | –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `perf` | Linux | –ú–æ—â–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫ (hardware events) |
| `Valgrind Callgrind` | Linux | –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—ã–∑–æ–≤–æ–≤ |
| `Visual Studio Profiler` | Windows | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä |
| `Google Benchmark` | –í—Å–µ | –î–ª—è –º–∏–∫—Ä–æ-–±–µ–Ω—á–º–∞—Ä–∫–æ–≤ |

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Å `perf`:
```bash
g++ -O2 -g main.cpp -o program
perf record ./program
perf report
```

> üîç –ü–æ–∫–∞–∂–µ—Ç, –≤ –∫–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **"–£—Å–∫–æ—Ä—å –º–µ–Ω—è!"**

**–¶–µ–ª—å:** –í–∑—è—Ç—å –º–µ–¥–ª–µ–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ —É–ª—É—á—à–∏—Ç—å –µ—ë –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 10x+.

**–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏:**  
–ü—Ä–æ–≥—Ä–∞–º–º–∞ —á–∏—Ç–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω —Å—Ç—Ä–æ–∫, —Ä–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ —Å–ª–æ–≤–∞, –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É.

#### –ò—Å—Ö–æ–¥–Ω–∞—è –≤–µ—Ä—Å–∏—è (–º–µ–¥–ª–µ–Ω–Ω–∞—è):
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî `std::string`, —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `std::istringstream`.
- –°–ª–æ–≤–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `std::list<std::string>`.
- –ß–∞—Å—Ç–æ—Ç–∞ ‚Äî `std::map<std::string, int>`.

#### –ß—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
1. –ó–∞–º–µ–Ω–∏—Ç—å `std::list` –Ω–∞ `std::vector`.
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::string_view` –¥–ª—è —Å–ª–æ–≤.
3. –ó–∞–º–µ–Ω–∏—Ç—å `std::map` –Ω–∞ `std::unordered_map`.
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `reserve()` –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –∏ `unordered_map`.
5. –ò–∑–º–µ—Ä–∏—Ç—å –¥–æ/–ø–æ—Å–ª–µ —Å `std::chrono`.

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 5‚Äì20 —Ä–∞–∑.
- –ú–µ–Ω—å—à–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π.
- –õ—É—á—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞.

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| `std::move` | –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –¥–µ—à–µ–≤–ª–µ |
| RVO/NRVO | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ |
| `std::chrono` | –¢–æ—á–Ω—ã–π –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| –ö—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø ‚Üí –±—ã—Å—Ç—Ä–µ–µ |
| PIMPL | –°–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π —Ç–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ |
| `reserve()` | –ò–∑–±–µ–≥–∞–π –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::move` –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—Ç—å, –∫–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç RVO
- [ ] –ò–∑–º–µ—Ä—è—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å `std::chrono`
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É `std::vector` –±—ã—Å—Ç—Ä–µ–µ `std::list` –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PIMPL –¥–ª—è –∫–ª–∞—Å—Å–∞
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å `perf` –∏–ª–∏ `Callgrind`
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é reserve, move, unordered_map

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 10‚Äì11: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞: HTTP-—Å–µ—Ä–≤–µ—Ä, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –∏–≥—Ä–∞, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 10: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 10"**.


# –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –Ω–µ–¥–µ–ª–µ 10

–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–ù–µ–¥–µ–ª–µ 10‚Äì11: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —ç—Ç–∞–ø—É –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É C++. –≠—Ç–æ –≤—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å **–≤—Å—ë, —á—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–µ–¥–µ–ª–∏**, –≤ —Ä–µ–∞–ª—å–Ω–æ–º, –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

---

# üìò **–ù–µ–¥–µ–ª—è 10‚Äì11: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2 –Ω–µ–¥–µ–ª–∏ (14 –¥–Ω–µ–π)  
**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å **—Å–µ—Ä—å—ë–∑–Ω—ã–π C++ –ø—Ä–æ–µ–∫—Ç**, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –≤–ª–∞–¥–µ–Ω–∏–µ:
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º C++ (C++17/20),
- –û–û–ü –∏ —à–∞–±–ª–æ–Ω–∞–º–∏,
- –£–º–Ω—ã–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏ RAII,
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é,
- STL –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏,
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

---

## üéØ –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–í—ã–±–µ—Ä–∏—Ç–µ **–æ–¥–∏–Ω** –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (–∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Å–≤–æ–π, –µ—Å–ª–∏ –æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ä–æ–≤–Ω—é).

---

### üîπ **–ü—Ä–æ–µ–∫—Ç 1: HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —Å–æ–∫–µ—Ç–∞—Ö (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)**

#### üß© –ß—Ç–æ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã (GET)
- –û—Ç–≤–µ—á–∞—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (`Content-Type`, `Content-Length`)
- –û—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (HTML, CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (–æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- –ë—ã—Ç—å —É—Å—Ç–æ–π—á–∏–≤—ã–º –∫ –æ—à–∏–±–∫–∞–º

#### ‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- `socket`, `bind`, `listen`, `accept` (POSIX –∏–ª–∏ Windows)
- `std::thread`, `std::mutex`
- `std::filesystem` ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
- `std::string_view` ‚Äî –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- RAII ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–∫–µ—Ç–∞–º–∏

#### üí° –°–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –ü–∞—Ä—Å–∏–Ω–≥ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ MIME-—Ç–∏–ø–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞
- –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### üìå –†–µ–∑—É–ª—å—Ç–∞—Ç:
```bash
./http_server 8080
Server running on http://localhost:8080
GET /index.html -> 200 OK
GET /style.css -> 200 OK
```

---

### üîπ **–ü—Ä–æ–µ–∫—Ç 2: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–π (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏)**

#### üß© –ß—Ç–æ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:
- –ü–∞—Ä—Å–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è: `x = 5 + 3`, `y = x * 2`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –í—ã—á–∏—Å–ª—è—Ç—å –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (`+`, `-`, `*`, `/`, —Å–∫–æ–±–∫–∏)
- –•—Ä–∞–Ω–∏—Ç—å AST (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ)
- –í—ã–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

#### ‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø—É—Å–∫ (recursive descent parsing)
- `std::variant`, `std::unique_ptr` ‚Äî –¥–ª—è AST
- `std::unordered_map<std::string, double>` ‚Äî –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –®–∞–±–ª–æ–Ω—ã ‚Äî –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —É–∑–ª–æ–≤
- –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ "–≤—ã—á–∏—Å–ª–∏–º–æ—Å—Ç–∏"

#### üí° –°–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)
- –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –ø–∞—Ä—Å–µ—Ä, AST, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ

#### üìå –†–µ–∑—É–ª—å—Ç–∞—Ç:
```cpp
Interpreter interp;
interp.eval("x = 10");
interp.eval("y = x * 2 + 5");
std::cout << interp.get("y"); // 25
```

---

### üîπ **–ü—Ä–æ–µ–∫—Ç 3: Game of Life —Å GUI (—á–µ—Ä–µ–∑ SFML –∏–ª–∏ ncurses)**

#### üß© –ß—Ç–æ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–µ—Ç–∫—É (2D)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–∫–æ–ª–µ–Ω–∏—è
- –ü–∞—É–∑–∞ / –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ / —à–∞–≥
- –°–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–≤ —Ñ–∞–π–ª)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

#### ‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **SFML** (–≥—Ä–∞—Ñ–∏–∫–∞) –∏–ª–∏ **ncurses** (–∫–æ–Ω—Å–æ–ª—å–Ω—ã–π GUI)
- `std::vector<std::vector<bool>>` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ç–∫–∏
- `std::chrono` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏
- `std::thread` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
- PIMPL ‚Äî –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è SFML-–¥–µ—Ç–∞–ª–µ–π

#### üí° –°–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –±–µ–∑ "–∑–∞–≤–∏—Å–∞–Ω–∏–π"
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏

#### üìå –†–µ–∑—É–ª—å—Ç–∞—Ç:
![](https://upload.wikimedia.org/wikipedia/commons/e/e5/Gospers_glider_gun.gif)  
(–ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Ç–∞ –ì–æ—Å–ø–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –æ–∫–Ω–µ)

---

### üîπ **–ü—Ä–æ–µ–∫—Ç 4: –°–≤–æ–π –≤–µ–∫—Ç–æ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–≤ –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**

#### üß© –ß—Ç–æ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å STL (`begin`, `end`, `size`, `operator[]`)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å `std::allocator` –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `push_back`, `emplace_back`, `reserve`, `shrink_to_fit`
- –ò–º–µ—Ç–µ—Ç—å **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã** (Random Access)
- –ë—ã—Ç—å `noexcept`-–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å move-—Å–µ–º–∞–Ω—Ç–∏–∫—É

#### ‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- –®–∞–±–ª–æ–Ω—ã
- –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–∏–ª–∏ —Å—ã—Ä–æ–π `T*` —Å RAII)
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã (—Å `iterator_traits`)
- `std::allocator_traits`
- SFINAE / –∫–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤

#### üí° –°–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `std::sort`, `std::find`

#### üìå –†–µ–∑—É–ª—å—Ç–∞—Ç:
```cpp
MyVector<int> v;
v.push_back(1);
v.emplace_back(2);
std::sort(v.begin(), v.end());
```

---

## üóìÔ∏è **–ü–ª–∞–Ω –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏**

| –î–µ–Ω—å | –ó–∞–¥–∞—á–∞ |
|------|-------|
| **1‚Äì2** | –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, UML (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| **3‚Äì4** | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞: –ø–∞—Ä—Å–µ—Ä, —Å–µ—Ä–≤–µ—Ä, —Å–µ—Ç–∫–∞, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| **5‚Äì6** | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ / GUI / —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã |
| **7‚Äì8** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã, –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ |
| **9‚Äì10** | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: `std::move`, `reserve`, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **11‚Äì12** | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, `README.md`, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ |
| **13‚Äì14** | –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ |

---

## ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–µ–∫—Ç—É

–í–∞—à –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **C++17 –∏–ª–∏ –Ω–æ–≤–µ–µ**
- –ë—ã—Ç—å **—Å–æ–±–∏—Ä–∞–µ–º—ã–º** —á–µ—Ä–µ–∑ `g++` –∏–ª–∏ `cmake`
- –°–æ–¥–µ—Ä–∂–∞—Ç—å **–∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã** –∏ **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `using namespace std;`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**, –∞ –Ω–µ `new`/`delete`
- –ë—ã—Ç—å **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º**, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –ò–º–µ—Ç—å **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –∏ **–ª–æ–≥–∏—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**

---

## üì¶ –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

```
my_project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îú‚îÄ‚îÄ server.cpp
‚îÇ   ‚îî‚îÄ‚îÄ server.h
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ my_vector.hpp
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test.cpp
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ assets/ (–¥–ª—è Game of Life –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞)
```

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (MVP)** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä, –æ—Ç–≤–µ—á–∞—é—â–∏–π "Hello World".
2. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.**
3. **–ü–∏—à–∏—Ç–µ –∫–æ–¥ —Ç–∞–∫, –±—É–¥—Ç–æ –µ–≥–æ –±—É–¥—É—Ç —á–∏—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ.**
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `clang-tidy`, `cppcheck` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.**
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `CMakeLists.txt`** ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–∫–æ–¥–∞.

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI** ‚Äî –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å **—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã**, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Google Test**, –Ω–∞—Å—Ç—Ä–æ–∏—Ç–µ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (GitHub Actions)** –∏ –Ω–∞—É—á–∏—Ç–µ—Å—å **–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º–∏**.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **—à–∞–±–ª–æ–Ω CMakeLists.txt**,
- –î–∞—Ç—å **–ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP-—Å–µ—Ä–≤–µ—Ä–∞),
- –ü–æ–º–æ—á—å —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏:  
üëâ **"–•–æ—á—É —à–∞–±–ª–æ–Ω CMake"**  
üëâ **"–ü–æ–∫–∞–∂–∏ –ø—Ä–∏–º–µ—Ä HTTP-—Å–µ—Ä–≤–µ—Ä–∞"**  
üëâ **"–ü–æ–º–æ–≥–∏ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**


# –ü–æ–∫–∞–∂–∏ –ø—Ä–∏–º–µ—Ä HTTP-—Å–µ—Ä–≤–µ—Ä–∞

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø—Ä–æ—Å—Ç–æ–π, –Ω–æ —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ C++** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **—Å–æ–∫–µ—Ç–æ–≤ (POSIX-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö)**, `std::thread`, `std::filesystem`, `std::string_view` –∏ RAII. –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `GET`-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–≤–∫–ª—é—á–∞—è `index.html`, CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).

> ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ä–æ–≤–Ω—é **–ù–µ–¥–µ–ª–∏ 10‚Äì11** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (C++17).

---

# üåê **–ü—Ä–∏–º–µ—Ä: –ü—Ä–æ—Å—Ç–æ–π HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ C++**

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
http_server/
‚îú‚îÄ‚îÄ main.cpp
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îú‚îÄ‚îÄ www/
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ style.css
‚îÇ   ‚îî‚îÄ‚îÄ script.js
‚îî‚îÄ‚îÄ README.md
```

---

## üìÑ `www/index.html`

```html
<!DOCTYPE html>
<html>
<head>
    <title>My C++ HTTP Server</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>üöÄ HTTP Server on C++</h1>
    <p>This page is served by a server written in pure C++!</p>
    <button onclick="alert('Hello from C++ backend!')">Click me</button>
</body>
</html>
```

---

## üé® `www/style.css`

```css
body {
    font-family: Arial, sans-serif;
    background: #f0f0f0;
    text-align: center;
    padding: 50px;
}
h1 {
    color: #333;
}
```

---

## üíª `main.cpp` ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞

```cpp
// main.cpp
#include <iostream>
#include <string>
#include <string_view>
#include <thread>
#include <vector>
#include <fstream>
#include <sstream>
#include <filesystem>
#include <unordered_map>
#include <cstring>
#include <sys/socket.h>
#include <netinet/in.h>
#include <unistd.h>
#include <fcntl.h>

namespace fs = std::filesystem;

// MIME-—Ç–∏–ø—ã
const std::unordered_map<std::string, std::string> MIME_TYPES = {
    {".html", "text/html"},
    {".css",  "text/css"},
    {".js",   "application/javascript"},
    {".png",  "image/png"},
    {".jpg",  "image/jpeg"},
    {".gif",  "image/gif"},
    {".ico",  "image/x-icon"}
};

// RAII-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è —Å–æ–∫–µ—Ç–∞
struct Socket {
    int fd;
    explicit Socket(int s) : fd(s) {}
    ~Socket() { if (fd >= 0) close(fd); }
    Socket(const Socket&) = delete;
    Socket& operator=(const Socket&) = delete;
    Socket(Socket&& other) noexcept : fd(other.fd) { other.fd = -1; }
    Socket& operator=(Socket&& other) noexcept {
        if (this != &other) {
            if (fd >= 0) close(fd);
            fd = other.fd;
            other.fd = -1;
        }
        return *this;
    }
};

// –ü–æ–ª—É—á–∏—Ç—å MIME-—Ç–∏–ø –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
std::string get_mime_type(const std::string& path) {
    auto ext = fs::path(path).extension().string();
    auto it = MIME_TYPES.find(ext);
    return it != MIME_TYPES.end() ? it->second : "application/octet-stream";
}

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –∫–∞–∫ –±–∞–π—Ç—ã
std::vector<char> read_file(const fs::path& path) {
    std::ifstream file(path, std::ios::binary);
    if (!file) return {};
    return std::vector<char>((std::istreambuf_iterator<char>(file)),
                              std::istreambuf_iterator<char>());
}

// –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å HTTP-–æ—Ç–≤–µ—Ç
std::string make_response(int status, const std::string& status_msg,
                          const std::string& content_type,
                          const std::vector<char>& body) {
    std::ostringstream oss;
    oss << "HTTP/1.1 " << status << " " << status_msg << "\r\n";
    oss << "Content-Type: " << content_type << "\r\n";
    oss << "Content-Length: " << body.size() << "\r\n";
    oss << "Connection: close\r\n";
    oss << "\r\n";
    std::string header = oss.str();
    std::string response = header;
    response.append(body.begin(), body.end());
    return response;
}

// –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å
void handle_request(int client_fd, const fs::path& www_root) {
    Socket client(client_fd);

    // –ß—Ç–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    char buffer[4096] = {0};
    ssize_t bytes_read = recv(client.fd, buffer, sizeof(buffer) - 1, 0);
    if (bytes_read <= 0) return;

    std::string request(buffer);
    std::istringstream iss(request);
    std::string method, path, version;
    iss >> method >> path >> version;

    std::cout << method << " " << path << " " << version << "\n";

    if (method != "GET") {
        std::vector<char> body = {'N', 'o', 't', ' ', 'I', 'm', 'p', 'l', 'e', 'm', 'e', 'n', 't', 'e', 'd'};
        std::string response = make_response(501, "Not Implemented", "text/plain", body);
        send(client.fd, response.c_str(), response.size(), 0);
        return;
    }

    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—É—Ç–∏
    fs::path requested = www_root / path.substr(1);  // —É–±–∏—Ä–∞–µ–º '/'
    if (path == "/") requested = www_root / "index.html";

    // –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã www/
    if (requested.string().find(www_root.string()) != 0) {
        std::vector<char> body = {'F', 'o', 'r', 'b', 'i', 'd', 'd', 'e', 'n'};
        std::string response = make_response(403, "Forbidden", "text/plain", body);
        send(client.fd, response.c_str(), response.size(), 0);
        return;
    }

    if (!fs::exists(requested) || fs::is_directory(requested)) {
        std::vector<char> body = {'N', 'o', 't', ' ', 'F', 'o', 'u', 'n', 'd'};
        std::string response = make_response(404, "Not Found", "text/plain", body);
        send(client.fd, response.c_str(), response.size(), 0);
        return;
    }

    auto content = read_file(requested);
    if (content.empty()) {
        std::vector<char> body = {'E', 'r', 'r', 'o', 'r', ' ', 'R', 'e', 'a', 'd', 'i', 'n', 'g', ' ', 'F', 'i', 'l', 'e'};
        std::string response = make_response(500, "Internal Error", "text/plain", body);
        send(client.fd, response.c_str(), response.size(), 0);
        return;
    }

    std::string mime = get_mime_type(requested);
    std::string response = make_response(200, "OK", mime, content);
    send(client.fd, response.c_str(), response.size(), 0);
}

int main(int argc, char* argv[]) {
    if (argc != 2) {
        std::cerr << "Usage: " << argv[0] << " <port>\n";
        return 1;
    }

    int port = std::stoi(argv[1]);
    fs::path www_root = "www";

    if (!fs::exists(www_root)) {
        std::cerr << "Error: Directory 'www' not found.\n";
        return 1;
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–∫–µ—Ç–∞
    Socket server_socket(socket(AF_INET, SOCK_STREAM, 0));
    if (server_socket.fd < 0) {
        perror("socket failed");
        return 1;
    }

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–∫–µ—Ç–∞
    int opt = 1;
    setsockopt(server_socket.fd, SOL_SOCKET, SO_REUSEADDR, &opt, sizeof(opt));

    sockaddr_in addr{};
    addr.sin_family = AF_INET;
    addr.sin_addr.s_addr = INADDR_ANY;
    addr.sin_port = htons(port);

    if (bind(server_socket.fd, (struct sockaddr*)&addr, sizeof(addr)) < 0) {
        perror("bind failed");
        return 1;
    }

    if (listen(server_socket.fd, 10) < 0) {
        perror("listen failed");
        return 1;
    }

    std::cout << "Server running on http://localhost:" << port << "\n";

    while (true) {
        sockaddr_in client_addr{};
        socklen_t addr_len = sizeof(client_addr);
        int client_fd = accept(server_socket.fd, (struct sockaddr*)&client_addr, &addr_len);
        if (client_fd < 0) {
            perror("accept failed");
            continue;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
        std::thread t(handle_request, client_fd, www_root);
        t.detach();  // –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤
    }

    return 0;
}
```

---

## üß∞ `CMakeLists.txt`

```cmake
cmake_minimum_required(VERSION 3.14)
project(HttpServer)

set(CMAKE_CXX_STANDARD 17)

add_executable(http_server main.cpp)

# –î–ª—è Linux
target_link_libraries(http_server pthread)
```

–°–±–æ—Ä–∫–∞:
```bash
mkdir build
cd build
cmake ..
make
./http_server 8080
```

---

## üöÄ –ó–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `www` —Å `index.html`, `style.css`.
2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./http_server 8080`
4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8080`

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Å–≤—è–∑—å —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π)

| –¢–µ–º–∞ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ |
|------|------------------------|
| –°–æ–∫–µ—Ç—ã | `socket`, `bind`, `listen`, `accept` |
| –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å | `std::thread` –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å |
| RAII | `Socket` —Å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º |
| `std::string_view` / `std::string` | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ |
| `std::filesystem` | –ü–æ–∏—Å–∫ –∏ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ |
| `std::unordered_map` | MIME-—Ç–∏–ø—ã |
| –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ | `std::move`, `if constexpr`, `auto` |
| –ò—Å–∫–ª—é—á–µ–Ω–∏—è | –ù–µ—Ç (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ `if`) |
| PIMPL | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å–æ–∫–µ—Ç–æ–≤ |

---

## üîß –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –≤–º–µ—Å—Ç–æ `detach()`
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `POST`
- [ ] HTTPS (—Å OpenSSL)
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã (`/api/users`)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–æ–±–∞–≤–∏—Ç—å **–ø–æ–¥–¥–µ—Ä–∂–∫—É POST**,
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ **–ø—É–ª –ø–æ—Ç–æ–∫–æ–≤**,
- –î–æ–±–∞–≤–∏—Ç—å **—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å Google Test**,
- –°–¥–µ–ª–∞—Ç—å **–≤–µ—Ä—Å–∏—é —Å SFML –∏–ª–∏ ncurses**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–î–æ–±–∞–≤—å –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤"** –∏–ª–∏ **"–•–æ—á—É –≤–µ—Ä—Å–∏—é —Å —Ç–µ—Å—Ç–∞–º–∏"** üòä

<img width="779" height="345" alt="image" src="https://github.com/user-attachments/assets/32cc322d-93c7-451c-b86a-157318d153b6" />


# –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –Ω–µ–¥–µ–ª–µ 12

–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–ù–µ–¥–µ–ª–µ 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI** ‚Äî –≤–∞–∂–Ω–µ–π—à–µ–º—É —ç—Ç–∞–ø—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ C++. –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å **–Ω–∞–¥—ë–∂–Ω—ã–µ —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã**, –Ω–∞—Å—Ç—Ä–æ–∏—Ç–µ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (CI)** –∏ –≤–Ω–µ–¥—Ä–∏—Ç–µ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞**, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π, –Ω–æ –∏ **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥**.

---

# üìò **–ù–µ–¥–µ–ª—è 12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Google Test (gtest)**, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å **GitHub Actions** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ, –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã** (`clang-tidy`, `cppcheck`) –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### üîπ –¢–µ–æ—Ä–∏—è: –ó–∞—á–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?

**–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç (unit test)** ‚Äî —ç—Ç–æ —Ç–µ—Å—Ç, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π **–æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–ª–∞—Å—Å –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –≤ –∏–∑–æ–ª—è—Ü–∏–∏.

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–∞–≥–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞ —Å–ª–æ–º–∞—Ç—å –∫–æ–¥
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–¥
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD

### üîπ AAA-–ø–∞—Ç—Ç–µ—Ä–Ω:
- **Arrange** ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Act** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- **Assert** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```cpp
TEST(MathTest, CanAddTwoNumbers) {
    // Arrange
    int a = 2, b = 3;
    // Act
    int result = add(a, b);
    // Assert
    EXPECT_EQ(result, 5);
}
```

---

## üóìÔ∏è **–î–µ–Ω—å 2: Google Test (gtest) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

### üîπ –¢–µ–æ—Ä–∏—è: Google Test ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ

**Google Test** ‚Äî –º–æ—â–Ω–∞—è –∏ –ø–æ–ø—É–ª—è—Ä–Ω–∞—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è C++.

### ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Linux, —á–µ—Ä–µ–∑ vcpkg –∏–ª–∏ conan ‚Äî –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ CI)

#### –ü—Ä–∏–º–µ—Ä: —Å–±–æ—Ä–∫–∞ —Å CMake

```cmake
# CMakeLists.txt
cmake_minimum_required(VERSION 3.14)
project(MyProject)

set(CMAKE_CXX_STANDARD 17)

# –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª
add_library(mylib STATIC src/utils.cpp)

# –¢–µ—Å—Ç—ã
enable_testing()
find_package(GTest REQUIRED)

add_executable(tests test/test_utils.cpp)
target_link_libraries(tests mylib GTest::gtest GTest::gtest_main)

include(GoogleTest)
gtest_discover_tests(tests)
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:

```cpp
// test/test_utils.cpp
#include <gtest/gtest.h>
#include "utils.h"

TEST(UtilsTest, Factorial) {
    EXPECT_EQ(factorial(0), 1);
    EXPECT_EQ(factorial(3), 6);
    EXPECT_EQ(factorial(5), 120);
}

TEST(UtilsTest, IsPrime) {
    EXPECT_FALSE(is_prime(1));
    EXPECT_TRUE(is_prime(2));
    EXPECT_TRUE(is_prime(3));
    EXPECT_FALSE(is_prime(4));
    EXPECT_TRUE(is_prime(17));
}
```

> –ó–∞–ø—É—Å–∫: `./tests` ‚Üí –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

---

## üóìÔ∏è **–î–µ–Ω—å 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã?

- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ **–ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**, –∞ –Ω–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Fixture**, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `SafeArray`

```cpp
class SafeArrayTest : public ::testing::Test {
protected:
    void SetUp() override {
        arr.push_back(10);
        arr.push_back(20);
    }

    SafeArray<int> arr;
};

TEST_F(SafeArrayTest, SizeAfterPush) {
    EXPECT_EQ(arr.size(), 2);
}

TEST_F(SafeArrayTest, AccessElements) {
    EXPECT_EQ(arr.at(0), 10);
    EXPECT_EQ(arr.at(1), 20);
}

TEST_F(SafeArrayTest, ThrowsOnOutOfBounds) {
    EXPECT_THROW(arr.at(100), std::out_of_range);
}
```

---

## üóìÔ∏è **–î–µ–Ω—å 4: Mock-–æ–±—ä–µ–∫—Ç—ã —Å Google Mock**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–∫–∏?

**Mock-–æ–±—ä–µ–∫—Ç** ‚Äî –∑–∞–≥–ª—É—à–∫–∞, –∏–º–∏—Ç–∏—Ä—É—é—â–∞—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∏–∑–æ–ª—è—Ü–∏–∏.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞:
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö,
- –ï—Å—Ç—å –≤–Ω–µ—à–Ω–∏–µ API,
- –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –±—ã–ª –ª–∏ –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:

```cpp
class Database {
public:
    virtual ~Database() = default;
    virtual bool save(const std::string& data) = 0;
};

class MockDatabase : public Database {
public:
    MOCK_METHOD(bool, save, (const std::string&), (override));
};

TEST(LoggerTest, SavesToDatabaseOnCritical) {
    MockDatabase mock_db;
    Logger logger(&mock_db);

    EXPECT_CALL(mock_db, save(::testing::_))
        .Times(1);

    logger.critical("System failure!");
}
```

> üîß –¢—Ä–µ–±—É–µ—Ç `find_package(GMock REQUIRED)` –∏ `target_link_libraries(... GTest::gmock)`

---

## üóìÔ∏è **–î–µ–Ω—å 5: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (CI) —Å GitHub Actions**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ CI?

**CI (Continuous Integration)** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –≤ `git`.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: `.github/workflows/ci.yml`

```yaml
name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Install dependencies
      run: sudo apt-get update && sudo apt-get install -y libgtest-dev cmake

    - name: Build gtest
      run: |
        cd /usr/src/gtest
        sudo cmake CMakeLists.txt
        sudo make
        sudo cp *.a /usr/lib

    - name: Configure CMake
      run: cmake -B build

    - name: Build
      run: cmake --build build

    - name: Run tests
      run: ctest --test-dir build --output-on-failure
```

> ‚úÖ –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ `git push` GitHub –∑–∞–ø—É—Å—Ç–∏—Ç —Å–±–æ—Ä–∫—É –∏ —Ç–µ—Å—Ç—ã.

---

## üóìÔ∏è **–î–µ–Ω—å 6: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ ‚Äî `clang-tidy` –∏ `cppcheck`**

### üîπ –¢–µ–æ—Ä–∏—è: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ **–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –∫–æ–¥ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞**, –Ω–∞—Ö–æ–¥—è:
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏,
- –ù–∞—Ä—É—à–µ–Ω–∏—è —Å—Ç–∏–ª—è,
- –£—Ç–µ—á–∫–∏,
- –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤—ã–∑–æ–≤—ã.

### ‚úÖ `clang-tidy` ‚Äî –º–æ—â–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Clang

```bash
clang-tidy src/*.cpp -- -std=c++17 -Iinclude
```

–ü—Ä–∏–º–µ—Ä `.clang-tidy`:
```yaml
Checks: >
  modernize-*,
  readability-*,
  cppcoreguidelines-*,
  bugprone-*
WarningsAsErrors: '*'
```

### ‚úÖ `cppcheck` ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π

```bash
cppcheck --enable=warning,performance,portability src/
```

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI:
```yaml
- name: Run clang-tidy
  run: clang-tidy src/*.cpp -- -std=c++17
```

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –∏ CI**

**–¶–µ–ª—å:** –í–∑—è—Ç—å **–ª—é–±–æ–π –≤–∞—à –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–æ–µ–∫—Ç** (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP-—Å–µ—Ä–≤–µ—Ä, `SafeArray`, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä) –∏ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã** —Å Google Test
2. **`.github/workflows/ci.yml`**
3. **`.clang-tidy`**
4. **–ó–∞–ø—É—Å–∫ `cppcheck` –≤ CI**
5. **–ü—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –≤—Å—ë –ø—Ä–æ—Ö–æ–¥–∏—Ç "–∑–µ–ª—ë–Ω—ã–º"**

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```
my_project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ utils.cpp
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ utils.h
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_all.cpp
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îú‚îÄ‚îÄ .github/workflows/ci.yml
‚îú‚îÄ‚îÄ .clang-tidy
‚îî‚îÄ‚îÄ README.md
```

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ: —Å–±–æ—Ä–∫–∞ + —Ç–µ—Å—Ç—ã + –∞–Ω–∞–ª–∏–∑
- –í—ã –Ω–µ —Å–ª–æ–º–∞–µ—Ç–µ –∫–æ–¥ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ
- –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----------|
| **Google Test** | –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–∞ C++ |
| **Google Mock** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π |
| **GitHub Actions** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ |
| **clang-tidy** | –ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –∏ –±–∞–≥–æ–≤ |
| **cppcheck** | –ü–æ–∏—Å–∫ —É—Ç–µ—á–µ–∫, –æ—à–∏–±–æ–∫ |
| **CI** | –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google Test
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `EXPECT_EQ`, `ASSERT_THROW`, `TEST_F`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `clang-tidy` –∏ `cppcheck`
- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å, —á—Ç–æ CI –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 13‚Äì14: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å legacy-–∫–æ–¥–æ–º, —Å—Ç–∏–ª—å –∫–æ–¥–∞ (Google, LLVM), –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Doxygen), exception safety, RAII, –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **–≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å CI –∏ —Ç–µ—Å—Ç–∞–º–∏**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 13: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É —à–∞–±–ª–æ–Ω"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 13"**.


# –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –Ω–µ–¥–µ–ª–µ 13

–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–ù–µ–¥–µ–ª–µ 13‚Äì14: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ –≤–∞—à–µ–≥–æ –ø—É—Ç–∏ –≤ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π C++. –ù–∞ —ç—Ç–∏—Ö –Ω–µ–¥–µ–ª—è—Ö –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —á–∏—Ç–∞–µ–º—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –∏ open-source –ø—Ä–æ–µ–∫—Ç–æ–≤.

---

# üìò **–ù–µ–¥–µ–ª—è 13‚Äì14: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

**–£—Ä–æ–≤–µ–Ω—å:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2 –Ω–µ–¥–µ–ª–∏ (14 –¥–Ω–µ–π)  
**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π C++ –∫–æ–¥**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º, —Ä–∞–±–æ—Ç–∞—Ç—å —Å **legacy-–∫–æ–¥–æ–º**, –ø—Ä–∏–º–µ–Ω—è—Ç—å **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**, —Å–ª–µ–¥–æ–≤–∞—Ç—å **—Å—Ç–∏–ª—é –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è**, –∏ –≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –∫ **–ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**.

---

## üóìÔ∏è **–î–µ–Ω—å 1‚Äì2: –°—Ç–∏–ª–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî Google, LLVM, Qt**

### üîπ –¢–µ–æ—Ä–∏—è: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Å—Ç–∏–ª—å?

–ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç:
- –ß–∏—Ç–∞–µ–º—ã–º,
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º,
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º.

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞:

| –°—Ç–∏–ª—å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|------|-------------|
| **Google C++ Style Guide** | `CamelCase` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, `snake_case` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∑–∞–ø—Ä–µ—Ç exceptions, `auto` —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é |
| **LLVM/Clang** | `camelCase` –¥–ª—è –º–µ—Ç–æ–¥–æ–≤, —Å—Ç—Ä–æ–≥–∏–π RAII, –ª—é–±–æ–≤—å –∫ `auto`, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ |
| **Qt** | `CamelCase`, —Å–∏–≥–Ω–∞–ª—ã/—Å–ª–æ—Ç—ã, `Q_OBJECT`, `noexcept` –≤–µ–∑–¥–µ |

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã:
```cpp
// Google
class UrlTable {
 public:
  explicit UrlTable(const std::string& name);
  void setName(const std::string& name);
 private:
  std::string name_;
};

// LLVM
class UrlTable {
public:
  explicit UrlTable(StringRef name);
  void setName(StringRef name);
private:
  std::string name;
};
```

### üîß –°–æ–≤–µ—Ç—ã:
- –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏ **–ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å –µ–≥–æ**.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `clang-format` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### ‚úÖ `.clang-format` (Google):
```yaml
BasedOnStyle: Google
IndentWidth: 4
UseTab: Never
```

---

## üóìÔ∏è **–î–µ–Ω—å 3‚Äì4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ ‚Äî –æ—Ç –≥—Ä—è–∑–Ω–æ–≥–æ –∫ —á–∏—Å—Ç–æ–º—É**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥?

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞ **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è**, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å:
- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å,
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å,
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å.

### ‚úÖ –ü—Ä–∏–º–µ—Ä "–≥—Ä—è–∑–Ω–æ–≥–æ" –∫–æ–¥–∞:
```cpp
void process_data(int* data, int size, int mode) {
    if (mode == 1) {
        for (int i = 0; i < size; ++i) {
            data[i] *= 2;
        }
    } else if (mode == 2) {
        for (int i = 0; i < size; ++i) {
            data[i] += 10;
        }
    }
    // ... –∏ —Ç.–¥.
}
```

### ‚úÖ –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```cpp
enum class ProcessMode { Double, AddTen };

template<ProcessMode M>
void process(std::vector<int>& data);

template<>
void process<ProcessMode::Double>(std::vector<int>& data) {
    for (int& x : data) x *= 2;
}

template<>
void process<ProcessMode::AddTen>(std::vector<int>& data) {
    for (int& x : data) x += 10;
}
```

> ‚úÖ –ß–∏—Ç–∞–µ–º–æ, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ.

---

## üóìÔ∏è **–î–µ–Ω—å 5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ ‚Äî Doxygen**

### üîπ –¢–µ–æ—Ä–∏—è: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**Doxygen** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
/**
 * @brief Computes factorial of a non-negative integer.
 * 
 * @param n Input number (must be >= 0)
 * @return int Factorial of n
 * @throws std::invalid_argument if n < 0
 */
int factorial(int n);
```

### ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è:
```bash
doxygen -g  # —Å–æ–∑–¥–∞—ë—Ç Doxyfile
# –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ: PROJECT_NAME, INPUT, GENERATE_HTML = YES
doxygen
```

> –û—Ç–∫—Ä–æ–π—Ç–µ `html/index.html` ‚Äî –≥–æ—Ç–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

---

## üóìÔ∏è **–î–µ–Ω—å 6: Exception Safety ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ?

C++ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –∫–æ–¥ –æ—Å—Ç–∞–≤–∞–ª—Å—è –≤ **–≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏** –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö.

#### –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –≥–∞—Ä–∞–Ω—Ç–∏–π:
| –£—Ä–æ–≤–µ–Ω—å | –ì–∞—Ä–∞–Ω—Ç–∏–∏ |
|--------|--------|
| **No-throw guarantee** | –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `swap`, –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã) |
| **Strong guarantee** | –õ–∏–±–æ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –ª–∏–±–æ –æ–±—ä–µ–∫—Ç –æ—Å—Ç–∞–ª—Å—è –∫–∞–∫ –±—ã–ª |
| **Basic guarantee** | –û–±—ä–µ–∫—Ç –≤ –≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω |

### ‚úÖ –ü—Ä–∏–º–µ—Ä strong guarantee:
```cpp
void Vector::push_back(const T& value) {
    T copy = value;  // –∫–æ–ø–∏—Ä—É–µ–º –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    if (size_ == capacity_) {
        reserve(2 * capacity_);  // –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å
    }
    data_[size_++] = copy;  // —É–∂–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ
}
```

> ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –∫–ª—é—á –∫ strong guarantee.

---

## üóìÔ∏è **–î–µ–Ω—å 7: RAII, `noexcept`, `=default`, `=delete`**

### üîπ –¢–µ–æ—Ä–∏—è: –ò–¥–∏–æ–º—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

#### 1. **RAII**
- –†–µ—Å—É—Ä—Å = –≤–ª–∞–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–º.
- –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å.

#### 2. **`noexcept`**
- –ü–æ–º–µ—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π**.
- –í–∞–∂–Ω–æ –¥–ª—è `std::vector` (–ø—Ä–∏ `push_back` –º–æ–∂–µ—Ç –±—ã—Ç—å `move`).

```cpp
~MyClass() noexcept;           // –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –≤—Å–µ–≥–¥–∞ noexcept
void swap() noexcept;          // –≤–∞–∂–Ω–æ –¥–ª—è STL
```

#### 3. **`=default` / `=delete`**
```cpp
MyClass(const MyClass&) = default;      // –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ
MyClass& operator=(const MyClass&) = delete;  // –∑–∞–ø—Ä–µ—â–∞–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```

> ‚úÖ –Ø–≤–Ω–æ –≤—ã—Ä–∞–∂–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ.

---

## üóìÔ∏è **–î–µ–Ω—å 8‚Äì9: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API ‚Äî –∫–∞–∫ –ø–∏—Å–∞—Ç—å —É–¥–æ–±–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**

### üîπ –¢–µ–æ—Ä–∏—è: –•–æ—Ä–æ—à–∏–π API ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ

**API** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º,
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–º,
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º,
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–º.

### ‚úÖ –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ API:
```cpp
void set_value(int* ptr, int size);  // –∫—Ç–æ –≤—ã–¥–µ–ª—è–µ—Ç? –∫—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç?
```

### ‚úÖ –•–æ—Ä–æ—à–∏–π API:
```cpp
void set_value(std::span<const int> values);  // –≤–ª–∞–¥–µ–Ω–∏–µ —è—Å–Ω–æ
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª–∞:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::string_view`, `std::span`, `std::string`
- –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ `std::optional<T>` –≤–º–µ—Å—Ç–æ `-1` –∏–ª–∏ `nullptr`
- –ò–∑–±–µ–≥–∞–π—Ç–µ "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö" —á–∏—Å–µ–ª
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º

---

## üóìÔ∏è **–î–µ–Ω—å 10‚Äì11: –†–∞–±–æ—Ç–∞ —Å legacy-–∫–æ–¥–æ–º**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –Ω–µ —Å–ª–æ–º–∞—Ç—å —Å—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç?

**Legacy-–∫–æ–¥** ‚Äî —Ä–∞–±–æ—á–∏–π, –Ω–æ –ø–ª–æ—Ö–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –±–µ–∑ —Ç–µ—Å—Ç–æ–≤.

### ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è:
1. **–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã** –≤–æ–∫—Ä—É–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤.
2. **–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ** —á–∞—Å—Ç–∏ (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã).
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ** (–Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤—Å—ë —Å—Ä–∞–∑—É).
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `#pragma once`, `final`, `override`** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
// –°—Ç–∞—Ä—ã–π –∫–æ–¥
extern int global_counter;
void process_data();

// –£–ª—É—á—à–µ–Ω–∏–µ
class DataProcessor {
public:
    void process();
private:
    int counter = 0;
};
```

> ‚úÖ –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, RAII, –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

---

## üóìÔ∏è **–î–µ–Ω—å 12‚Äì14: –ü—Ä–æ–µ–∫—Ç ‚Äî –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ legacy-–ø—Ä–æ–µ–∫—Ç–∞**

### üîπ –ó–∞–¥–∞—á–∞: –í–∑—è—Ç—å "–≥—Ä—è–∑–Ω—ã–π" –ø—Ä–æ–µ–∫—Ç –∏ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º

**–¶–µ–ª—å:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å—ë, —á—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä):**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `new`/`delete` –≤—Ä—É—á–Ω—É—é
- –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏
- –ù–µ—Ç —Å—Ç–∏–ª—è

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞–º–µ–Ω–∏—Ç—å `new`/`delete` –Ω–∞ `std::unique_ptr`
2. –£–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Üí –∏–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –î–æ–±–∞–≤–∏—Ç—å Google Test
4. –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `clang-format`
5. –î–æ–±–∞–≤–∏—Ç—å Doxygen-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI
7. –ù–∞–ø–∏—Å–∞—Ç—å `README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –¥–≤—É—Ö –Ω–µ–¥–µ–ª—å**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| –°—Ç–∏–ª—å –∫–æ–¥–∞ | –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å ‚Üí —á–∏—Ç–∞–µ–º–æ—Å—Ç—å |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | –£–ª—É—á—à–∞–π—Ç–µ –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è |
| Doxygen | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ API |
| Exception Safety | –û–±–µ—Å–ø–µ—á—å—Ç–µ basic/strong –≥–∞—Ä–∞–Ω—Ç–∏–∏ |
| `noexcept`, `=default` | –Ø–≤–Ω–æ –≤—ã—Ä–∞–∂–∞–π—Ç–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ |
| API Design | –ü—Ä–æ—Å—Ç–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π |
| Legacy Code | –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ ‚Üí –∏–∑–æ–ª–∏—Ä—É–π—Ç–µ ‚Üí —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –ø—Ä–æ–≥—Ä–∞–º–º—ã**

- [ ] –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç–∏–ª—é –∫–æ–¥–∞ (Google/LLVM)
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –≥—Ä—è–∑–Ω—ã–π –∫–æ–¥
- [ ] –ü–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —á–µ—Ä–µ–∑ Doxygen
- [ ] –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å exception safety
- [ ] –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–µ API
- [ ] –†–∞–±–æ—Ç–∞—Ç—å —Å legacy-–∫–æ–¥–æ–º
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `=default`, `=delete`, `noexcept`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

---

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É C++!

–¢–µ–ø–µ—Ä—å –≤—ã:
- –ü–∏—à–µ—Ç–µ **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π C++**,
- –ü–æ–Ω–∏–º–∞–µ—Ç–µ **—Ç–æ–Ω–∫–æ—Å—Ç–∏ —è–∑—ã–∫–∞** (vtable, move, templates),
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å **–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é, STL, CI/CD**,
- –ì–æ—Ç–æ–≤—ã –∫ **—Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º**.

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

- –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ **open-source** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ GitHub)
- –ò–∑—É—á–∞–π—Ç–µ **C++23** –Ω–æ–≤—à–µ—Å—Ç–≤–∞
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ø–æ–¥ Linux/Windows**
- –ù–∞–ø–∏—à–∏—Ç–µ **—Å–≤–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É**

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF-–≤–µ—Ä—Å–∏—é –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã** (14 –Ω–µ–¥–µ–ª—å),
- –î–∞—Ç—å **—á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è** (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π),
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–µ open-source –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–æ–¥–∞**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏:  
üëâ **"–•–æ—á—É PDF –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã"**  
üëâ **"–î–∞–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è"**  
üëâ **"–ü–æ–∫–∞–∂–∏ open-source –ø—Ä–æ–µ–∫—Ç—ã –Ω–∞ C++"**



# –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (–û–û–ü)** ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ C++ –∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö. –ò—Ö –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –∫–∞–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π.

---

## üîπ **–ß–µ—Ç—ã—Ä–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞ –û–û–ü**

–•–æ—Ç—è –≤ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –∏—Ö –Ω–∞–∑—ã–≤–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç–æ –≤—ã–¥–µ–ª—è—Ç—å **—á–µ—Ç—ã—Ä–µ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞**:

| ‚Ññ | –ü—Ä–∏–Ω—Ü–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|--------|---------|
| 1 | **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** | –°–∫—Ä—ã—Ç–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞ |
| 2 | **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö |
| 3 | **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** | –û–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ |
| 4 | **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è** | –†–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ "—á—Ç–æ –¥–µ–ª–∞–µ—Ç", –∞ –Ω–µ "–∫–∞–∫ –¥–µ–ª–∞–µ—Ç" |

---

### 1. **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è (Encapsulation)**

> üîí **–°–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞**

–¶–µ–ª—å ‚Äî **–∑–∞—â–∏—Ç–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞** –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

#### ‚úÖ –ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ C++:
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: `private`, `protected`, `public`
- –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

```cpp
class BankAccount {
private:
    double balance;  // —Å–∫—Ä—ã—Ç–æ

public:
    void deposit(double amount) {
        if (amount > 0) balance += amount;
    }

    double get_balance() const {
        return balance;
    }
};
```

> ‚úÖ –í–Ω–µ—à–Ω–∏–π –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –∏–∑–º–µ–Ω–∏—Ç—å `balance`.

---

### 2. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (Inheritance)**

> üß¨ **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ**

–ü–æ–∑–≤–æ–ª—è–µ—Ç **–ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥** –∏ —Å—Ç—Ä–æ–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ç–∏–ø–æ–≤.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
class Animal {
public:
    virtual void speak() { std::cout << "Animal sound\n"; }
};

class Dog : public Animal {
public:
    void speak() override { std::cout << "Woof!\n"; }
};
```

> `Dog` –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç `Animal`, –Ω–æ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω—è—Ç—å.

---

### 3. **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (Polymorphism)**

> üîÑ **–û–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**

–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç **–≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**, –∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ.

#### ‚úÖ –î–≤–∞ –≤–∏–¥–∞:
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π (–∫–æ–º–ø–∏–ª—è—Ü–∏–æ–Ω–Ω—ã–π)** ‚Äî –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π, —à–∞–±–ª–æ–Ω—ã
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (—Ä–∞–Ω—Ç–∞–π–º)** ‚Äî `virtual` —Ñ—É–Ω–∫—Ü–∏–∏, `override`

```cpp
Animal* ptr = new Dog();
ptr->speak();  // –í—ã–∑–æ–≤–µ—Ç—Å—è Dog::speak() ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º
```

---

### 4. **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è (Abstraction)**

> üß† **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**

–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
class Shape {
public:
    virtual double area() const = 0;  // —á–∏—Å—Ç–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
    virtual ~Shape() = default;
};

class Circle : public Shape { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ };
class Rectangle : public Shape { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ };
```

> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `Shape`, –Ω–µ –∑–Ω–∞—è, –∫—Ä—É–≥ —ç—Ç–æ –∏–ª–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫.

---

## üß© –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: **SOLID** ‚Äî 5 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ö–æ—Ä–æ—à–µ–≥–æ –û–û–ü-–¥–∏–∑–∞–π–Ω–∞

–•–æ—Ç—è —ç—Ç–æ —É–∂–µ **–ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**, –∞ –Ω–µ –±–∞–∑–æ–≤—ã–µ –û–û–ü, –æ–Ω–∏ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã:

| –ë—É–∫–≤–∞ | –ü—Ä–∏–Ω—Ü–∏–ø |
|------|--------|
| **S** | –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP) |
| **O** | –ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏ (OCP) |
| **L** | –ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ (LSP) |
| **I** | –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (ISP) |
| **D** | –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP) |

> ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü ‚Äî —ç—Ç–æ **–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è**.  
> 
> - **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** ‚Äî —Å–æ–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.  
> - **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö.  
> - **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** ‚Äî –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `virtual` —Ñ—É–Ω–∫—Ü–∏–∏).  
> - **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ "—á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç", –∞ –Ω–µ "–∫–∞–∫".  
> 
> –≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –≥–∏–±–∫–∏–π, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è –û–û–ü?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π –∏–∑ 4 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤
- [ ] –ó–Ω–∞—é —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –≤ C++
- [ ] –ü–æ–Ω–∏–º–∞—é, –∑–∞—á–µ–º –Ω—É–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `virtual` –∏ `override`
- [ ] –ó–Ω–∞—é, —á—Ç–æ —Ç–∞–∫–æ–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ –û–û–ü** –∏–ª–∏ **–æ–±—ä—è—Å–Ω–∏—Ç—å SOLID –ø–æ–¥—Ä–æ–±–Ω–µ–µ**.  
–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏!


# –û–±—ä—è—Å–Ω–∏ SOLID –ø–æ–¥—Ä–æ–±–Ω–µ–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID**, –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**. –≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ–º–æ–≥–∞—é—Ç –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ C++.

---

# üìò **SOLID ‚Äî 5 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ö–æ—Ä–æ—à–µ–≥–æ –û–û–ü-–¥–∏–∑–∞–π–Ω–∞**

**–ê–≤—Ç–æ—Ä:** –†–æ–±–µ—Ä—Ç –ú–∞—Ä—Ç–∏–Ω (Uncle Bob)  
**–Ø–∑—ã–∫:** –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –¥–ª—è OOP, –Ω–æ –ø—Ä–∏–º–µ–Ω–∏–º –∫ C++, Java, C# –∏ –¥—Ä.  
**–¶–µ–ª—å:** –ò–∑–±–µ–∂–∞—Ç—å "—Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥–∞", –ø–æ–≤—ã—Å–∏—Ç—å –≥–∏–±–∫–æ—Å—Ç—å, —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.

> üî§ –ù–∞–∑–≤–∞–Ω–∏–µ **SOLID** ‚Äî —ç—Ç–æ –∞–∫—Ä–æ–Ω–∏–º –∏–∑ –ø–µ—Ä–≤—ã—Ö –±—É–∫–≤ –ø—è—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤:

| –ë—É–∫–≤–∞ | –ü—Ä–∏–Ω—Ü–∏–ø |
|------|--------|
| **S** | –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP) |
| **O** | –ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏ (OCP) |
| **L** | –ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ (LSP) |
| **I** | –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (ISP) |
| **D** | –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP) |

---

## üîπ S ‚Äî **–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle, SRP)**

### ‚úÖ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
> **"–£ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è."**

### üí° –°–º—ã—Å–ª:
–û–¥–∏–Ω –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å **—Ç–æ–ª—å–∫–æ –∑–∞ –æ–¥–Ω—É –∑–∞–¥–∞—á—É**. –ï—Å–ª–∏ —É –∫–ª–∞—Å—Å–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—á–∏–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è ‚Äî –µ–≥–æ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å.

### ‚ùå –ü–ª–æ—Ö–æ:
```cpp
class Report {
public:
    void generate() { /* –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ */ }
    void saveToFile() { /* —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª */ }
    void sendByEmail() { /* –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ email */ }
};
```
> –¢—Ä–∏ –ø—Ä–∏—á–∏–Ω—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
> 1. –ò–∑–º–µ–Ω–∏–ª—Å—è —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞,
> 2. –ò–∑–º–µ–Ω–∏–ª—Å—è —Å–ø–æ—Å–æ–± —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
> 3. –ò–∑–º–µ–Ω–∏–ª—Å—è email-—Å–µ—Ä–≤–∏—Å.

### ‚úÖ –•–æ—Ä–æ—à–æ:
```cpp
class ReportGenerator {
public:
    std::string generate();
};

class ReportSaver {
public:
    void saveToFile(const std::string& report);
};

class EmailSender {
public:
    void send(const std::string& to, const std::string& body);
};
```

> –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–æ–¥–Ω—É –≤–µ—â—å**.

---

## üîπ O ‚Äî **–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏ (Open/Closed Principle, OCP)**

### ‚úÖ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
> **"–ö–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏."**

### üí° –°–º—ã—Å–ª:
–í—ã –¥–æ–ª–∂–Ω—ã **—Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞**, –Ω–µ –º–µ–Ω—è—è –µ–≥–æ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é).

### ‚ùå –ü–ª–æ—Ö–æ:
```cpp
class AreaCalculator {
public:
    double calculate(const std::vector<Shape*>& shapes) {
        double total = 0;
        for (auto shape : shapes) {
            if (shape->type == "Circle") {
                total += 3.14 * shape->radius * shape->radius;
            } else if (shape->type == "Square") {
                total += shape->side * shape->side;
            }
            // –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ ‚Äî –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å —ç—Ç–æ—Ç –∫–æ–¥!
        }
        return total;
    }
};
```

### ‚úÖ –•–æ—Ä–æ—à–æ:
```cpp
class Shape {
public:
    virtual double area() const = 0;
    virtual ~Shape() = default;
};

class Circle : public Shape { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è area() */ };
class Square : public Shape { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è area() */ };

class AreaCalculator {
public:
    double calculate(const std::vector<Shape*>& shapes) const {
        double total = 0;
        for (const auto& shape : shapes) {
            total += shape->area();  // –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º
        }
        return total;
    }
};
```

> –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `Triangle` ‚Äî **–Ω–µ –º–µ–Ω—è—è `AreaCalculator`**.

---

## üîπ L ‚Äî **–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ (Liskov Substitution Principle, LSP)**

### ‚úÖ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
> **"–û–±—ä–µ–∫—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã –æ–±—ä–µ–∫—Ç–∞–º–∏ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã."**

### üí° –°–º—ã—Å–ª:
–ï—Å–ª–∏ `B` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `A`, —Ç–æ **–≤—Å—é–¥—É, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è `A`**, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `B` ‚Äî –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å **—Ç–∞–∫ –∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**.

### ‚ùå –ü–ª–æ—Ö–æ: –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP
```cpp
class Bird {
public:
    virtual void fly() = 0;
};

class Sparrow : public Bird {
public:
    void fly() override { /* –ª–µ—Ç–∞–µ—Ç */ }
};

class Penguin : public Bird {
public:
    void fly() override {
        throw std::runtime_error("Penguins can't fly!");
    }
};
```

> –ï—Å–ª–∏ –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –ø—Ç–∏—Ü—ã –º–æ–≥—É—Ç –ª–µ—Ç–∞—Ç—å ‚Äî `Penguin` —Å–ª–æ–º–∞–µ—Ç –ª–æ–≥–∏–∫—É.

### ‚úÖ –•–æ—Ä–æ—à–æ:
```cpp
class Bird {};
class FlyingBird : public Bird {
public:
    virtual void fly() = 0;
};

class Sparrow : public FlyingBird {
public:
    void fly() override { /* –ª–µ—Ç–∞–µ—Ç */ }
};

class Penguin : public Bird {
    // –Ω–µ –ª–µ—Ç–∞–µ—Ç, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
};
```

> –¢–µ–ø–µ—Ä—å `fly()` –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Ç–µ—Ö, –∫—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –ª–µ—Ç–∞—Ç—å.

---

## üîπ I ‚Äî **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Interface Segregation Principle, ISP)**

### ‚úÖ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
> **"–ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç."**

### üí° –°–º—ã—Å–ª:
–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ "—Ç–æ–ª—Å—Ç—ã–µ" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –†–∞–∑–¥–µ–ª—è–π—Ç–µ –∏—Ö –Ω–∞ **–º–µ–ª–∫–∏–µ, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ**.

### ‚ùå –ü–ª–æ—Ö–æ:
```cpp
class Worker {
public:
    virtual void work() = 0;
    virtual void eat() = 0;
    virtual void sleep() = 0;
};

class HumanWorker : public Worker { /* —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å—ë */ };
class RobotWorker : public Worker {
    void work() override { /* —Ä–∞–±–æ—Ç–∞–µ—Ç */ }
    void eat() override { /* ??? */ }  // –†–æ–±–æ—Ç –Ω–µ –µ—Å—Ç!
    void sleep() override { /* ??? */ } // –†–æ–±–æ—Ç –Ω–µ —Å–ø–∏—Ç!
};
```

### ‚úÖ –•–æ—Ä–æ—à–æ:
```cpp
class Workable {
public:
    virtual void work() = 0;
};

class Eatable {
public:
    virtual void eat() = 0;
};

class Sleepable {
public:
    virtual void sleep() = 0;
};

class HumanWorker : public Workable, public Eatable, public Sleepable { /* –≤—Å—ë */ };
class RobotWorker : public Workable { /* —Ç–æ–ª—å–∫–æ work */ };
```

> –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç **—Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ**.

---

## üîπ D ‚Äî **–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion Principle, DIP)**

### ‚úÖ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:
> 1. **–ú–æ–¥—É–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è. –û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.**  
> 2. **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π. –î–µ—Ç–∞–ª–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.**

### üí° –°–º—ã—Å–ª:
–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –≥–∏–±–∫–∏–º, **–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)** –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç **–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, —Ñ–∞–π–ª—ã, —Å–µ—Ç—å)**. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî –∑–∞–≤–∏—Å—è—Ç –æ—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**.

### ‚ùå –ü–ª–æ—Ö–æ:
```cpp
class Logger {
    std::ofstream file;
public:
    Logger() : file("log.txt") {}
    void log(const std::string& msg) {
        file << msg << "\n";
    }
};
```

> `Logger` –∂—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∞–π–ª—É ‚Üí –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏, —Å–µ—Ç–∏ –∏ —Ç.–¥.

### ‚úÖ –•–æ—Ä–æ—à–æ:
```cpp
class LogTarget {
public:
    virtual void write(const std::string& msg) = 0;
    virtual ~LogTarget() = default;
};

class FileLogTarget : public LogTarget { /* –ø–∏—à–µ—Ç –≤ —Ñ–∞–π–ª */ };
class ConsoleLogTarget : public LogTarget { /* –ø–∏—à–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å */ };

class Logger {
    LogTarget& target;
public:
    explicit Logger(LogTarget& t) : target(t) {}
    void log(const std::string& msg) {
        target.write(msg);
    }
};
```

> –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `Logger`**.

```cpp
ConsoleLogTarget console;
Logger logger(console);
logger.log("Hello!");
```

> ‚úÖ –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ **–∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI)** –∏ **—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤**.

---

## üß† **–ò—Ç–æ–≥: —á—Ç–æ –¥–∞—ë—Ç SOLID –≤ C++?**

| –ü—Ä–∏–Ω—Ü–∏–ø | –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ C++ |
|--------|-------------------------|
| **SRP** | –†–∞–∑–¥–µ–ª—è–π –∫–ª–∞—Å—Å—ã: –æ–¥–∏–Ω ‚Äî –¥–ª—è –ª–æ–≥–∏–∫–∏, –¥—Ä—É–≥–æ–π ‚Äî –¥–ª—è –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ |
| **OCP** | –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è |
| **LSP** | –ü—Ä–æ–≤–µ—Ä—è–π, –º–æ–∂–Ω–æ –ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π |
| **ISP** | –°–æ–∑–¥–∞–≤–∞–π –º–µ–ª–∫–∏–µ, —á—ë—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (`Workable`, `Loggable`) |
| **DIP** | –ó–∞–≤–∏—Å–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (`class Interface`), –∞ –Ω–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´SOLID ‚Äî —ç—Ç–æ –ø—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–∏—Å–∞—Ç—å –≥–∏–±–∫–∏–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥:
>
> - **SRP**: –æ–¥–∏–Ω –∫–ª–∞—Å—Å ‚Äî –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.
> - **OCP**: —Ä–∞—Å—à–∏—Ä—è–π —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∞ –Ω–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é.
> - **LSP**: –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ.
> - **ISP**: –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–π –∫–ª–∞—Å—Å—ã —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–º –Ω–µ –Ω—É–∂–Ω—ã.
> - **DIP**: –∑–∞–≤–∏—Å–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.
>
> –í C++ —ç—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ –∫—Ä—É–ø–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ SOLID** (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –Ω–∞ C++),
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏**,
- –ü–æ–∫–∞–∑–∞—Ç—å, **–∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å SOLID –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** –∏–ª–∏ **"–î–∞–π PDF"** üòä



# –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π)?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** ‚Äî –æ–¥–Ω–æ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–Ω—è—Ç–∏–π –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (–û–û–ü), –∏ –≤ C++ –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è **–¥–≤—É–º—è –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏**: **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π** –∏ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π**.

–†–∞–∑–±–µ—Ä—ë–º –æ–±–∞ –ø–æ–¥—Ä–æ–±–Ω–æ, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º?

**–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (–æ—Ç –≥—Ä–µ—á. "–º–Ω–æ–≥–æ —Ñ–æ—Ä–º")** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å **–æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤**, –≤—ã–∑—ã–≤–∞—è **—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö.

> üí¨ –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:  
> **"–û–¥–∏–Ω –≤—ã–∑–æ–≤ ‚Äî —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞."**

---

## üîπ –î–≤–∞ –≤–∏–¥–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤ C++

| –¢–∏–ø | –ö–æ–≥–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è | –ú–µ—Ö–∞–Ω–∏–∑–º | –ü—Ä–∏–º–µ—Ä—ã |
|-----|---------------------|---------|--------|
| **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π (–∫–æ–º–ø–∏–ª—è—Ü–∏–æ–Ω–Ω—ã–π)** | –í–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ | –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞, —à–∞–±–ª–æ–Ω—ã | `func(5)`, `func("hi")`, `std::vector<T>` |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (—Ä–∞–Ω—Ç–∞–π–º)** | –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, `vtable` | `ptr->speak()` ‚Üí `Dog::speak()` |

---

## 1. ‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (Static Polymorphism)**

### üìå –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–∑–Ω–∞–µ—Ç —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ –∑–∞—Ä–∞–Ω–µ–µ**, –ø–æ—ç—Ç–æ–º—É –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **–µ—â—ë –¥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã**.

### üîß –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:
- **–ü–µ—Ä–µ–≥—Ä—É–∑–∫—É —Ñ—É–Ω–∫—Ü–∏–π**
- **–®–∞–±–ª–æ–Ω—ã (templates)**

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

```cpp
void print(int x) {
    std::cout << "Integer: " << x << "\n";
}

void print(const std::string& s) {
    std::cout << "String: " << s << "\n";
}

// –í—ã–∑–æ–≤:
print(42);           // –≤—ã–∑–æ–≤–µ—Ç—Å—è print(int)
print("Hello");      // –≤—ã–∑–æ–≤–µ—Ç—Å—è print(const char*)
```

> üîç –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–≤–∏–¥–∏—Ç —Ç–∏–ø –∞—Ä–≥—É–º–µ–Ω—Ç–∞** –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: –®–∞–±–ª–æ–Ω—ã

```cpp
template <typename T>
void print(const T& value) {
    std::cout << value << "\n";
}

print(3.14);     // T = double
print(std::vector{1,2,3}); // T = std::vector<int>
```

> üîç –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è `print<double>`, `print<std::vector<int>>` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **–Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 3: CRTP (Curiously Recurring Template Pattern) ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

```cpp
template <typename T>
struct Shape {
    void draw() {
        static_cast<T*>(this)->draw_impl();  // –≤—ã–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –±–µ–∑ vtable
    }
};

struct Circle : Shape<Circle> {
    void draw_impl() { std::cout << "Drawing circle\n"; }
};

struct Square : Shape<Square> {
    void draw_impl() { std::cout << "Drawing square\n"; }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
Circle c;
c.draw();  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º ‚Äî –±–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π!
```

> ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (–Ω–µ—Ç `vtable`), –Ω–æ –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–π.

---

### üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–Ω–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤)
- **–ò–Ω–ª–∞–π–Ω–∏–Ω–≥** –≤–æ–∑–º–æ–∂–µ–Ω
- **–ù–µ—Ç `vtable`, –Ω–µ—Ç `virtual`**

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –ì–∏–±–∫–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –∑–∞—Ä–∞–Ω–µ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Ñ–∞–π–ª–∞)

---

## 2. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (Dynamic Polymorphism)**

### üìå –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (runtime)

–í—ã–∑–æ–≤ –Ω—É–∂–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ **–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ **—Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞**, –∞ –Ω–µ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è/—Å—Å—ã–ª–∫–∏.

### üîß –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`virtual`, `override`)**
- **–¢–∞–±–ª–∏—Ü—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (`vtable`)**

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä:

```cpp
class Animal {
public:
    virtual void speak() {
        std::cout << "Animal speaks\n";
    }
    virtual ~Animal() = default;
};

class Dog : public Animal {
public:
    void speak() override {
        std::cout << "Woof!\n";
    }
};

class Cat : public Animal {
public:
    void speak() override {
        std::cout << "Meow!\n";
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
Animal* ptr = new Dog();
ptr->speak();  // –í—ã–≤–æ–¥: "Woof!" ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è Dog::speak()

ptr = new Cat();
ptr->speak();  // –í—ã–≤–æ–¥: "Meow!" ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è Cat::speak()
```

> üîç –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–Ω–µ –∑–Ω–∞–µ—Ç**, —á—Ç–æ `ptr` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `Dog` –∏–ª–∏ `Cat`.  
> –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** —á–µ—Ä–µ–∑ `vtable`.

---

### üí° –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `vtable`?

- –£ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å `virtual` —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –µ—Å—Ç—å **—Ç–∞–±–ª–∏—Ü–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏**.
- –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç **—Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ `vptr`**, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –Ω–∞ —Å–≤–æ—é `vtable`.
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `ptr->speak()`:
  1. –ë–µ—Ä—ë—Ç—Å—è `vptr` –æ–±—ä–µ–∫—Ç–∞,
  2. –ò–∑ `vtable` –±–µ—Ä—ë—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `speak()`,
  3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω—É–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.

---

### üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:
- **–ì–∏–±–∫–æ—Å—Ç—å**: —Ç–∏–ø –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤**, —Ñ–∞–±—Ä–∏–∫, GUI
- –û—Å–Ω–æ–≤–∞ **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- **–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã**: `vptr`, –∫–æ—Å–≤–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
- **–ù–µ–ª—å–∑—è –∏–Ω–ª–∞–π–Ω–∏—Ç—å** –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –¢—Ä–µ–±—É–µ—Ç `virtual` –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏

---

## üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π vs –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π |
|--------|-------------|--------------|
| **–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** | –ù–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ | –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| **–ú–µ—Ö–∞–Ω–∏–∑–º** | –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞, —à–∞–±–ª–æ–Ω—ã | `virtual`, `vtable` |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚úÖ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | ‚ùå –ï—Å—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã |
| **–ì–∏–±–∫–æ—Å—Ç—å** | ‚ùå –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–∞—Ö | ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è runtime-–≤—ã–±–æ—Ä–∞ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** | –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π —à–∞–±–ª–æ–Ω–æ–≤ | `vptr` –Ω–∞ –æ–±—ä–µ–∫—Ç |
| **–ü—Ä–∏–º–µ—Ä—ã** | `std::sort`, `std::vector<T>` | GUI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, –∏–≥—Ä—ã, –ø–ª–∞–≥–∏–Ω—ã |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ –µ—Å—Ç—å –¥–≤–∞ –≤–∏–¥–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:
>
> - **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–ø–µ—Ä–µ–≥—Ä—É–∑–∫—É —Ñ—É–Ω–∫—Ü–∏–π** –∏ **—à–∞–±–ª–æ–Ω—ã**. –ë—ã—Å—Ç—Ä—ã–π, –Ω–æ –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–π.
> - **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –∏ **vtable**. –ì–∏–±–∫–∏–π, –Ω–æ —Å –Ω–∞–∫–ª–∞–¥–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏.
>
> –í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–¥–∞—á–∏: –µ—Å–ª–∏ —Ç–∏–ø—ã –∏–∑–≤–µ—Å—Ç–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ ‚Äî –ª—É—á—à–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π; –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π.¬ª

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è: —á–µ–∫-–ª–∏—Å—Ç

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º
- [ ] –ó–Ω–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `vtable`
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞
- [ ] –ü–æ–Ω–∏–º–∞—é, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `virtual` –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
- [ ] –ó–Ω–∞—é, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ç–∏–ø

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º—É** (—Å —Ä–µ—à–µ–Ω–∏—è–º–∏) –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å —Ñ–∞–±—Ä–∏–∫–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä



# –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π.

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º (inheritance)** –∏ **–∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π (composition)** ‚Äî –æ–¥–Ω–∞ –∏–∑ **–∫–ª—é—á–µ–≤—ã—Ö —Ç–µ–º –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ C++**. –ü–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ, –ø–æ–º–æ–≥–∞–µ—Ç –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ **–≥–∏–±–∫–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥**.

---

## üîπ –ö—Ä–∞—Ç–∫–æ: –≤ —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞?

| –ê—Å–ø–µ–∫—Ç | –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ | –ö–æ–º–ø–æ–∑–∏—Ü–∏—è |
|--------|--------------|------------|
| **–û—Ç–Ω–æ—à–µ–Ω–∏–µ** | "—è–≤–ª—è–µ—Ç—Å—è" (**is-a**) | "–∏–º–µ–µ—Ç" (**has-a**) |
| **–ü—Ä–∏–º–µ—Ä** | `Dog` **—è–≤–ª—è–µ—Ç—Å—è** `Animal` | `Car` **–∏–º–µ–µ—Ç** `Engine` |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ–µ | –ë–æ–ª–µ–µ –≥–∏–±–∫–æ–µ |
| **–°–≤—è–∑–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è (–∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å) | –ù–∏–∑–∫–∞—è (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å) |
| **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** | –ß–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ | –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ |

---

## üîπ –ü–æ–¥—Ä–æ–±–Ω–æ: —á—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?

### ‚úÖ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º **"—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è" –∫–ª–∞—Å—Å–∞**

–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å **–Ω–∞—Å–ª–µ–¥—É–µ—Ç** –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –º–æ–∂–µ—Ç **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–ª–∏ –¥–æ–ø–æ–ª–Ω—è—Ç—å** –µ–≥–æ.

#### üìå –ü—Ä–∏–º–µ—Ä: "is-a" (—è–≤–ª—è–µ—Ç—Å—è)

```cpp
class Animal {
public:
    virtual void speak() = 0;
};

class Dog : public Animal {
public:
    void speak() override {
        std::cout << "Woof!\n";
    }
};
```

> ‚úÖ `Dog` **—è–≤–ª—è–µ—Ç—Å—è** `Animal` ‚Üí –ª–æ–≥–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

---

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:
- –ï—Å—Ç—å **—Ä–µ–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Ç–∏–ø–æ–≤**.
- –ù—É–∂–µ–Ω **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**: `Animal* ptr = new Dog();`
- –û–±—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ **—Ä–∞—Å—à–∏—Ä–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å**.

---

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:
- **–ñ—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å**: –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å ‚Äî —Å–ª–æ–º–∞–µ—Ç—Å—è –≤—Å—ë –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–ª–æ–∂–Ω–æ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ "–∞–ª–º–∞–∑–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ".
- **–ù–∞—Ä—É—à–∞–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é**: –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `protected` —á–ª–µ–Ω–∞–º.
- **"–•—Ä—É–ø–∫–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å"**: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ.

---

## üîπ –ü–æ–¥—Ä–æ–±–Ω–æ: —á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è?

### ‚úÖ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è ‚Äî —ç—Ç–æ **–≤–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –¥—Ä—É–≥–æ–π**

–ö–ª–∞—Å—Å **—Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤**, –¥–µ–ª–µ–≥–∏—Ä—É—è –∏–º —á–∞—Å—Ç—å —Å–≤–æ–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

#### üìå –ü—Ä–∏–º–µ—Ä: "has-a" (–∏–º–µ–µ—Ç)

```cpp
class Engine {
public:
    void start() {
        std::cout << "Engine started\n";
    }
};

class Car {
    Engine engine;  // Car –ò–ú–ï–ï–¢ –¥–≤–∏–≥–∞—Ç–µ–ª—å
public:
    void start() {
        engine.start();  // –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        std::cout << "Car is ready to go!\n";
    }
};
```

> ‚úÖ `Car` **–∏–º–µ–µ—Ç** `Engine`, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–º.

---

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏—é:
- –ù—É–∂–Ω–æ **—Å–æ–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**.
- –•–æ—Ç–∏—Ç–µ **–∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π).
- –£–ª—É—á—à–∞–µ—Ç **—Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** (–º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –º–æ–∫).
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP)**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (–µ—â—ë –≥–∏–±—á–µ):

```cpp
class EngineInterface {
public:
    virtual void start() = 0;
    virtual ~EngineInterface() = default;
};

class GasEngine : public EngineInterface { /* ... */ };
class ElectricEngine : public EngineInterface { /* ... */ };

class Car {
    std::unique_ptr<EngineInterface> engine;
public:
    explicit Car(std::unique_ptr<EngineInterface> e) : engine(std::move(e)) {}

    void start() {
        engine->start();
        std::cout << "Car is ready!\n";
    }
};
```

```cpp
Car gas_car(std::make_unique<GasEngine>());
Car electric_car(std::make_unique<ElectricEngine>());

gas_car.start();      // –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–µ–Ω–∑–∏–Ω–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å
electric_car.start(); // –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π
```

> ‚úÖ –ü–æ–ª–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ **–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏**.

---

## üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ vs –∫–æ–º–ø–æ–∑–∏—Ü–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ | –ö–æ–º–ø–æ–∑–∏—Ü–∏—è |
|--------|--------------|------------|
| **–û—Ç–Ω–æ—à–µ–Ω–∏–µ** | is-a | has-a |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è (–∂—ë—Å—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è) | –í—ã—Å–æ–∫–∞—è (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç) |
| **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** | –î–∞ (—á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ) | –î–∞ (—á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ) |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** | –°–ª–æ–∂–Ω–æ (–Ω—É–∂–Ω—ã –º–æ–∫–∏ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞) | –ü—Ä–æ—Å—Ç–æ (–º–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –º–æ–∫) |
| **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ** | –ù–µ—Ç | –î–∞ (–µ—Å–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) |
| **–°–≤—è–∑–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è |
| **–ü—Ä–∏–º–µ—Ä** | `Dog` is-a `Animal` | `Car` has-a `Engine` |

---

## üí° –ü—Ä–∞–≤–∏–ª–æ: "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é"

> ‚úÖ –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –û–û–ü.

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –µ–≥–æ **–ª–µ–≥–∫–æ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–∏—Ç—å**.  
**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è** –¥–∞—ë—Ç **–±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è**, **–ª—É—á—à—É—é —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ **–≥–∏–±–∫–æ—Å—Ç—å**.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–¥–∏–Ω –∫–ª–∞—Å—Å **—è–≤–ª—è–µ—Ç—Å—è** —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å—é –¥—Ä—É–≥–æ–≥–æ (`is-a`), –Ω–∞–ø—Ä–∏–º–µ—Ä, `Dog` ‚Äî —ç—Ç–æ `Animal`. –û–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –∂—ë—Å—Ç–∫—É—é —Å–≤—è–∑—å.
>
> –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å **–∏–º–µ–µ—Ç** –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`has-a`), –Ω–∞–ø—Ä–∏–º–µ—Ä, `Car` –∏–º–µ–µ—Ç `Engine`. –≠—Ç–æ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω—è—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ª—É—á—à–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è.
>
> –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++ **–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –∏ –∏–Ω—ä–µ–∫—Ü–∏–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.¬ª

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è: —á–µ–∫-–ª–∏—Å—Ç

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `is-a` –∏ `has-a`
- [ ] –ó–Ω–∞—é, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≥–∏–±—á–µ
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ó–Ω–∞—é –ø—Ä–∞–≤–∏–ª–æ: "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é"

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ RAII? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **RAII** ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∏–¥–∏–æ–º C++**, –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ RAII?

**RAII** —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **Resource Acquisition Is Initialization**  
(¬´–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ ‚Äî —ç—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è¬ª).

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
> **–°–≤—è–∑–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–º —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–∞.**

- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** (–ø–∞–º—è—Ç—å, —Ñ–∞–π–ª, –º—å—é—Ç–µ–∫—Å, —Å–æ–∫–µ—Ç) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ**.
- **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** ‚Äî –≤ **–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ**.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **—Ä–µ—Å—É—Ä—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è**, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ ‚Äî **–¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ**.

---

## üîπ –ü–æ—á–µ–º—É RAII –≤–∞–∂–µ–Ω?

- ‚úÖ **–ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥** ‚Äî —Ä–µ—Å—É—Ä—Å—ã –Ω–µ —É—Ç–µ–∫–∞—é—Ç.
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ** ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞—Ç—å `close`, `delete`, `unlock`.
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö** ‚Äî –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞.
- ‚úÖ –û—Å–Ω–æ–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++: `std::unique_ptr`, `std::lock_guard`, `std::fstream` ‚Äî –≤—Å—ë —ç—Ç–æ RAII.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–º

–ë–µ–∑ RAII (C-style, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ):
```cpp
void bad_example() {
    FILE* file = fopen("data.txt", "r");
    if (!file) return;

    // ... —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–º ...

    fclose(file);  // ‚ùå –ß—Ç–æ, –µ—Å–ª–∏ –¥–æ —ç—Ç–æ–≥–æ throw?
}
```

> üî¥ –ï—Å–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî `fclose` –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è ‚Üí —É—Ç–µ—á–∫–∞ —Ä–µ—Å—É—Ä—Å–∞.

–° RAII:
```cpp
#include <fstream>
#include <iostream>

void good_example() {
    std::ifstream file("data.txt");  // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª
    if (!file) return;

    std::string line;
    while (std::getline(file, line)) {
        std::cout << line << "\n";
    }

} // –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∑–¥–µ—Å—å ‚Üí —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```

> ‚úÖ –î–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ –±—É–¥–µ—Ç `throw` ‚Äî —Ñ–∞–π–ª –∑–∞–∫—Ä–æ–µ—Ç—Å—è.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

–ë–µ–∑ RAII:
```cpp
void bad_memory() {
    int* arr = new int[1000];
    // ... —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º ...
    delete[] arr;  // ‚ùå –ù–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
}
```

–° RAII:
```cpp
#include <vector>

void good_memory() {
    std::vector<int> arr(1000);  // –ø–∞–º—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∞
    // ... —Ä–∞–±–æ—Ç–∞ ...
} // –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–µ–∫—Ç–æ—Ä–∞ –æ—Å–≤–æ–±–æ–¥–∏—Ç –ø–∞–º—è—Ç—å
```

> ‚úÖ –ù–∏–∫–∞–∫–∏—Ö `new`/`delete` ‚Äî –≤—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—å—é—Ç–µ–∫—Å–æ–º (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å)

–ë–µ–∑ RAII:
```cpp
std::mutex mtx;

void bad_thread() {
    mtx.lock();
    // ... –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è ...
    mtx.unlock();  // ‚ùå –ù–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
}
```

–° RAII:
```cpp
std::mutex mtx;

void good_thread() {
    std::lock_guard<std::mutex> lock(mtx);  // –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—å—é—Ç–µ–∫—Å
    // ... –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è ...
} // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π unlock –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
```

> ‚úÖ –î–∞–∂–µ –ø—Ä–∏ `throw` ‚Äî –º—å—é—Ç–µ–∫—Å –±—É–¥–µ—Ç –æ—Ç–ø—É—â–µ–Ω ‚Üí **–Ω–µ—Ç deadlock**.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä 4: –°–≤–æ–π RAII-–∫–ª–∞—Å—Å

```cpp
class Timer {
    std::chrono::steady_clock::time_point start;
    std::string name;
public:
    explicit Timer(const std::string& n) : name(n), start(std::chrono::steady_clock::now()) {}

    ~Timer() {
        auto end = std::chrono::steady_clock::now();
        auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(end - start);
        std::cout << name << " took " << duration.count() << " ms\n";
    }
};

void slow_function() {
    Timer t("slow_function");  // –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
    std::this_thread::sleep_for(std::chrono::seconds(1));
} // –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ ‚Äî –≤—ã–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏
```

> ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `stop()`.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´RAII ‚Äî —ç—Ç–æ –∏–¥–∏–æ–º–∞ C++, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π **–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –æ–±—ä–µ–∫—Ç–∞**, –∞ **–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ ‚Äî —Å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º**. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ä–µ—Å—É—Ä—Å –±—É–¥–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –≤—ã–π–¥–µ—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ ‚Äî –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö. –ü—Ä–∏–º–µ—Ä—ã: `std::unique_ptr` (–ø–∞–º—è—Ç—å), `std::lock_guard` (–º—å—é—Ç–µ–∫—Å), `std::fstream` (—Ñ–∞–π–ª). RAII ‚Äî –æ—Å–Ω–æ–≤–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è RAII?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç RAII
- [ ] –ó–Ω–∞—é, —á—Ç–æ —Ä–µ—Å—É—Ä—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É RAII —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å `lock_guard` –∏–ª–∏ `unique_ptr`
- [ ] –ó–Ω–∞—é, —á—Ç–æ RAII ‚Äî –æ—Å–Ω–æ–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ RAII** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä RAII –¥–ª—è —Å–æ–∫–µ—Ç–∞ –∏–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ Rule of Three/Five/Zero?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ü—Ä–∞–≤–∏–ª–∞ —Ç—Ä—ë—Ö, –ø—è—Ç–∏ –∏ –Ω—É–ª—è (Rule of Three/Five/Zero)** ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤ C++, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ, **–∫–æ–≥–¥–∞ –∏ –∫–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-—á–ª–µ–Ω—ã –∫–ª–∞—Å—Å–∞ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é**, —á—Ç–æ–±—ã –∫–ª–∞—Å—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è–ª —Ä–µ—Å—É—Ä—Å–∞–º–∏.

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–±–µ–∂–∞—Ç—å **—É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏**, **–ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** –∏ **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è**.

---

## üîπ Rule of Three ‚Äî –ü—Ä–∞–≤–∏–ª–æ —Ç—Ä—ë—Ö

### ‚úÖ –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:
–ï—Å–ª–∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ **–æ–¥–Ω—É** –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ **–≤—Å–µ —Ç—Ä–∏**:

1. **–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä** (`~ClassName()`)
2. **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** (`ClassName(const ClassName&)`)
3. **–û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º** (`ClassName& operator=(const ClassName&)`)

### üí° –ü–æ—á–µ–º—É?
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é C++ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç ** Ëá™Âä®ÁîüÊàê–Ω—ã–µ (synthesized)** –≤–µ—Ä—Å–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç **–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (shallow copy)**.  
–ï—Å–ª–∏ –≤–∞—à –∫–ª–∞—Å—Å **–≤–ª–∞–¥–µ–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å), —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ **–¥–≤–æ–π–Ω–æ–º—É —É–¥–∞–ª–µ–Ω–∏—é** –∏–ª–∏ **—É—Ç–µ—á–∫–∞–º**.

### ‚ùå –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:
```cpp
class BadString {
    char* data;
    size_t size;
public:
    BadString(const char* str) {
        size = std::strlen(str);
        data = new char[size + 1];
        std::strcpy(data, str);
    }

    ~BadString() {
        delete[] data;  // OK
    }

    // –ù–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è!
};

BadString a("hello");
BadString b = a;  // –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ: b.data —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—É–¥–∞ –∂–µ, —á—Ç–æ –∏ a.data
// –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏:
// ~BadString() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —É–∫–∞–∑–∞—Ç–µ–ª—è ‚Üí double free ‚Üí undefined behavior
```

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: Rule of Three

```cpp
class GoodString {
    char* data;
    size_t size;
public:
    // 1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    GoodString(const char* str) {
        size = std::strlen(str);
        data = new char[size + 1];
        std::strcpy(data, str);
    }

    // 2. –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
    ~GoodString() {
        delete[] data;
    }

    // 3. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    GoodString(const GoodString& other) {
        size = other.size;
        data = new char[size + 1];
        std::strcpy(data, other.data);
    }

    // 4. –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è
    GoodString& operator=(const GoodString& other) {
        if (this != &other) {
            delete[] data;  // –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
            size = other.size;
            data = new char[size + 1];
            std::strcpy(data, other.data);
        }
        return *this;
    }
};
```

> ‚úÖ –¢–µ–ø–µ—Ä—å `GoodString` –±–µ–∑–æ–ø–∞—Å–Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è.

---

## üîπ Rule of Five ‚Äî –ü—Ä–∞–≤–∏–ª–æ –ø—è—Ç–∏ (C++11)

–° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º **move-—Å–µ–º–∞–Ω—Ç–∏–∫–∏** –≤ C++11 –¥–æ–±–∞–≤–∏–ª–∏—Å—å –µ—â—ë –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏:

4. **Move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä** (`ClassName(ClassName&&)`)
5. **Move-–æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è** (`ClassName& operator=(ClassName&&)`)

### ‚úÖ Rule of Five:
–ï—Å–ª–∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ **–æ–¥–Ω—É** –∏–∑ –ø—è—Ç–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **–≤—Å–µ –ø—è—Ç—å**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ `GoodString`):

```cpp
// 4. Move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
GoodString(GoodString&& other) noexcept
    : data(other.data), size(other.size)
{
    other.data = nullptr;  // –æ–±–Ω—É–ª—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç
    other.size = 0;
}

// 5. Move-–æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è
GoodString& operator=(GoodString&& other) noexcept {
    if (this != &other) {
        delete[] data;
        data = other.data;
        size = other.size;
        other.data = nullptr;
        other.size = 0;
    }
    return *this;
}
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ **–ø–µ—Ä–µ–º–µ—â–∞—Ç—å**, –∞ –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å.

---

## üîπ Rule of Zero ‚Äî –ü—Ä–∞–≤–∏–ª–æ –Ω—É–ª—è (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++)

### ‚úÖ –ò–¥–µ—è:
**–ù–µ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –Ω–∏ –æ–¥–Ω–æ–π** –∏–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤—Ä—É—á–Ω—É—é.  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî **–¥–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏** —É–º–Ω—ã–º —É–∫–∞–∑–∞—Ç–µ–ª—è–º –∏ STL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:

```cpp
#include <memory>
#include <string>

class ModernString {
    std::unique_ptr<char[]> data;
    size_t size;
public:
    explicit ModernString(const char* str) : size(std::strlen(str)) {
        data = std::make_unique<char[]>(size + 1);
        std::strcpy(data.get(), str);
    }

    // –ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å:
    // ~ModernString() ‚Äî unique_ptr —Å–∞–º —É–¥–∞–ª–∏—Ç
    // ModernString(const ModernString&) ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–ø–∏—Ä—É–µ—Ç size, –∞ data –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è (unique_ptr –Ω–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å)
    // –ù–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
    ModernString(const ModernString&) = delete;             // –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    ModernString(ModernString&&) = default;                 // —Ä–∞–∑—Ä–µ—à–∏—Ç—å move
    ModernString& operator=(ModernString&&) = default;
};
```

> ‚úÖ –ò–ª–∏ –µ—â—ë –ø—Ä–æ—â–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::string` üòä

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª

| –ü—Ä–∞–≤–∏–ª–æ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | –§–∏–ª–æ—Å–æ—Ñ–∏—è |
|--------|---------------------|----------|
| **Rule of Three** | C++98/03, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é | "–ï—Å–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ—à—å —Ä–µ—Å—É—Ä—Å–æ–º ‚Äî –¥–µ–ª–∞–π –≤—Å—ë –≤—Ä—É—á–Ω—É—é" |
| **Rule of Five** | C++11+, —Å move-—Å–µ–º–∞–Ω—Ç–∏–∫–æ–π | "–ï—Å–ª–∏ –∫–æ–ø–∏—Ä—É–µ—à—å ‚Äî —É–º–µ–π –∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å" |
| **Rule of Zero** | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) | "–ù–µ –ø–∏—à–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π RAII –∏ STL" |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–ü—Ä–∞–≤–∏–ª–∞ —Ç—Ä—ë—Ö, –ø—è—Ç–∏ –∏ –Ω—É–ª—è ‚Äî —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ C++:
>
> - **Rule of Three**: –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Å–µ —Ç—Ä–∏.
> - **Rule of Five**: –≤ C++11 –¥–æ–±–∞–≤–∏–ª–∏—Å—å move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ move-–æ–ø–µ—Ä–∞—Ç–æ—Ä ‚Äî —Ç–µ–ø–µ—Ä—å –∏—Ö —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å.
> - **Rule of Zero**: –ª—É—á—à–µ–µ –ø—Ä–∞–≤–∏–ª–æ ‚Äî –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∏—á–µ–≥–æ –≤—Ä—É—á–Ω—É—é, –∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::unique_ptr`, `std::vector`, `std::string` –∏ –¥—Ä—É–≥–∏–µ RAII-–æ–±—ë—Ä—Ç–∫–∏.
>
> –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++ **Rule of Zero ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è –ø—Ä–∞–≤–∏–ª–∞?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∞—Å–Ω–æ
- [ ] –ó–Ω–∞—é, –∫–∞–∫–∏–µ —Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ö–æ–¥—è—Ç –≤ Rule of Three
- [ ] –ü–æ–Ω–∏–º–∞—é, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã move-—Ñ—É–Ω–∫—Ü–∏–∏ (Rule of Five)
- [ ] –ó–Ω–∞—é, —á—Ç–æ Rule of Zero ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å `std::unique_ptr`, —Å–ª–µ–¥—É—é—â–∏–π Rule of Zero

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ Rule of Five** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å `std::vector<unique_ptr<T>>`**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä



# –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `*`, `&` –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –°–∏–º–≤–æ–ª—ã `*` –∏ `&` –≤ C++ **–º–æ–≥—É—Ç –æ–∑–Ω–∞—á–∞—Ç—å —Ä–∞–∑–Ω–æ–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**:  
‚Äî –≤ **–æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö —Ç–∏–ø–æ–≤** (–∫–æ–≥–¥–∞ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é),  
‚Äî –∏ –≤ **–≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö** (–∫–æ–≥–¥–∞ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π).

–†–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ä–æ–±–Ω–æ, —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è.

---

## üîÅ –ö—Ä–∞—Ç–∫–æ: —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

| –ö–æ–Ω—Ç–µ–∫—Å—Ç | `*` | `&` |
|--------|-----|-----|
| **–í –æ–±—ä—è–≤–ª–µ–Ω–∏–∏** | –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–∏–ø (`int* ptr`) | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∏–ø (`int& ref`) |
| **–í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏** | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è (`*ptr`) | –í–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞ –æ–±—ä–µ–∫—Ç–∞ (`&x`) |

---

## üîπ 1. `*` ‚Äî –ó–≤—ë–∑–¥–æ—á–∫–∞

### ‚úÖ –í –æ–±—ä—è–≤–ª–µ–Ω–∏–∏: **—É–∫–∞–∑–∞—Ç–µ–ª—å**

```cpp
int* ptr;        // ptr ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ int
double* d_ptr;   // d_ptr ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ double
```

> –ó–¥–µ—Å—å `*` –≥–æ–≤–æ—Ä–∏—Ç: "—ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è **—Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å** –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ `int`".

---

### ‚úÖ –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏: **—Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ (dereference)**

```cpp
int x = 42;
int* ptr = &x;   // ptr —Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å x

std::cout << *ptr;  // –í—ã–≤–æ–¥: 42
```

> –ó–¥–µ—Å—å `*ptr` –æ–∑–Ω–∞—á–∞–µ—Ç: **"–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr`"**.

### üí° –ü—Ä–∏–º–µ—Ä:
```cpp
*ptr = 100;  // –∏–∑–º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É ‚Üí x —Ç–µ–ø–µ—Ä—å 100
```

---

## üîπ 2. `&` ‚Äî –ê–º–ø–µ—Ä—Å–∞–Ω–¥

### ‚úÖ –í –æ–±—ä—è–≤–ª–µ–Ω–∏–∏: **—Å—Å—ã–ª–∫–∞ (reference)**

```cpp
int x = 10;
int& ref = x;  // ref ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ x
```

> –°—Å—ã–ª–∫–∞ ‚Äî —ç—Ç–æ **–∞–ª—å—è—Å (–ø—Å–µ–≤–¥–æ–Ω–∏–º)** –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.  
> –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `ref` –∏ `x` ‚Äî –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ.

```cpp
ref = 20;      // –º–µ–Ω—è–µ—Ç—Å—è x
std::cout << x; // 20
```

> ‚ö†Ô∏è –°—Å—ã–ª–∫—É **–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å** –Ω–∞ –¥—Ä—É–≥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

---

### ‚úÖ –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏: **–≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞ (address-of)**

```cpp
int x = 42;
int* ptr = &x;  // &x ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä "–≤–∑—è—Ç–∏—è –∞–¥—Ä–µ—Å–∞"
```

> –ó–¥–µ—Å—å `&x` –æ–∑–Ω–∞—á–∞–µ—Ç: **"–∞–¥—Ä–µ—Å –≤ –ø–∞–º—è—Ç–∏, –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è `x`"**.

---

## üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ!

| –ö–æ–¥ | –ö–æ–Ω—Ç–µ–∫—Å—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|---------|---------|
| `int* ptr;` | –û–±—ä—è–≤–ª–µ–Ω–∏–µ | `ptr` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `int` |
| `*ptr = 5;` | –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ: –∑–∞–ø–∏—Å–∞—Ç—å `5` –ø–æ –∞–¥—Ä–µ—Å—É, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr` |
| `int& ref = x;` | –û–±—ä—è–≤–ª–µ–Ω–∏–µ | `ref` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `int` |
| `&x` | –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –ê–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `x` |

---

## üß© –ü—Ä–∏–º–µ—Ä: –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

```cpp
#include <iostream>

int main() {
    int x = 10;

    // 1. & –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ ‚Äî –≤–∑—è—Ç—å –∞–¥—Ä–µ—Å
    int* ptr = &x;     // ptr = –∞–¥—Ä–µ—Å x

    // 2. * –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ ‚Äî —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞—Ç—å
    std::cout << *ptr; // 10 ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É

    // 3. & –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É
    int& ref = x;      // ref ‚Äî –ø—Å–µ–≤–¥–æ–Ω–∏–º x

    ref = 20;          // –º–µ–Ω—è–µ—Ç—Å—è x
    std::cout << x;    // 20

    // 4. * –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å
    int** ptr_to_ptr = &ptr;  // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å

    std::cout << **ptr_to_ptr; // 20 ‚Äî —Ä–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –¥–≤–∞–∂–¥—ã

    return 0;
}
```

---

## üí° –ü—Ä–∞–≤–∏–ª–∞-–ø–æ–¥—Å–∫–∞–∑–∫–∏

| –ß—Ç–æ | –ö–∞–∫ –∑–∞–ø–æ–º–Ω–∏—Ç—å |
|-----|----------------|
| `int* ptr` | "ptr ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `int`" |
| `*ptr` | "–∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr`" |
| `int& ref` | "ref ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `int`" |
| `&x` | "–∞–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `x`" |

---

## ‚ùó –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –æ—à–∏–±–∫–∞

```cpp
int* ptr1, ptr2;  // ‚ùå ptr1 ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å, ptr2 ‚Äî –æ–±—ã—á–Ω—ã–π int!
```

> –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```cpp
int *ptr1, *ptr2;  // –æ–±–∞ ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª–∏
// –∏–ª–∏ –ª—É—á—à–µ:
int* ptr1;
int* ptr2;
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ —Å–∏–º–≤–æ–ª—ã `*` –∏ `&` –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
>
> - –í **–æ–±—ä—è–≤–ª–µ–Ω–∏–∏**:
>   - `int* ptr` ‚Äî `ptr` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `int`
>   - `int& ref` ‚Äî `ref` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `int`
>
> - –í **–≤—ã—Ä–∞–∂–µ–Ω–∏–∏**:
>   - `*ptr` ‚Äî —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ: –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É
>   - `&x` ‚Äî –≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞: –ø–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `x`
>
> –≠—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ–±—ã –Ω–µ –ø—É—Ç–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ —Å—Å—ã–ª–∫–∏, –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–∞–º—è—Ç—å—é.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ `int* ptr` ‚Äî —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å
- [ ] –ó–Ω–∞—é, —á—Ç–æ `*ptr` –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ ‚Äî —ç—Ç–æ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–Ω–∏–º–∞—é, —á—Ç–æ `int& ref` ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞
- [ ] –ó–Ω–∞—é, —á—Ç–æ `&x` ‚Äî —ç—Ç–æ –≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞
- [ ] –ú–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ —Å—Å—ã–ª–∫–∏** –∏–ª–∏ **–æ–±—ä—è—Å–Ω–∏—Ç—å `const int*`, `int* const`, `const int* const`**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** –∏–ª–∏ **"–û–±—ä—è—Å–Ω–∏ const —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏? –ö–∞–∫ –Ω–∞–π—Ç–∏?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ (memory leak)** ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∏ –æ–ø–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ C++, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç—å—é. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ, –∫–∞–∫ –æ–Ω–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏ **–∫–∞–∫ –µ—ë –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å**.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏?

**–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏** ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞:
> **–í—ã–¥–µ–ª–µ–Ω–Ω–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–∞–º—è—Ç—å (—á–µ—Ä–µ–∑ `new` –∏–ª–∏ `malloc`) –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –Ω–æ –Ω–µ –±—ã–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞ (—á–µ—Ä–µ–∑ `delete` –∏–ª–∏ `free`).**

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:
- –ü–∞–º—è—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è –∑–∞–Ω—è—Ç–æ–π **–¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã**,
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –≤—Å—ë –±–æ–ª—å—à–µ –∏ –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏,
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ **–ø–∞–¥–µ–Ω–∏—é** –∏–ª–∏ **–Ω–µ–¥–æ—Å—Ç–∞—Ç–∫—É –ø–∞–º—è—Ç–∏**.

---

### ‚ùå –ü—Ä–∏–º–µ—Ä —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏:

```cpp
void leak_example() {
    int* ptr = new int(42);  // –≤—ã–¥–µ–ª–∏–ª–∏ –ø–∞–º—è—Ç—å
    // ... –¥–µ–ª–∞–µ–º —á—Ç–æ-—Ç–æ ...
    return;  // ‚ùå –ù–ï –≤—ã–∑–≤–∞–Ω–æ delete ‚Üí —É—Ç–µ—á–∫–∞!
}  // ptr —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –Ω–æ –ø–∞–º—è—Ç—å –ø–æ –∞–¥—Ä–µ—Å—É –æ—Å—Ç–∞—ë—Ç—Å—è "–ø–æ–≤–∏—Å—à–µ–π"
```

> –ü–∞–º—è—Ç—å –Ω–∞ –∫—É—á–µ (heap) **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞**, –¥–∞–∂–µ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏.

---

### ‚ùå –ï—â—ë –ø—Ä–∏–º–µ—Ä ‚Äî –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —É–∫–∞–∑–∞—Ç–µ–ª—è:

```cpp
int* ptr = new int(10);
ptr = new int(20);  // ‚ùå –°—Ç–∞—Ä—ã–π –∞–¥—Ä–µ—Å –ø–æ—Ç–µ—Ä—è–Ω ‚Üí —É—Ç–µ—á–∫–∞ 10!
```

> –ü–µ—Ä–≤—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è ‚Äî **–Ω–µ–ª—å–∑—è –æ—Å–≤–æ–±–æ–¥–∏—Ç—å**.

---

## üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏?

–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ ‚Äî –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö.

---

### ‚úÖ 1. **AddressSanitizer (ASan)** ‚Äî –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**AddressSanitizer** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ **Clang –∏ GCC**, –∫–æ—Ç–æ—Ä—ã–π **–Ω–∞—Ö–æ–¥–∏—Ç —É—Ç–µ—á–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã**.

#### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
g++ -fsanitize=address -g -o program main.cpp
./program
```

> –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
=================================================================
==12345==ERROR: LeakSanitizer: detected memory leaks
Direct leak of 4 byte(s) in 1 object(s) allocated from:
    #0 in operator new
    #1 in leak_example
```

‚úÖ **–ü–ª—é—Å—ã:**
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux, macOS, Windows
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤** –∏ **—Ä–∞–∑–º–µ—Ä —É—Ç–µ—á–∫–∏**
- –õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ CI

---

### ‚úÖ 2. **Valgrind (—Ç–æ–ª—å–∫–æ Linux/macOS)**

–ú–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞–º—è—Ç–∏.

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
g++ -g -o program main.cpp
valgrind --leak-check=full ./program
```

> –í—ã–≤–æ–¥:
```
==1234== HEAP SUMMARY:
==1234==    definitely lost: 4 bytes in 1 blocks
==1234==    indirectly lost: 0 bytes in 0 blocks
==1234==      still reachable: 0 bytes in 0 blocks
==1234==                      : 0 bytes in 0 blocks
==1234==    suppressed: 0 bytes in 0 blocks
==1234== Rerun with --leak-check=full to see details
```

‚úÖ **–ü–ª—é—Å—ã:**
- –û—á–µ–Ω—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –ù–∞—Ö–æ–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —É—Ç–µ—á–∫–∏, –Ω–æ –∏ `use-after-free`, `double-free`

‚ö†Ô∏è **–ú–∏–Ω—É—Å—ã:**
- –¢–æ–ª—å–∫–æ –¥–ª—è Unix-—Å–∏—Å—Ç–µ–º
- –ó–∞–º–µ–¥–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ 10‚Äì50 —Ä–∞–∑

---

### ‚úÖ 3. **Visual Studio (Windows)**

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä —É—Ç–µ—á–µ–∫.

#### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```cpp
#define _CRTDBG_MAP_ALLOC
#include <crtdbg.h>

int main() {
    _CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);
    
    int* p = new int(42);
    return 0;  // –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ: "Detected memory leaks!"
}
```

> –í—ã–≤–æ–¥ –≤ Output:
```
Detected memory leaks!
Dumping objects ->
{189} normal block at 0x00C515A8, 4 bytes long.
```

---

### ‚úÖ 4. **–°—á—ë—Ç—á–∏–∫ –≤—ã–¥–µ–ª–µ–Ω–∏–π (—Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±)**

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –≤–µ—Å—Ç–∏ —Å—á—ë—Ç—á–∏–∫:

```cpp
#include <iostream>

int allocation_count = 0;

void* operator new(size_t size) {
    ++allocation_count;
    std::cout << "Allocated " << size << " bytes (total: " << allocation_count << ")\n";
    return malloc(size);
}

void operator delete(void* ptr) noexcept {
    --allocation_count;
    free(ptr);
}

int main() {
    int* p1 = new int(10);
    int* p2 = new int(20);
    delete p1;
    // p2 –Ω–µ —É–¥–∞–ª—ë–Ω
    std::cout << "Leaks? " << (allocation_count > 0 ? "YES" : "NO") << "\n";
    return 0;
}
```

> –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤.

---

## üõ†Ô∏è –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫?

### ‚úÖ 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏** (`RAII`)

```cpp
#include <memory>

void no_leak() {
    auto ptr = std::make_unique<int>(42);  // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
    // ...
} // delete –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

> –õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± ‚Äî **–Ω–µ –ø–∏—Å–∞—Ç—å `new`/`delete` –≤—Ä—É—á–Ω—É—é**.

---

### ‚úÖ 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **STL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**

```cpp
std::vector<int> vec(1000);  // —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é —Å–∞–º
```

> –í–º–µ—Å—Ç–æ `int* arr = new int[1000];`

---

### ‚úÖ 3. –°–ª–µ–¥—É–π—Ç–µ **Rule of Zero**

–ï—Å–ª–∏ –≤–∞—à –∫–ª–∞—Å—Å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ move ‚Äî –æ–Ω **–Ω–µ –¥–æ–ª–∂–µ–Ω —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤—Ä—É—á–Ω—É—é** ‚Üí –º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤ –Ω–∞ —É—Ç–µ—á–∫—É.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–∞–º—è—Ç—å –Ω–µ –±—ã–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–µ—Ä—è–µ—Ç –Ω–∞ –Ω–µ—ë —É–∫–∞–∑–∞—Ç–µ–ª—å. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ä–æ—Å—Ç—É –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.
>
> –ù–∞–π—Ç–∏ —É—Ç–µ—á–∫—É –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é:
> - **AddressSanitizer** (–ª—É—á—à–∏–π –≤—ã–±–æ—Ä),
> - **Valgrind** (Linux/macOS),
> - –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –≤ **Visual Studio**.
>
> –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏** (`std::unique_ptr`, `std::shared_ptr`) –∏ **RAII**, –∞ –Ω–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é –≤—Ä—É—á–Ω—É—é.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è —É—Ç–µ—á–∫–∏?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏
- [ ] –ó–Ω–∞—é, —á—Ç–æ `new` –±–µ–∑ `delete` ‚Äî —É—Ç–µ—á–∫–∞
- [ ] –ú–æ–≥—É –Ω–∞–π—Ç–∏ —É—Ç–µ—á–∫—É —Å AddressSanitizer
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ `std::unique_ptr` –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫
- [ ] –ó–Ω–∞—é, —á—Ç–æ Valgrind –∏ ASan ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ —É—Ç–µ—á–µ–∫

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** (–æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫ —Å–ª–æ–∂–Ω—ã–º) –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å —É—Ç–µ—á–∫–æ–π –≤ —Ü–∏–∫–ª–µ**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `std::unique_ptr`, `shared_ptr`, `weak_ptr`.

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `std::unique_ptr`, `std::shared_ptr` –∏ `std::weak_ptr` ‚Äî **–∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++**. –í—Å–µ —Ç—Ä–∏ ‚Äî **—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**, –Ω–æ –æ–Ω–∏ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ —Å–ª–µ–¥—É—é—Ç —Ä–∞–∑–Ω—ã–º –º–æ–¥–µ–ª—è–º –≤–ª–∞–¥–µ–Ω–∏—è.

---

## üîπ –û–±—â–µ–µ: –∑–∞—á–µ–º –Ω—É–∂–Ω—ã —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏?

–û–Ω–∏ –∑–∞–º–µ–Ω—è—é—Ç **—Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`T*`)** –∏ `new`/`delete`, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏,
- –ó–∞—â–∏—Ç—É –æ—Ç —É—Ç–µ—á–µ–∫,
- –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RAII).

---

## üîÅ –ö—Ä–∞—Ç–∫–æ: —Ç–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –£–∫–∞–∑–∞—Ç–µ–ª—å | –¢–∏–ø –≤–ª–∞–¥–µ–Ω–∏—è | –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ | –ú–æ–∂–µ—Ç –±—ã—Ç—å `nullptr` | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------|--------------|----------------|------------------------|---------------------|
| `std::unique_ptr<T>` | **–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | –ö–æ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü |
| `std::shared_ptr<T>` | **–†–∞–∑–¥–µ–ª—è–µ–º–æ–µ** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ |
| `std::weak_ptr<T>` | **–ù–µ–Ω–∞–≤—è–∑—á–∏–≤–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ** | ‚úÖ –î–∞ (–Ω–æ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç) | ‚úÖ –î–∞ | –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ |

---

## 1. ‚úÖ `std::unique_ptr<T>` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ

### üìå –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
> **–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü.** –ü–∞–º—è—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

### üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–ù–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å** (–Ω–æ –º–æ–∂–Ω–æ **–ø–µ—Ä–µ–º–µ—â–∞—Ç—å**).
- –û—á–µ–Ω—å **–±—ã—Å—Ç—Ä—ã–π** ‚Äî –ø–æ—á—Ç–∏ –∫–∞–∫ —Å—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <memory>

auto ptr = std::make_unique<int>(42);
// std::unique_ptr<int> ptr2 = ptr;        // ‚ùå –û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
std::unique_ptr<int> ptr2 = std::move(ptr); // ‚úÖ OK: –ø–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è
// –¢–µ–ø–µ—Ä—å ptr == nullptr, ptr2 –≤–ª–∞–¥–µ–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º
```

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –î–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–ª–∞–¥–µ–µ—Ç **–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç**.
- –ö–∞–∫ –∑–∞–º–µ–Ω–∞ `new`/`delete` –≤ –∫–ª–∞—Å—Å–∞—Ö (Rule of Zero).
- –í `std::vector<std::unique_ptr<T>>` ‚Äî –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.

---

## 2. ‚úÖ `std::shared_ptr<T>` ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ

### üìå –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
> **–ù–µ—Å–∫–æ–ª—å–∫–æ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –≤–ª–∞–¥–µ—Ç—å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º.** –ü–∞–º—è—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ **–ø–æ—Å–ª–µ–¥–Ω–∏–π** `shared_ptr` —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.

### üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –í–Ω—É—Ç—Ä–∏ ‚Äî **—Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (reference count)**.
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ø–∏–∏ ‚Äî —Å—á—ë—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è.
- –ü—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –Ω—É–ª—è ‚Äî –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è.

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
auto ptr1 = std::make_shared<int>(100);
std::shared_ptr<int> ptr2 = ptr1;  // ‚úÖ OK: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
std::cout << ptr1.use_count();     // 2
```

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –ö–æ–≥–¥–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã** –¥–æ–ª–∂–Ω—ã –≤–ª–∞–¥–µ—Ç—å –æ–±—ä–µ–∫—Ç–æ–º.
- –í –≥—Ä–∞—Ñ–∞—Ö, –¥–µ—Ä–µ–≤—å—è—Ö, –∫—ç—à–∞—Ö.
- –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤–ª–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### ‚ö†Ô∏è –û–ø–∞—Å–Ω–æ—Å—Ç—å: **—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏**
```cpp
struct Node {
    std::shared_ptr<Node> parent;
    std::shared_ptr<Node> child;
};

auto a = std::make_shared<Node>();
auto b = std::make_shared<Node>();
a->child = b;
b->parent = a;  // –¶–∏–∫–ª! –°—á—ë—Ç—á–∏–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–∞–Ω–µ—Ç 0 ‚Üí —É—Ç–µ—á–∫–∞
```

> ‚ùå –û–±—ä–µ–∫—Ç—ã –Ω–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã–π—Ç–∏ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

---

## 3. ‚úÖ `std::weak_ptr<T>` ‚Äî —Å–ª–∞–±–∞—è —Å—Å—ã–ª–∫–∞

### üìå –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
> **–ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –æ–±—ä–µ–∫—Ç–æ–º, –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞—è —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫.**  
> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≤–º–µ—Å—Ç–µ —Å `shared_ptr`**, —á—Ç–æ–±—ã **—Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Ü–∏–∫–ª—ã**.

### üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ù–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫.
- –ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –æ–±—ä–µ–∫—Ç—É.
- –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø ‚Äî –Ω—É–∂–Ω–æ **"–∑–∞–º–∫–Ω—É—Ç—å" –Ω–∞ `shared_ptr`** —Å –ø–æ–º–æ—â—å—é `.lock()`.

### ‚úÖ –ü—Ä–∏–º–µ—Ä (—Ä–µ—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞):
```cpp
struct Node {
    std::shared_ptr<Node> child;
    std::weak_ptr<Node> parent;  // ‚Üê –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫
};

auto a = std::make_shared<Node>();
auto b = std::make_shared<Node>();
a->child = b;
b->parent = a;  // OK: weak_ptr –Ω–µ –º–µ—à–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏—é

// –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏:
// a –∏ b —É–¥–∞–ª—è—é—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—á—ë—Ç—á–∏–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 0
```

### ‚úÖ –ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```cpp
if (auto locked = b->parent.lock()) {
    // –û–±—ä–µ–∫—Ç –µ—â—ë –∂–∏–≤
    std::cout << "Parent exists\n";
} else {
    std::cout << "Parent destroyed\n";
}
```

> `lock()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `std::shared_ptr`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∂–∏–≤, –∏–ª–∏ `nullptr`.

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –î–ª—è **—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫** –≤ –¥–µ—Ä–µ–≤—å—è—Ö/–≥—Ä–∞—Ñ–∞—Ö.
- –í **–∫—ç—à–∞—Ö** –∏–ª–∏ **–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è—Ö (observers)**.
- –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å **—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫**.

---

## üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

| –°—Ü–µ–Ω–∞—Ä–∏–π | –†–µ—à–µ–Ω–∏–µ |
|--------|--------|
| –í–ª–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º | `std::unique_ptr` |
| –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ (2+ –≤–ª–∞–¥–µ–ª—å—Ü–∞) | `std::shared_ptr` |
| –°—Å—ã–ª–∫–∞, –Ω–µ –≤–ª–∏—è—é—â–∞—è –Ω–∞ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ | `std::weak_ptr` |
| –î–µ—Ä–µ–≤–æ —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏ —É–∑–ª–∞–º–∏ | `shared_ptr` –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∫ –¥–µ—Ç—è–º |
| –î–µ—Ä–µ–≤–æ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ | `weak_ptr` –æ—Ç –¥–µ—Ç–µ–π –∫ —Ä–æ–¥–∏—Ç–µ–ª—é |
| –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ | `std::vector<std::unique_ptr<T>>` |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ –µ—Å—Ç—å —Ç—Ä–∏ —Ç–∏–ø–∞ —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π:
>
> - **`std::unique_ptr`** ‚Äî –¥–ª—è **—É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –≤–ª–∞–¥–µ–Ω–∏—è**. –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü, –Ω–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å. –ë—ã—Å—Ç—Ä—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π.
> - **`std::shared_ptr`** ‚Äî –¥–ª—è **—Ä–∞–∑–¥–µ–ª—è–µ–º–æ–≥–æ –≤–ª–∞–¥–µ–Ω–∏—è**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫. –û–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π `shared_ptr` —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.
> - **`std::weak_ptr`** ‚Äî **—Å–ª–∞–±–∞—è —Å—Å—ã–ª–∫–∞**, –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∞—è —Å—á—ë—Ç—á–∏–∫. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `shared_ptr`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å **—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫**.
>
> –û–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞—é—Ç —Å `unique_ptr`, –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –∫ `shared_ptr`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ, –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `weak_ptr`, —á—Ç–æ–±—ã —Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Ü–∏–∫–ª—ã.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç—Ä–µ–º—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
- [ ] –ó–Ω–∞—é, —á—Ç–æ `unique_ptr` –Ω–µ–ª—å–∑—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –≤ `shared_ptr`
- [ ] –ó–Ω–∞—é, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `weak_ptr` –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–∏ –∏ –µ—ë —Ä–µ—à–µ–Ω–∏–µ

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å observer pattern —á–µ—Ä–µ–∑ `weak_ptr`**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ –¥angled pointer?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **Dangling pointer** (–≤–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å) ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö **–æ–ø–∞—Å–Ω—ã—Ö –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫** –≤ C++, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é (undefined behavior)**, –ø–∞–¥–µ–Ω–∏—è–º –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Ç—Ä—É–¥–Ω–æ—É–ª–æ–≤–∏–º—ã–º –±–∞–≥–∞–º.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ dangled pointer?

**Dangling pointer** ‚Äî —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π **—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –±—ã–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞ –∏–ª–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞**.

> üíÄ –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏: —É–∫–∞–∑–∞—Ç–µ–ª—å "–∂–∏–≤", –Ω–æ **–æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç, —É–∂–µ –º—ë—Ä—Ç–≤**.

---

## ‚ùå –ü—Ä–∏–º–µ—Ä—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è dangling pointer

### 1. –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏

```cpp
int* bad_function() {
    int x = 42;
    return &x;  // ‚ùå x —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
                // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å
}

int main() {
    int* ptr = bad_function();
    std::cout << *ptr;  // ‚ùå –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ!
    return 0;
}
```

> `x` ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∂–∏–≤—ë—Ç –Ω–∞ —Å—Ç–µ–∫–µ. –ü–æ—Å–ª–µ `return` –æ–Ω–∞ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.

---

### 2. –£–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ—Å–ª–µ `delete`

```cpp
int* ptr = new int(10);
delete ptr;       // –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞
// ptr –≤—Å—ë –µ—â—ë —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—ã–π –∞–¥—Ä–µ—Å ‚Äî –æ–Ω —Å—Ç–∞–ª dangling!
std::cout << *ptr;  // ‚ùå –ß—Ç–µ–Ω–∏–µ –∏–∑ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ ‚Äî UB
```

> –£–∫–∞–∑–∞—Ç–µ–ª—å `ptr` –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `nullptr` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

### 3. –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –≤–µ–∫—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–∏

```cpp
std::vector<int> vec = {10, 20, 30};
int* ptr = &vec[0];  // —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç

vec.push_back(40);   // ‚ö†Ô∏è –í–µ–∫—Ç–æ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å ‚Üí —Å—Ç–∞—Ä—ã–π –±–ª–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω
                     // ptr —Ç–µ–ø–µ—Ä—å ‚Äî dangling!

std::cout << *ptr;   // ‚ùå –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ!
```

> –ü–æ—Å–ª–µ `push_back` –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏.

---

### 4. –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –æ–±—ä–µ–∫—Ç –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

```cpp
int* ptr;
{
    int x = 100;
    ptr = &x;  // ptr —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ x
} // x —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è ‚Üí ptr —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è dangling

std::cout << *ptr;  // ‚ùå –û–ø–∞—Å–Ω–æ—Å—Ç—å!
```

---

## üîç –ü–æ—á–µ–º—É —ç—Ç–æ –æ–ø–∞—Å–Ω–æ?

- **–ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (UB)** ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç:
  - –°—Ä–∞–±–æ—Ç–∞—Ç—å "—Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ",
  - –£–ø–∞—Å—Ç—å,
  - –í–µ—Ä–Ω—É—Ç—å –º—É—Å–æ—Ä,
  - –ü–æ–≤—Ä–µ–¥–∏—Ç—å –ø–∞–º—è—Ç—å.
- –û—à–∏–±–∫–∏ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è **—Å–ø—É—Å—Ç—è –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è**.
- –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å.

---

## ‚úÖ –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å dangling pointer?

### 1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**
```cpp
std::unique_ptr<int> ptr = std::make_unique<int>(42);
// –ü–æ—Å–ª–µ std::move –∏–ª–∏ reset() —É–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è nullptr
```

### 2. **–°—Ä–∞–∑—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–π—Ç–µ `nullptr` –ø–æ—Å–ª–µ `delete`**
```cpp
delete ptr;
ptr = nullptr;  // —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å: if (ptr)
```

> –ù–æ –ª—É—á—à–µ –≤–æ–æ–±—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `new`/`delete` –≤—Ä—É—á–Ω—É—é.

### 3. **–ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Å—Å—ã–ª–∫–∏/—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**

### 4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Å—Å—ã–ª–∫–∏ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ) ‚Äî –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏.

### 5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::string_view`, `std::span` —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é**
–û–Ω–∏ –Ω–µ –≤–ª–∞–¥–µ—é—Ç –¥–∞–Ω–Ω—ã–º–∏ ‚Äî –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω, `string_view` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "–≤–∏—Å—è—á–∏–º".

```cpp
std::string_view get_name() {
    std::string name = "Alice";
    return name;  // ‚ùå name —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–∏—Å—è—á–∏–π view
}
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´Dangling pointer ‚Äî —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –±—ã–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞ –∏–ª–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ `delete`, –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–∏ –≤–µ–∫—Ç–æ—Ä–∞. –†–∞–±–æ—Ç–∞ —Å —Ç–∞–∫–∏–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.
>
> –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –Ω—É–∂–Ω–æ:
> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`unique_ptr`, `shared_ptr`),
> - –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ,
> - –ü—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å `nullptr` –ø–æ—Å–ª–µ `delete`,
> - –ë—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ `string_view`.
>
> –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º C++ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAII –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Ä–∏—Å–∫ –≤–∏—Å—è—á–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ dangling pointer
- [ ] –ó–Ω–∞—é, —á—Ç–æ `delete ptr` –Ω–µ –¥–µ–ª–∞–µ—Ç `ptr` —Ä–∞–≤–Ω—ã–º `nullptr`
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É –≤–æ–∑–≤—Ä–∞—Ç –∞–¥—Ä–µ—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ‚Äî –æ—à–∏–±–∫–∞
- [ ] –ó–Ω–∞—é, —á—Ç–æ `string_view` –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å "–≤–∏—Å—è—á–∏–º"
- [ ] –ó–Ω–∞—é, –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `std::unique_ptr`

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ dangling pointer** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Å —É—Ç–µ—á–∫–æ–π –∏ –≤–∏—Å—è—á–∏–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–º –≤ –æ–¥–Ω–æ–º –∫–æ–¥–µ**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::move`? –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! `std::move` ‚Äî –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ C++**, –ª–µ–∂–∞—â–∏–π –≤ –æ—Å–Ω–æ–≤–µ **move-—Å–µ–º–∞–Ω—Ç–∏–∫–∏**, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –∫–æ–¥ **–±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ**. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

---

## üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `std::move`?

**`std::move` –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –Ω–∏—á–µ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏.**  
–û–Ω –ø—Ä–æ—Å—Ç–æ **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤ rvalue** (–ø—Ä–∞–≤–æ–∑–Ω–∞—á–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ), —Ä–∞–∑—Ä–µ—à–∞—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É **–≤—ã–∑–≤–∞—Ç—å move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ move-–æ–ø–µ—Ä–∞—Ç–æ—Ä**, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã.

> üí¨ –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:  
> `std::move(x)` –≥–æ–≤–æ—Ä–∏—Ç:  
> **¬´–Ø –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–¥–∞—é—Å—å –≤ `x` ‚Äî —Ç—ã –º–æ–∂–µ—à—å "—É–∫—Ä–∞—Å—Ç—å" –µ–≥–æ —Ä–µ—Å—É—Ä—Å—ã, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å¬ª.**

---

## üîÅ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `std::move`?

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å
```cpp
std::move(object);
```

### 2. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
- `std::move` **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç move-—Å–µ–º–∞–Ω—Ç–∏–∫—É –Ω–∞–ø—Ä—è–º—É—é**.
- –û–Ω –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–∫–∞—Å—Ç –∫ rvalue-—Å—Å—ã–ª–∫–µ**: `static_cast<T&&>(object)`.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑–≤–∞—Ç—å **move-—Ñ—É–Ω–∫—Ü–∏–∏** (move constructor, move assignment), –∞ –Ω–µ –∫–æ–ø–∏—Ä—É—é—â–∏–µ.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
#include <iostream>
#include <vector>

int main() {
    std::vector<int> source = {1, 2, 3, 4, 5};
    std::vector<int> destination;

    // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ source –≤ destination
    destination = std::move(source);

    // –¢–µ–ø–µ—Ä—å source –≤ "–≤—ã–º—ã—Ç–æ–º" —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (–Ω–æ –≤–∞–ª–∏–¥–µ–Ω)
    std::cout << "source size: " << source.size() << "\n";      // 0
    std::cout << "dest size: " << destination.size() << "\n";  // 5

    return 0;
}
```

> ‚úÖ –í–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ.  
> –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ!

---

## üß† –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Äî Rvalue –∏ move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞

–í C++ –µ—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∞ –∑–Ω–∞—á–µ–Ω–∏–π:
- **lvalue** ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –ø–æ –∞–¥—Ä–µ—Å—É: `int x = 5;`
- **rvalue** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: `5`, `x + y`, `std::string("temp")`

Move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç **"–ø–µ—Ä–µ–º–µ—â–∞—Ç—å" —Ä–µ—Å—É—Ä—Å—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞–º—è—Ç—å) –∏–∑ **rvalue**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Å–∫–æ—Ä–æ –∏—Å—á–µ–∑–Ω—É—Ç.

`std::move` **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç lvalue –≤ rvalue**, –¥–∞–≤–∞—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ.

---

## ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::move`?

### 1. **–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏** (–µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç RVO)

```cpp
std::vector<int> createBigVector() {
    std::vector<int> v(1000000);
    return std::move(v);  // ‚ùå –ù–µ –Ω—É–∂–Ω–æ! –õ—É—á—à–µ –ø—Ä–æ—Å—Ç–æ:
    // return v;  // –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–∞–º –ø—Ä–∏–º–µ–Ω–∏—Ç move –∏–ª–∏ RVO
}
```

> ‚ö†Ô∏è **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::move` –≤ `return` –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã** ‚Äî —ç—Ç–æ **–º–µ—à–∞–µ—Ç RVO** (Return Value Optimization).

---

### 2. **–ö–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ**

```cpp
class Processor {
    std::vector<int> data;
public:
    void set_data(std::vector<int> new_data) {
        data = std::move(new_data);  // –ø–µ—Ä–µ–º–µ—â–∞–µ–º, –∞ –Ω–µ –∫–æ–ø–∏—Ä—É–µ–º
    }
};

Processor p;
std::vector<int> my_data = {1,2,3};
p.set_data(std::move(my_data));  // my_data –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

---

### 3. **–í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (push_back, emplace)**

```cpp
std::vector<std::string> vec;
std::string str = "Hello";

vec.push_back(std::move(str));  // –ø–µ—Ä–µ–º–µ—â–∞–µ–º —Å—Ç—Ä–æ–∫—É, –Ω–µ –∫–æ–ø–∏—Ä—É–µ–º
// str —Ç–µ–ø–µ—Ä—å –≤ –≤–∞–ª–∏–¥–Ω–æ–º, –Ω–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
```

---

### 4. **–ü—Ä–∏ –æ–±–º–µ–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤**

```cpp
template <typename T>
void swap(T& a, T& b) {
    T temp = std::move(a);  // –ø–µ—Ä–µ–º–µ—â–∞–µ–º a –≤ temp
    a = std::move(b);       // –ø–µ—Ä–µ–º–µ—â–∞–µ–º b –≤ a
    b = std::move(temp);    // –ø–µ—Ä–µ–º–µ—â–∞–µ–º temp –≤ b
}
```

---

## ‚ö†Ô∏è –ö–æ–≥–¥–∞ –ù–ï –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::move`?

| –°–∏—Ç—É–∞—Ü–∏—è | –ü–æ—á–µ–º—É –Ω–µ –Ω—É–∂–Ω–æ |
|--------|-----------------|
| `return local_variable;` | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å **RVO/NRVO** ‚Äî `std::move` –ø–æ–º–µ—à–∞–µ—Ç |
| –° `int`, `double`, `char` | –≠—Ç–∏ —Ç–∏–ø—ã **–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –¥–µ—à–µ–≤–æ** ‚Äî move = copy |
| –ï—Å–ª–∏ –≤—ã –µ—â—ë –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç | –ü–æ—Å–ª–µ `std::move` –æ–±—ä–µ–∫—Ç **–º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω** |

---

## üí° –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ `std::move`

–ü–æ—Å–ª–µ `std::move`:
- –û–±—ä–µ–∫—Ç –æ—Å—Ç–∞—ë—Ç—Å—è **–≤–∞–ª–∏–¥–Ω—ã–º** (–º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä),
- –ù–æ –µ–≥–æ **—Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ** (–æ–±—ã—á–Ω–æ –ø—É—Å—Ç–æ–µ),
- –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ,
- **–ù–µ–ª—å–∑—è —á–∏—Ç–∞—Ç—å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏**.

```cpp
std::string s1 = "Hello";
std::string s2 = std::move(s1);

std::cout << s1;  // ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ –º—É—Å–æ—Ä–æ–º
std::cout << s2;  // ‚úÖ "Hello"
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`std::move` ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤ rvalue**, —Ä–∞–∑—Ä–µ—à–∞—è –≤—ã–∑–æ–≤ move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏–ª–∏ move-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è. –û–Ω –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–∞–º, –∞ —Ç–æ–ª—å–∫–æ –¥–∞—ë—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ.
>
> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ **–ø–µ—Ä–µ–¥–∞—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–º** –∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–¥–∞–µ—Ç–µ—Å—å –≤ –æ–±—ä–µ–∫—Ç–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é, –≤—Å—Ç–∞–≤–∫–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
>
> –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::move` –≤ `return`, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —á–∞—Å—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ª—É—á—à–µ –≤–∞—Å.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è `std::move`?

- [ ] –ó–Ω–∞—é, —á—Ç–æ `std::move` –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç, –∞ "—Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å"
- [ ] –ü–æ–Ω–∏–º–∞—é, —á—Ç–æ –æ–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç lvalue –≤ rvalue
- [ ] –ó–Ω–∞—é, —á—Ç–æ –ø–æ—Å–ª–µ `std::move` –æ–±—ä–µ–∫—Ç –≤ –≤–∞–ª–∏–¥–Ω–æ–º, –Ω–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å `vector` –∏–ª–∏ `string`
- [ ] –ó–Ω–∞—é, —á—Ç–æ –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::move` –≤ `return`

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ `std::move`** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä, –≥–¥–µ `std::move` —É—Ö—É–¥—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ SFINAE? –ü—Ä–∏–º–µ—Ä —Å `std::enable_if`.

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **SFINAE** –∏ `std::enable_if` ‚Äî –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã **—à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ C++**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ (C++20). –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç **—É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å—é —à–∞–±–ª–æ–Ω–æ–≤** –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ SFINAE?

**SFINAE** —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **"Substitution Failure Is Not An Error"**  
(¬´–û—à–∏–±–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –Ω–µ –æ—à–∏–±–∫–∞¬ª).

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
–ï—Å–ª–∏ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–∏–ø–æ–≤ –≤ —à–∞–±–ª–æ–Ω **–≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º**, —ç—Ç–æ **–Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –∞ –ø—Ä–æ—Å—Ç–æ **–∏—Å–∫–ª—é—á–∞–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è**.

> üí¨ –≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **"–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—Ç—å" –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —à–∞–±–ª–æ–Ω—ã**, –Ω–µ –ª–æ–º–∞—è —Å–±–æ—Ä–∫—É.

---

### üîÑ –ü—Ä–∏–º–µ—Ä SFINAE

```cpp
// –í–µ—Ä—Å–∏—è 1: —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–ø–æ–≤ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º +
template <typename T>
auto add(T a, T b) -> decltype(a + b) {
    return a + b;
}

// –í–µ—Ä—Å–∏—è 2: fallback –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
template <typename T>
T add(T a, T b) {
    static_assert(false, "Type does not support +");
    return a; // –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
}
```

> –ï—Å–ª–∏ `T` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `+`, –ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è **–∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è** (SFINAE), –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–ø—Ä–æ–±—É–µ—Ç –≤—Ç–æ—Ä—É—é.  
> –ù–æ `static_assert(false)` –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω—É—é.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `std::enable_if`?

`std::enable_if` ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω –∏–∑ `<type_traits>`, –∫–æ—Ç–æ—Ä—ã–π **–≤–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç —à–∞–±–ª–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏—è**.

### üîß –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <bool Condition, typename T = void>
struct enable_if;

// –ï—Å–ª–∏ Condition == true: –∏–º–µ–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–∏–ø ::type = T
// –ï—Å–ª–∏ Condition == false: –Ω–µ –∏–º–µ–µ—Ç ::type ‚Üí SFINAE
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä:
```cpp
template <bool B, typename T = void>
using enable_if_t = typename std::enable_if<B, T>::type;
```

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: `abs()` —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤

```cpp
#include <type_traits>

// –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ T ‚Äî —á–∏—Å–ª–æ–≤–æ–π —Ç–∏–ø
template <typename T>
std::enable_if_t<std::is_arithmetic_v<T>, T>
abs(T x) {
    return x < 0 ? -x : x;
}
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- `std::is_arithmetic_v<T>` ‚Üí `true` –¥–ª—è `int`, `double`, `float`, –∏ —Ç.–¥.
- –ï—Å–ª–∏ `true`, `enable_if_t<true, T>` = `T` ‚Üí —à–∞–±–ª–æ–Ω –≤–∞–ª–∏–¥–µ–Ω.
- –ï—Å–ª–∏ `false`, `enable_if_t<false, T>` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí **SFINAE** ‚Üí —à–∞–±–ª–æ–Ω –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è.

```cpp
abs(5);      // OK: int ‚Äî arithmetic
abs(3.14);   // OK: double ‚Äî arithmetic
// abs("hi"); // ‚ùå –û—à–∏–±–∫–∞: char* –Ω–µ arithmetic ‚Üí –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
```

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø–æ —Ç–∏–ø—É

```cpp
template <typename T>
std::enable_if_t<std::is_integral_v<T>, void>
process(T value) {
    std::cout << "Integer: " << value << "\n";
}

template <typename T>
std::enable_if_t<std::is_floating_point_v<T>, void>
process(T value) {
    std::cout << "Float: " << value << "\n";
}
```

```cpp
process(42);     // Integer
process(3.14f);  // Float
```

> ‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ SFINAE.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–µ—Ç–æ–¥–∞ `.size()`

```cpp
template <typename T>
struct has_size {
    template <typename U>
    static auto test(U* u) -> decltype(u->size(), std::true_type{});

    static std::false_type test(...);

    static constexpr bool value = std::is_same_v<
        decltype(test(std::declval<T*>())), std::true_type
    >;
};

template <typename T>
std::enable_if_t<has_size<T>::value, void>
print_size(const T& container) {
    std::cout << "Size: " << container.size() << "\n";
}
```

```cpp
std::vector<int> v = {1,2,3};
print_size(v);  // OK

int x = 5;
// print_size(x); // ‚ùå –ù–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è: int –Ω–µ –∏–º–µ–µ—Ç .size()
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´SFINAE –æ–∑–Ω–∞—á–∞–µ—Ç "Substitution Failure Is Not An Error". –ï—Å–ª–∏ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–∏–ø–∞ –≤ —à–∞–±–ª–æ–Ω –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º ‚Äî —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞, –∞ –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏.
>
> `std::enable_if` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SFINAE, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∞—Ç—å —à–∞–±–ª–æ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤.
>
> –í C++20 —ç—Ç–æ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ **–∫–æ–Ω—Ü–µ–ø—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—Ç–∞–µ–º–µ–µ –∏ –¥–∞—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏.¬ª

---

## üîÅ SFINAE vs –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)

| –ü–æ–¥—Ö–æ–¥ | –ü—Ä–∏–º–µ—Ä |
|-------|--------|
| **SFINAE + enable_if** | `template <typename T> std::enable_if_t<std::is_integral_v<T>, T> abs(T x)` |
| **–ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20)** | `template <std::integral T> T abs(T x)` |

> ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî **—á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ, –ø–æ–Ω—è—Ç–Ω–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è SFINAE?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç SFINAE
- [ ] –ó–Ω–∞—é, —á—Ç–æ —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞, –∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤
- [ ] –ú–æ–≥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::enable_if` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `decltype` –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ç–∏–ø–µ
- [ ] –ó–Ω–∞—é, —á—Ç–æ –≤ C++20 –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç—ã

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ SFINAE** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä `is_callable` —á–µ—Ä–µ–∑ SFINAE**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß–µ–º `concepts` –ª—É—á—à–µ SFINAE?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–ö–æ–Ω—Ü–µ–ø—Ç—ã (concepts)** ‚Äî —ç—Ç–æ **—Ä–µ–≤–æ–ª—é—Ü–∏—è –≤ C++20**, –∫–æ—Ç–æ—Ä–∞—è –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å **SFINAE** –∏ `std::enable_if`. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º, **–ø–æ—á–µ–º—É –∫–æ–Ω—Ü–µ–ø—Ç—ã –ª—É—á—à–µ**, –∏ –≤ —á—ë–º –∏—Ö –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞.

---

## üîÅ –ö—Ä–∞—Ç–∫–æ: SFINAE vs Concepts

| –ö—Ä–∏—Ç–µ—Ä–∏–π | SFINAE / `std::enable_if` | –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20) |
|--------|----------------------------|------------------|
| **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è, —Å–ª–æ–∂–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å | –í—ã—Å–æ–∫–∞—è, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è |
| **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** | –î–ª–∏–Ω–Ω—ã–µ, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ | –ö–æ—Ä–æ—Ç–∫–∏–µ, —è—Å–Ω—ã–µ |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE** | –ü–ª–æ—Ö–∞—è | –û—Ç–ª–∏—á–Ω–∞—è (–ø–æ–¥—Å–≤–µ—Ç–∫–∞, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ) |
| **–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤** | –°–ª–æ–∂–Ω–∞—è, —Ö—Ä—É–ø–∫–∞—è | –ü—Ä–æ—Å—Ç–∞—è, –ø–æ–Ω—è—Ç–Ω–∞—è |
| **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –ù—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è | –ö–æ–Ω—Ü–µ–ø—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ù–µ –≤–ª–∏—è–µ—Ç | –ù–µ –≤–ª–∏—è–µ—Ç |

---

## ‚úÖ 1. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞**

### ‚ùå SFINAE:
```cpp
template <typename T>
std::enable_if_t<std::is_arithmetic_v<T>, T>
abs(T x) {
    return x < 0 ? -x : x;
}
```

> –ö–æ–¥ "–∑–∞—Å–æ—Ä—ë–Ω" —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π. –°–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å.

### ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã:
```cpp
template <std::arithmetic T>
T abs(T x) {
    return x < 0 ? -x : x;
}
```

> –ò–ª–∏ –µ—â—ë –ø—Ä–æ—â–µ:
> ```cpp
> T abs(T x) requires std::arithmetic<T> { ... }
> ```

> ‚úÖ –Ø—Å–Ω–æ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤**.

---

## ‚úÖ 2. **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**

### ‚ùå SFINAE ‚Äî —É–∂–∞—Å–Ω–∞—è –æ—à–∏–±–∫–∞:
```cpp
abs("hello");
```

> –û—à–∏–±–∫–∞:
```
error: no matching function for call to 'abs'
note: candidate template ignored: disabled by 'enable_if'
```

> üîç –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ—è—Å–Ω–∞. –ù—É–∂–Ω–æ –∫–æ–ø–∞—Ç—å—Å—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö.

### ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:
```
error: constraints not satisfied
note: because 'std::is_arithmetic_v<const char*>' is false
```

> ‚úÖ –°—Ä–∞–∑—É –≤–∏–¥–Ω–æ: `const char*` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–º —Ç–∏–ø–æ–º.

---

## ‚úÖ 3. **–ü—Ä–æ—Å—Ç–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞**

### ‚ùå SFINAE ‚Äî —Å–ª–æ–∂–Ω–æ –∏ —Ö—Ä—É–ø–∫–æ:
```cpp
template <typename T>
std::enable_if_t<std::is_integral_v<T>, void>
process(T x) { /* ... */ }

template <typename T>
std::enable_if_t<std::is_floating_point_v<T>, void>
process(T x) { /* ... */ }
```

> –õ–µ–≥–∫–æ –æ—à–∏–±–∏—Ç—å—Å—è, —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

### ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî —á–∏—Å—Ç–æ –∏ —è—Å–Ω–æ:
```cpp
void process(std::integral auto x) { /* ... */ }
void process(std::floating_point auto x) { /* ... */ }
```

> ‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç **–Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π** –≤–∞—Ä–∏–∞–Ω—Ç.

---

## ‚úÖ 4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã**

### ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å:
```cpp
template <typename T>
concept Addable = requires(T a, T b) {
    a + b;
};

template <typename T>
concept Printable = requires(T t) {
    std::cout << t;
};

template <Addable T>
T add(T a, T b) { return a + b; }

template <Addable T, Printable T>
void add_and_print(T a, T b) {
    T result = add(a, b);
    std::cout << result << "\n";
}
```

> ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å **–±–∏–±–ª–∏–æ—Ç–µ–∫—É –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤**.

---

## ‚úÖ 5. **–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

- –ö–æ–Ω—Ü–µ–ø—Ç—ã **–ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è** –∫–∞–∫ —Ç–∏–ø—ã.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç **–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ**.
- –õ–µ–≥–∫–æ **–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å**.
- –ü–æ–Ω—è—Ç–Ω—ã –≤ **–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**.

> SFINAE ‚Äî "–º–∞–≥–∏—è", –∫–æ—Ç–æ—Ä—É—é IDE –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç.

---

## ‚úÖ 6. **–ú–µ–Ω—å—à–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ "–º—É—Å–æ—Ä–∞"**

SFINAE –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
```cpp
typename std::enable_if<..., T>::type
```

–ö–æ–Ω—Ü–µ–ø—Ç—ã **–æ—á–∏—â–∞—é—Ç —à–∞–±–ª–æ–Ω—ã** –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `.size()`

### ‚ùå SFINAE + `void_t`:
```cpp
template <typename T, typename = void>
struct has_size : std::false_type {};

template <typename T>
struct has_size<T, std::void_t<decltype(std::declval<T>().size())>> : std::true_type {};
```

### ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ç—ã:
```cpp
template <typename T>
concept HasSize = requires(T t) {
    t.size();
};
```

> ‚úÖ –í 10 —Ä–∞–∑ —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–ö–æ–Ω—Ü–µ–ø—Ç—ã –≤ C++20 ‚Äî —ç—Ç–æ –ø—Ä—è–º–∞—è –∑–∞–º–µ–Ω–∞ SFINAE –∏ `std::enable_if`, –∏ –æ–Ω–∏ –ª—É—á—à–µ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º:
>
> - **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: `template <std::integral T>` –≤–º–µ—Å—Ç–æ `std::enable_if_t<std::is_integral_v<T>, T>`
> - **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**: –ø–æ–Ω—è—Ç–Ω—ã–µ, –∞ –Ω–µ 100 —Å—Ç—Ä–æ–∫ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
> - **–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞**: –ø—Ä–æ—Å—Ç–∞—è –∏ –ª–æ–≥–∏—á–Ω–∞—è
> - **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE**: –æ—Ç–ª–∏—á–Ω–∞—è
> - **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –∫–æ–Ω—Ü–µ–ø—Ç—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
>
> –ö–æ–Ω—Ü–µ–ø—Ç—ã –¥–µ–ª–∞—é—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥ **–±–µ–∑–æ–ø–∞—Å–Ω—ã–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º**. SFINAE —Ç–µ–ø–µ—Ä—å —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è —Ä–∞–∑–Ω–∏—Ü—É?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ SFINAE
- [ ] –ó–Ω–∞—é, —á—Ç–æ `std::enable_if` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SFINAE
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É –æ—à–∏–±–∫–∏ SFINAE ‚Äî —É–∂–∞—Å–Ω—ã
- [ ] –ú–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ü–µ–ø—Ç
- [ ] –ó–Ω–∞—é, —á—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ç—ã ‚Äî –±—É–¥—É—â–µ–µ C++ (–∏ –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å C++20)

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—ã** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ –¥–ª—è STL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ `template specialization`?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **–®–∞–±–ª–æ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (template specialization)** ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å C++, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è **–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Å–æ–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏–ª–∏ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**.

–≠—Ç–æ –Ω—É–∂–Ω–æ, –∫–æ–≥–¥–∞ **–æ–±—â–∞—è –≤–µ—Ä—Å–∏—è —à–∞–±–ª–æ–Ω–∞ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç** –¥–ª—è –∫–∞–∫–æ–≥–æ-—Ç–æ —Ç–∏–ø–∞, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ **–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ**.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `template specialization`?

–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ —à–∞–±–ª–æ–Ω, –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç **–¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ**.  
–ù–æ –∏–Ω–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ:
- –î–ª—è `bool` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏—Ç–æ–≤—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é,
- –î–ª—è `std::string` ‚Äî –æ—Å–æ–±—É—é –ª–æ–≥–∏–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è,
- –î–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π ‚Äî –¥—Ä—É–≥–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**.

---

## üîπ –î–≤–∞ –≤–∏–¥–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|---------|--------|
| **–ü–æ–ª–Ω–∞—è (full) —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –ó–∞–º–µ–Ω—è–µ—Ç —à–∞–±–ª–æ–Ω **–ø–æ–ª–Ω–æ—Å—Ç—å—é** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ | `template<> class MyContainer<int>` |
| **–ß–∞—Å—Ç–∏—á–Ω–∞—è (partial) —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –ó–∞–º–µ–Ω—è–µ—Ç —à–∞–±–ª–æ–Ω **–¥–ª—è –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ —É—Å–ª–æ–≤–∏–π** (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤) | `template<typename T> class MyContainer<T*>` |

---

## ‚úÖ 1. –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

### üîß –î–ª—è –∫–ª–∞—Å—Å–æ–≤:

```cpp
// –û–±—â–∏–π —à–∞–±–ª–æ–Ω
template <typename T>
class Printer {
public:
    void print(const T& value) {
        std::cout << "General: " << value << "\n";
    }
};

// –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è const char*
template <>
class Printer<const char*> {
public:
    void print(const char* value) {
        std::cout << "String: " << value << "\n";
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
Printer<int> p1;
p1.print(42);  // General: 42

Printer<const char*> p2;
p2.print("Hello");  // String: Hello
```

> ‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é, –µ—Å–ª–∏ —Ç–∏–ø —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

---

### üîß –î–ª—è —Ñ—É–Ω–∫—Ü–∏–π (—Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è):

```cpp
template <typename T>
void log(const T& value) {
    std::cout << "[LOG] " << value << "\n";
}

// –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è bool
template <>
void log<bool>(const bool& value) {
    std::cout << "[LOG] Bool: " << (value ? "true" : "false") << "\n";
}

log(42);     // [LOG] 42
log(true);   // [LOG] Bool: true
```

> ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π **–Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É.

---

## ‚úÖ 2. –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤)

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è **—Ü–µ–ª–æ–π –≥—Ä—É–ø–ø—ã —Ç–∏–ø–æ–≤**, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- –í—Å–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏,
- –í—Å–µ –º–∞—Å—Å–∏–≤—ã,
- –í—Å–µ —Ç–∏–ø—ã —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º.

### üîß –ü—Ä–∏–º–µ—Ä: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

```cpp
template <typename T>
class Wrapper {
    T value;
public:
    void info() { std::cout << "General wrapper\n"; }
};

// –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è T*
template <typename T>
class Wrapper<T*> {
    T* ptr;
public:
    void info() { std::cout << "Pointer wrapper\n"; }
};

Wrapper<int> w1;
w1.info();  // General wrapper

Wrapper<int*> w2;
w2.info();  // Pointer wrapper
```

---

### üîß –ü—Ä–∏–º–µ—Ä: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤

```cpp
template <typename T, size_t N>
class Array {
    T data[N];
public:
    void fill(const T& value) {
        for (auto& x : data) x = value;
    }
};

// –ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è bool[N] ‚Äî –±–∏—Ç–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
template <size_t N>
class Array<bool, N> {
    uint8_t bits[(N + 7) / 8];
public:
    void fill(bool value) {
        std::fill(bits, bits + (N + 7) / 8, value ? 0xFF : 0x00);
    }
};
```

> ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ, —á–µ–º —Ö—Ä–∞–Ω–∏—Ç—å `bool` –ø–æ –æ–¥–Ω–æ–º—É –±–∞–π—Ç—É.

---

## üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é?

| –°–∏—Ç—É–∞—Ü–∏—è | –ü—Ä–∏–º–µ—Ä |
|--------|--------|
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ | `std::vector<bool>` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –±–∏—Ç—ã |
| –û—Å–æ–±–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `const char*` –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π/—Å—Å—ã–ª–æ–∫ | `std::remove_pointer<T>` |
| –£–ø—Ä–æ—â–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | `std::enable_if` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ |

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

1. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ç–æ–π –∂–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ –∏ —à–∞–±–ª–æ–Ω**
2. **–ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤**
3. **–§—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É
4. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤** ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–®–∞–±–ª–æ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å **–æ—Å–æ–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞**.
>
> - **–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –∑–∞–º–µ–Ω–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `int` –∏–ª–∏ `const char*`).
> - **–ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –∑–∞–º–µ–Ω–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã —Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π `T*`), –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Å –∫–ª–∞—Å—Å–∞–º–∏**.
>
> –≠—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–∫–∞–∫ `std::vector<bool>`) –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è. –î–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞, –∞ –Ω–µ —á–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ø–æ–ª–Ω–æ–π –∏ —á–∞—Å—Ç–∏—á–Ω–æ–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] –ó–Ω–∞—é, —á—Ç–æ —á–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å `Printer<const char*>`
- [ ] –ó–Ω–∞—é, —á—Ç–æ `std::vector<bool>` ‚Äî —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ —à–∞–±–ª–æ–Ω–Ω—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä `is_pointer` —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `variadic templates`?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **Variadic templates (—à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)** ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π C++11+, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, –æ–±–æ–±—â—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã**, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å **–ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞**.

–≠—Ç–æ –æ—Å–Ω–æ–≤–∞ —Ç–∞–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–∞–∫ `std::make_tuple`, `std::emplace_back`, `std::print` (C++23) –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `variadic templates`?

**Variadic template** ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **–Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**, –∞ **–ø–∞–∫–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (`parameter pack`), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- –ù–æ–ª—å,
- –û–¥–∏–Ω,
- –ò–ª–∏ –º–Ω–æ–≥–æ —Ç–∏–ø–æ–≤ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–π.

### üîß –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <typename... Types>           // –ø–∞–∫–µ—Ç —Ç–∏–ø–æ–≤
template <typename T, typename... Args> // –æ–¥–∏–Ω —Ç–∏–ø + –ø–∞–∫–µ—Ç
template <auto... Values>              // –ø–∞–∫–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π (C++17)
```

---

## üîÅ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç variadic templates?

–û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ **—Ä–µ–∫—É—Ä—Å–∏—é** –∏–ª–∏ **—Ä–∞—Å–ø–∞–∫–æ–≤–∫—É (unpacking)** —Å –ø–æ–º–æ—â—å—é `...`.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø–µ—á–∞—Ç—å –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```cpp
// –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: 0 –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
void print() {
    std::cout << "\n";
}

// –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π: –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç + –ø–∞–∫–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
template <typename T, typename... Args>
void print(T first, Args... args) {
    std::cout << first << " ";
    print(args...);  // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ —Å –æ—Å—Ç–∞–≤—à–∏–º–∏—Å—è
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
print(1, "hello", 3.14, 'x');
// –í—ã–≤–æ–¥: 1 hello 3.14 x
```

### üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. `print(1, "hello", 3.14, 'x')` ‚Üí `T = int`, `args = {"hello", 3.14, 'x'}`
2. –ü–µ—á–∞—Ç–∞–µ–º `1`, –≤—ã–∑—ã–≤–∞–µ–º `print("hello", 3.14, 'x')`
3. –ü–µ—á–∞—Ç–∞–µ–º `"hello"`, –≤—ã–∑—ã–≤–∞–µ–º `print(3.14, 'x')`
4. –ü–µ—á–∞—Ç–∞–µ–º `3.14`, –≤—ã–∑—ã–≤–∞–µ–º `print('x')`
5. –ü–µ—á–∞—Ç–∞–µ–º `'x'`, –≤—ã–∑—ã–≤–∞–µ–º `print()` ‚Üí –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π ‚Üí –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏

---

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### 1. **–ü–∞–∫–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (`Args...`)**
- –û–±—ä—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ `typename... Args` –∏–ª–∏ `auto... args`
- –°–∞–º –ø–æ —Å–µ–±–µ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º**, –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **—Å–ø–∏—Å–æ–∫**

### 2. **–†–∞—Å–ø–∞–∫–æ–≤–∫–∞ (`...`)**
- –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç –≤ —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
  - –í—ã–∑–æ–≤–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π: `func(args...)`
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: `int arr[] = {values...}`
  - –í—ã—Ä–∞–∂–µ–Ω–∏—è—Ö: `(args + ...)`

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. **–°—É–º–º–∞ —á–∏—Å–µ–ª**
```cpp
template <typename... Args>
auto sum(Args... args) {
    return (args + ...);  // C++17: fold expression
}

sum(1, 2, 3, 4);  // 10
```

> –ë–µ–∑ C++17 (—Ä–µ–∫—É—Ä—Å–∏—è):
```cpp
auto sum() { return 0; }
template <typename T, typename... Args>
auto sum(T first, Args... args) {
    return first + sum(args...);
}
```

---

### 2. **–ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞ –º–µ—Å—Ç–µ"**
```cpp
template <typename T, typename... Args>
std::unique_ptr<T> make_unique(Args&&... args) {
    return std::unique_ptr<T>(new T(std::forward<Args>(args)...));
}
```

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `std::make_unique`.

---

### 3. **–•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ ‚Äî `std::tuple`**
```cpp
template <typename... Types>
class MyTuple;

// –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
template <>
class MyTuple<> {};

// –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π
template <typename T, typename... Types>
class MyTuple<T, Types...> : public MyTuple<Types...> {
    T value;
public:
    MyTuple(T v, Types... args)
        : value(v), MyTuple<Types...>(args...) {}
};
```

> –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è `std::tuple`.

---

### 4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º**
```cpp
template <typename... Args>
void log(const std::string& prefix, Args... args) {
    std::cout << "[LOG] " << prefix << ": ";
    print(args...);  // –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π print
}
```

```cpp
log("User login", "Alice", 25, "active");
// [LOG] User login: Alice 25 active
```

---

## üîÅ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

| –ü–∞—Ç—Ç–µ—Ä–Ω | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|
| **–†–µ–∫—É—Ä—Å–∏—è** | –†–∞–∑–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç, –ø–µ—Ä–µ–¥–∞—ë–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ |
| **Fold expressions (C++17)** | `(args + ...)`, `(std::cout << ... << args)` |
| **Perfect forwarding** | `std::forward<Args>(args)...` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é |
| **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞** | `T arr[] = {args...}` ‚Äî –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ù–µ–ª—å–∑—è –≤–∑—è—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –±–µ–∑ `sizeof...`**
   ```cpp
   constexpr size_t count = sizeof...(Args);
   ```

2. **–ù–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –ø–µ—Ä–µ–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç** ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ä–µ–∫—É—Ä—Å–∏—é –∏–ª–∏ fold

3. **–ß–∞—Å—Ç–∏—á–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤ —Å–ª–æ–∂–Ω–∞** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´Variadic templates –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç—ã —Ç–∏–ø–æ–≤ (`typename... Args`) –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É —Å –ø–æ–º–æ—â—å—é `...`. –ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π –∏–ª–∏ fold expressions (C++17). –ü—Ä–∏–º–µ—Ä—ã: `std::make_tuple`, `std::print`, `std::make_unique`. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏–±–∫–∏—Ö –∏ –æ–±–æ–±—â—ë–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è variadic templates?

- [ ] –ó–Ω–∞—é, —á—Ç–æ `typename... Args` ‚Äî —ç—Ç–æ –ø–∞–∫–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏—è —Å `args...`
- [ ] –ú–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å `print` –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- [ ] –ó–Ω–∞—é, —á—Ç–æ —Ç–∞–∫–æ–µ fold expression (C++17)
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ `std::make_unique` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç variadic templates

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ variadic templates** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä `make_array` —Å —Ä–∞—Å–ø–∞–∫–æ–≤–∫–æ–π**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä


# –ß—Ç–æ —Ç–∞–∫–æ–µ `CRTP`? –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! **CRTP** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤ C++, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö**. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**, –∏–∑–±–µ–≥–∞—è –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ `virtual`.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ CRTP?

**CRTP** —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **Curiously Recurring Template Pattern**  
(¬´–õ—é–±–æ–ø—ã—Ç–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è —à–∞–±–ª–æ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω¬ª).

### ‚úÖ –§–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
> –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è —à–∞–±–ª–æ–Ω–æ–º**, –∏ **–ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —ç—Ç–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ —Å —Å–∞–º–∏–º —Å–æ–±–æ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞**.

### üìå –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <typename Derived>
class Base {
    // –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã Derived
};

class Derived : public Base<Derived> {
    // ...
};
```

> –î–∞, `Derived` –µ—â—ë –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω ‚Äî –Ω–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É —Ö–≤–∞—Ç–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

```cpp
template <typename Derived>
struct Shape {
    void draw() {
        static_cast<Derived*>(this)->draw_impl();
    }
};

struct Circle : Shape<Circle> {
    void draw_impl() {
        std::cout << "Drawing a circle\n";
    }
};

struct Square : Shape<Square> {
    void draw_impl() {
        std::cout << "Drawing a square\n";
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
Circle c;
Square s;
c.draw();  // –í—ã–∑–æ–≤–µ—Ç—Å—è Circle::draw_impl()
s.draw();  // –í—ã–∑–æ–≤–µ—Ç—Å—è Square::draw_impl()
```

> ‚úÖ –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –±–µ–∑ `virtual` –∏ `vtable` ‚Üí **–±—ã—Å—Ç—Ä–µ–µ**!

---

## üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. `Shape<Circle>` –∑–Ω–∞–µ—Ç, —á—Ç–æ `Derived = Circle`.
2. –í `draw()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `static_cast<Circle*>(this)->draw_impl()`.
3. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–∑–Ω–∞–µ—Ç —Ç–∏–ø –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ‚Üí –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å **–∏–Ω–ª–∞–π–Ω–µ–Ω**.

> ‚ö° –ù–µ—Ç –∫–æ—Å–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ ‚Üí **–≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**.

---

## üîπ –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è CRTP?

### 1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (EBCO ‚Äî Empty Base Optimization)**
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –Ω–æ **–Ω–µ–ª—å–∑—è –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ `vtable`**.
- –ü—Ä–∏–º–µ—Ä: –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, embedded-—Å–∏—Å—Ç–µ–º—ã.

---

### 2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Mixin)**
```cpp
template <typename Derived>
class Comparable {
public:
    bool operator!=(const Derived& other) const {
        return !static_cast<const Derived&>(*this == other);
    }

    bool operator>(const Derived& other) const {
        return other < static_cast<const Derived&>(*this);
    }
    // –∏ —Ç.–¥.
};

class MyInt : public Comparable<MyInt> {
    int value;
public:
    bool operator<(const MyInt& other) const { return value < other.value; }
    bool operator==(const MyInt& other) const { return value == other.value; }
};
```

> ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏–ª–∏ `!=`, `>`, `<=` –∏ —Ç.–¥.

---

### 3. **–ü–æ–¥—Å—á—ë—Ç –æ–±—ä–µ–∫—Ç–æ–≤ (Instance Counter)**
```cpp
template <typename T>
class InstanceCounter {
    inline static int count = 0;
public:
    InstanceCounter() { ++count; }
    ~InstanceCounter() { --count; }
    static int get_count() { return count; }
};

class Widget : public InstanceCounter<Widget> {
    // ...
};

Widget w1, w2;
std::cout << Widget::get_count();  // 2
```

> ‚úÖ –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç **—Å–≤–æ–π —Å—á—ë—Ç—á–∏–∫**.

---

### 4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (EBO ‚Äî Empty Base Optimization)**
```cpp
template <typename T>
class Empty {};  // –ø—É—Å—Ç–æ–π –∫–ª–∞—Å—Å

template <typename T>
class Holder : public Empty<T> {
    T data;
};
```

> –ï—Å–ª–∏ `Empty<T>` –ø—É—Å—Ç–æ–π, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç **–Ω–µ –≤—ã–¥–µ–ª—è—Ç—å –ø–æ–¥ –Ω–µ–≥–æ –ø–∞–º—è—Ç—å** ‚Üí —Ä–∞–∑–º–µ—Ä `Holder<T>` = `sizeof(T)`.

---

### 5. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏**
- **Eigen** (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CRTP –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
- **Boost** ‚Äî `enable_shared_from_this`, `operators`.
- **Qt** ‚Äî `Q_D()` / `Q_Q()` (–ø–æ—Ö–æ–∂–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω).
- **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏** ‚Äî –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç.–¥.

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ CRTP

| –ü–ª—é—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|---------|
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ù–µ—Ç `vtable`, –≤—ã–∑–æ–≤—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω–ª–∞–π–Ω–µ–Ω—ã |
| **–í—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** | –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–¥—Å—á—ë—Ç) |
| **EBO** | –ü—É—Å—Ç—ã–µ –±–∞–∑—ã –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ |

---

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ CRTP

| –ú–∏–Ω—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|---------|
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ç—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å –Ω–æ–≤–∏—á–∫–∞–º |
| **–ñ—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å** | –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å **–¥–æ–ª–∂–µ–Ω** –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç `Base<Derived>` |
| **–ù–µ—Ç —Ä–∞–Ω—Ç–∞–π–º-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞** | –ù–µ–ª—å–∑—è —Ö—Ä–∞–Ω–∏—Ç—å –≤ `std::vector<Shape*>` |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —à–∞–±–ª–æ–Ω–æ–≤** | –í–µ—Å—å –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´CRTP ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å —Å–∞–º–∏–º —Å–æ–±–æ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: `class Derived : public Base<Derived>`. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞**, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ `virtual`. –¢–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è), –ø–æ–¥—Å—á—ë—Ç–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ EBO. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –≤—Ä–æ–¥–µ Eigen –∏ Boost.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è CRTP?

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `class D : public B<D>`
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º
- [ ] –ó–Ω–∞—é, —á—Ç–æ CRTP –±—ã—Å—Ç—Ä–µ–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞
- [ ] –ú–æ–≥—É –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å `Comparable` –∏–ª–∏ `InstanceCounter`
- [ ] –ó–Ω–∞—é, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ CRTP** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `enable_shared_from_this` —á–µ—Ä–µ–∑ CRTP**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä



# –ß–µ–º `std::vector` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `std::list`?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `std::vector` –∏ `std::list` ‚Äî –æ–¥–Ω–∞ –∏–∑ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Ç–µ–º –≤ C++**, –∫–∞—Å–∞—é—â–∏—Ö—Å—è **—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –ø–æ–¥—Ä–æ–±–Ω–æ.

---

## üîÅ –ö—Ä–∞—Ç–∫–æ: —Ç–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | `std::vector` | `std::list` |
|----------------|---------------|-------------|
| **–¢–∏–ø —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ (–∫–æ–Ω—Ç–∏–Ω—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å) | –î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ (—É–∑–ª—ã –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –ø–∞–º—è—Ç–∏) |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç–∞–≤–∫–∏ –≤ –∫–æ–Ω–µ—Ü** | Amortized O(1) | O(1) |
| **–í—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É/–Ω–∞—á–∞–ª–æ** | O(n) | O(1) (–µ—Å–ª–∏ –µ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä) |
| **–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞** | O(n) (—Å–¥–≤–∏–≥) | O(1) (–µ—Å–ª–∏ –µ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä) |
| **–î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É** | O(1) | O(n) |
| **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã** | Random Access | Bidirectional |
| **–ö—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ùå –ù–∏–∑–∫–∞—è |
| **–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–∞–º—è—Ç—å** | –ù–∏–∑–∫–∏–µ | –í—ã—Å–æ–∫–∏–µ (—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ prev/next) |
| **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤** | –ü—Ä–∏ `push_back` –º–æ–∂–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å—Å—è | –¢–æ–ª—å–∫–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ |
| **–†–∞–∑–º–µ—Ä –ø—É—Å—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** | –ú–∞–ª–µ–Ω—å–∫–∏–π (–æ–¥–∏–Ω —É–∫–∞–∑–∞—Ç–µ–ª—å + —Ä–∞–∑–º–µ—Ä) | –ë–æ–ª—å—à–æ–π (—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ head/tail) |

---

## üîπ 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**

### ‚úÖ `std::vector`
- –•—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–º –±–ª–æ–∫–µ –ø–∞–º—è—Ç–∏** (–∫–∞–∫ –º–∞—Å—Å–∏–≤).
- –ü—Ä–∏ —Ä–æ—Å—Ç–µ: –≤—ã–¥–µ–ª—è–µ—Ç—Å—è **–Ω–æ–≤—ã–π –±–ª–æ–∫**, —Å—Ç–∞—Ä—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã **–∫–æ–ø–∏—Ä—É—é—Ç—Å—è/–ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è**.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É**: `vec[i]`.

### ‚úÖ `std::list`
- –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî **–æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª**, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
  - –î–∞–Ω–Ω—ã–µ,
  - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª,
  - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª.
- –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å **—Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –ø–∞–º—è—Ç–∏**.

---

## üîπ 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**

| –û–ø–µ—Ä–∞—Ü–∏—è | `std::vector` | `std::list` |
|--------|---------------|-------------|
| `push_back()` | **Amortized O(1)**<br>–ò–Ω–æ–≥–¥–∞ O(n) –ø—Ä–∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ | **O(1)**<br>–í—Å–µ–≥–¥–∞ |
| `push_front()` | **O(n)**<br>–ù—É–∂–Ω–æ —Å–¥–≤–∏–Ω—É—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã | **O(1)** |
| `insert(it, x)` | **O(n)**<br>–°–¥–≤–∏–≥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | **O(1)**<br>–ï—Å–ª–∏ `it` ‚Äî –≤–∞–ª–∏–¥–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä |
| `erase(it)` | **O(n)**<br>–°–¥–≤–∏–≥ | **O(1)** |
| `operator[]` / `at()` | **O(1)** | **O(n)** ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –ø–æ —Å–ø–∏—Å–∫—É |
| `size()` | **O(1)** (C++11+) | **O(1)** |
| `clear()` | O(n) | O(n) |

> ‚ö†Ô∏è `std::vector` –±—ã—Å—Ç—Ä–µ–µ –ø–æ—á—Ç–∏ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö, **–∫—Ä–æ–º–µ –≤—Å—Ç–∞–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—Ä–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä–µ**.

---

## üîπ 3. **–ö—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (Cache Locality)**

### ‚úÖ `std::vector` ‚Äî **–≤—ã—Å–æ–∫–∞—è**
- –≠–ª–µ–º–µ–Ω—Ç—ã –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥ ‚Üí –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –æ–¥–Ω–æ–º—É, **—Å–æ—Å–µ–¥–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –∫—ç—à**.
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–π: `for (auto& x : vec)` ‚Äî –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.

### ‚ùå `std::list` ‚Äî **–Ω–∏–∑–∫–∞—è**
- –£–∑–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –ø–∞–º—è—Ç–∏ ‚Üí **–º–Ω–æ–≥–æ cache misses**.
- –î–∞–∂–µ –ø—Ä–æ—Å—Ç–æ–π –æ–±—Ö–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º —É `vector`.

> üí° –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ `std::vector` —á–∞—Å—Ç–æ **–±—ã—Å—Ç—Ä–µ–µ `std::list` –¥–∞–∂–µ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –≤—Å—Ç–∞–≤–∫–∞—Ö**, –∏–∑-–∑–∞ –ª—É—á—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞.

---

## üîπ 4. **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —Å—Å—ã–ª–æ–∫**

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ß—Ç–æ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ `push_back`? |
|----------|--------------------------------------|
| `std::vector` | **–í—Å–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã, —É–∫–∞–∑–∞—Ç–µ–ª–∏, —Å—Å—ã–ª–∫–∏** (–µ—Å–ª–∏ –±—ã–ª reallocation) |
| `std::list` | **–ù–∏–∫–∞–∫–∏–µ** (–µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª—è–ª–∏ —ç–ª–µ–º–µ–Ω—Ç) |

> ‚úÖ `std::list` –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –µ—Å–ª–∏ –≤—ã —Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã/—Å—Å—ã–ª–∫–∏.

---

## üîπ 5. **–ü–∞–º—è—Ç—å**

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã |
|----------|-------------------|
| `std::vector<T>` | –¢–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–æ—Å—Ç–µ: –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è |
| `std::list<T>` | –ù–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç: **–¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è** (`prev`, `next`) ‚Üí +16 –±–∞–π—Ç (–Ω–∞ 64-–±–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ) |

> ‚úÖ `std::vector` —ç–∫–æ–Ω–æ–º–∏—á–Ω–µ–µ –ø–æ –ø–∞–º—è—Ç–∏.

---

## üîπ 6. **–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::vector`, –µ—Å–ª–∏:
- –ß–∞—Å—Ç—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É.
- –í—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –≤ –∫–æ–Ω–µ—Ü.
- –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–π.
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ STL (`std::sort`, `std::binary_search` ‚Äî —Ç—Ä–µ–±—É—é—Ç Random Access).
- –•–æ—Ç–∏—Ç–µ –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.

> üìå **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±–∏—Ä–∞–π—Ç–µ `std::vector`.**

---

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::list`, –µ—Å–ª–∏:
- –ß–∞—Å—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ/—É–¥–∞–ª—è–µ—Ç–µ **–≤ —Å–µ—Ä–µ–¥–∏–Ω–µ** –∏ **—É–∂–µ –∏–º–µ–µ—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä**.
- –ù—É–∂–Ω–æ, —á—Ç–æ–±—ã **–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª–∏—Å—å**.
- –≠–ª–µ–º–µ–Ω—Ç—ã **—Ä–µ–¥–∫–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º).
- –†–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–æ–π, –∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –¥–æ—Ä–æ–≥–æ–µ.

> ‚ö†Ô∏è –ù–æ —á–∞—Å—Ç–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::deque` –∏–ª–∏ `std::vector` —Å `std::remove_if`.

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`std::vector` ‚Äî —ç—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –ø–∞–º—è—Ç—å—é, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏ –æ—Ç–ª–∏—á–Ω—É—é –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. `std::list` ‚Äî –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Å–æ—Å–µ–¥–µ–π.
>
> `std::vector` –±—ã—Å—Ç—Ä–µ–µ –ø–æ—á—Ç–∏ –≤–æ –≤—Å—ë–º, –∫—Ä–æ–º–µ –≤—Å—Ç–∞–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—Ä–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä–µ. –ù–æ –∏–∑-–∑–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞, `std::list` —Ä–µ–¥–∫–æ –±—ã–≤–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.
>
> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±–∏—Ä–∞—é—Ç `std::vector`. `std::list` –∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∫–æ–≥–¥–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏–ª–∏ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –≤—Å—Ç–∞–≤–∫–∞—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω—É.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è —Ä–∞–∑–Ω–∏—Ü—É?

- [ ] –ó–Ω–∞—é, —á—Ç–æ `vector` ‚Äî –º–∞—Å—Å–∏–≤, `list` ‚Äî –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É `vector` –∫—ç—à-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ
- [ ] –ó–Ω–∞—é, –∫–æ–≥–¥–∞ `list` –±—ã—Å—Ç—Ä–µ–µ (`insert` —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º)
- [ ] –ü–æ–Ω–∏–º–∞—é, —á—Ç–æ `vector` –º–æ–∂–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã
- [ ] –ó–Ω–∞—é, —á—Ç–æ `list` —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É–∑–µ–ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä, –≥–¥–µ `list` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ `vector`**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä



# –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `std::unordered_map`? –ö–æ–ª–ª–∏–∑–∏–∏?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! `std::unordered_map` ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ C++, –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ** –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º, **–∫–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω**, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è **–∫–æ–ª–ª–∏–∑–∏–∏**, –∏ –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ **—Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã**.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `std::unordered_map`?

`std::unordered_map` ‚Äî —ç—Ç–æ **–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π **—Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É (hash table)**.  
–û–Ω —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã `–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ` –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø** –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø–æ –∫–ª—é—á—É.

```cpp
std::unordered_map<std::string, int> ages;
ages["Alice"] = 25;
ages["Bob"] = 30;
```

---

## üîß –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `std::unordered_map`?

### 1. **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----------|
| **–ú–∞—Å—Å–∏–≤ "–±–∞–∫–µ—Ç–æ–≤" (buckets)** | –ú–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–ø–∏—Å–∫–∏ (–∏–ª–∏ —É–∑–ª—ã) |
| **–•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è** | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–ª—é—á –≤ –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞: `hash(key) % bucket_count` |
| **–§—É–Ω–∫—Ü–∏—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞** | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–≤–Ω—ã –ª–∏ –¥–≤–∞ –∫–ª—é—á–∞: `key1 == key2` |
| **–°–ø–∏—Å–∫–∏ (–∏–ª–∏ –¥–µ—Ä–µ–≤—å—è)** | –í –∫–∞–∂–¥–æ–º –±–∞–∫–µ—Ç–µ ‚Äî —Ü–µ–ø–æ—á–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ö–µ—à–µ–º |

### 2. **–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∫–ª—é—á—É**

1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö–µ—à –∫–ª—é—á–∞: `size_t h = hash(key);`
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞: `index = h % bucket_count`
3. –ü–µ—Ä–µ—Ö–æ–¥ –∫ –±–∞–∫–µ—Ç—É `buckets[index]`
4. –û–±—Ö–æ–¥ —Ü–µ–ø–æ—á–∫–∏ (—Å–ø–∏—Å–∫–∞) –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ `==`
5. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è

> ‚úÖ –í —Å—Ä–µ–¥–Ω–µ–º: **O(1)**  
> ‚ùå –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ: **O(n)** (–µ—Å–ª–∏ –≤—Å–µ –∫–ª—é—á–∏ –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ)

---

## üî• –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–ª–∏–∑–∏–∏?

**–ö–æ–ª–ª–∏–∑–∏—è** ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ **–¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ö–µ—à-–∏–Ω–¥–µ–∫—Å** (–∏–ª–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç).

### –ü—Ä–∏–º–µ—Ä:
```cpp
hash("Alice") % 10 ‚Üí 3
hash("Bob")   % 10 ‚Üí 3  // –∫–æ–ª–ª–∏–∑–∏—è!
```

> –î–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–∞ –ø–æ–ø–∞–ª–∏ –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –±–∞–∫–µ—Ç.

---

## üõ†Ô∏è –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–ª–ª–∏–∑–∏–∏?

`std::unordered_map` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ **—Ü–µ–ø–æ—á–µ–∫ (chaining)**:

- –ö–∞–∂–¥—ã–π –±–∞–∫–µ—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **—Å–ø–∏—Å–æ–∫ (—Ü–µ–ø–æ—á–∫—É)** —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫.
- –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –æ–±—Ö–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∫–ª—é—á–∏.

```
–ë–∞–∫–µ—Ç—ã:
[0] ‚Üí 
[1] ‚Üí [key1, val1] ‚Üí [key2, val2]  // –∫–æ–ª–ª–∏–∑–∏—è!
[2] ‚Üí 
[3] ‚Üí [key3, val3]
...
```

> ‚úÖ –ü—Ä–æ—Å—Ç–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤ —Å—Ä–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ.

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–ª–ª–∏–∑–∏–π

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ |
|--------|------------|
| –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ | –ü–æ–∏—Å–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è O(n) –≤–º–µ—Å—Ç–æ O(1) |
| –ü–ª–æ—Ö–∞—è —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—è | –ú–Ω–æ–≥–æ –∫–æ–ª–ª–∏–∑–∏–π –¥–∞–∂–µ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–∞—Ö |
| –°–ª–∏—à–∫–æ–º –º–∞–ª–æ –±–∞–∫–µ—Ç–æ–≤ | –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –±–∞–∫–µ—Ç—ã |

---

## ‚úÖ –ö–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏?

### 1. **–•–æ—Ä–æ—à–∞—è —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—è**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã (`int`, `std::string`) –∏–º–µ—é—Ç —Ö–æ—Ä–æ—à–∏–µ —Ö–µ—à–∏.
- –î–ª—è —Å–≤–æ–∏—Ö —Ç–∏–ø–æ–≤ –Ω—É–∂–Ω–æ **—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `std::hash`** –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é.

```cpp
struct Person {
    std::string name;
    int age;
};

struct PersonHash {
    size_t operator()(const Person& p) const {
        return std::hash<std::string>{}(p.name) ^ (std::hash<int>{}(p.age) << 1);
    }
};

std::unordered_map<Person, std::string, PersonHash> map;
```

---

### 2. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ –±–∞–∫–µ—Ç–æ–≤ (rehashing)**

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ –±–∞–∫–µ—Ç–æ–≤ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏,
- –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **rehash**.

```cpp
map.rehash(1000);        // –∑–∞–ø—Ä–æ—Å –Ω–∞ –º–∏–Ω–∏–º—É–º 1000 –±–∞–∫–µ—Ç–æ–≤
map.reserve(500);        // –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –ø–æ–¥ 500 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```

> ‚ö†Ô∏è `rehash` ‚Äî –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (O(n)).

---

### 3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –æ—Ç–∫—Ä—ã—Ç–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (–Ω–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ)**

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `absl::flat_hash_map`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ—Ç–∫—Ä—ã—Ç—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é**:
- –≠–ª–µ–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä—è–º–æ –≤ –º–∞—Å—Å–∏–≤–µ.
- –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏ –∏—â–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å–≤–æ–±–æ–¥–Ω–∞—è —è—á–µ–π–∫–∞.

> ‚úÖ –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è.

---

## üîç –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

```cpp
template <typename Key, typename T, typename Hash = std::hash<Key>>
class unordered_map {
    struct Node {
        Key key;
        T value;
        Node* next;  // –¥–ª—è —Ü–µ–ø–æ—á–∫–∏
    };

    std::vector<Node*> buckets;
    size_t size;
    Hash hasher;

public:
    T& operator[](const Key& key) {
        size_t index = hasher(key) % buckets.size();
        Node* node = buckets[index];
        while (node) {
            if (node->key == key) return node->value;
            node = node->next;
        }
        // —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —É–∑–µ–ª
    }
};
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `std::unordered_map`

| –ü–ª—é—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|---------|
| **–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å O(1)** | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫, –≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ |
| **–ù–µ —Ç—Ä–µ–±—É–µ—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç–∏** | –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º `std::map` |
| **–ì–∏–±–∫–æ—Å—Ç—å –∫–ª—é—á–µ–π** | –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ —Ç–∏–ø—ã —Å `std::hash` |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è** | `reserve()` –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–π |

---

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

| –ú–∏–Ω—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|---------|
| **–•—É–¥—à–∏–π —Å–ª—É—á–∞–π O(n)** | –ü—Ä–∏ –ø–ª–æ—Ö–æ–º —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ |
| **–ù–µ—Ç –ø–æ—Ä—è–¥–∫–∞** | –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –ø–æ –∫–ª—é—á—É |
| **–ü–∞–º—è—Ç—å** | –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –±–∞–∫–µ—Ç—ã |
| **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤** | –ü—Ä–∏ `rehash` ‚Äî –≤—Å–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è |

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´`std::unordered_map` ‚Äî —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ –∏ —Ü–µ–ø–æ—á–∫–∏. –ö–ª—é—á —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞, –∏ —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ —ç—Ç–æ–≥–æ –±–∞–∫–µ—Ç–∞.  
>
> –ö–æ–ª–ª–∏–∑–∏–∏ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç. –û–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–º–µ—Ç–æ–¥ —Ü–µ–ø–æ—á–µ–∫**: –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ö–µ—à–µ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ.  
>
> –í —Å—Ä–µ–¥–Ω–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∑–∞ O(1), –Ω–æ –ø—Ä–∏ –ø–ª–æ—Ö–æ–π —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ –±–∞–∫–µ—Ç–æ–≤ ‚Äî –¥–æ O(n).  
>
> –ß—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–æ—Ä–æ—à—É—é —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—é –∏ `reserve()` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.¬ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è `std::unordered_map`?

- [ ] –ó–Ω–∞—é, —á—Ç–æ —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–ø–æ—á–∫–∞–º–∏
- [ ] –ü–æ–Ω–∏–º–∞—é, —á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–ª–∏–∑–∏—è
- [ ] –ó–Ω–∞—é, –∫–∞–∫ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –±–∞–∫–µ—Ç–∞
- [ ] –ü–æ–Ω–∏–º–∞—é, –ø–æ—á–µ–º—É —Ö—É–¥—à–∏–π —Å–ª—É—á–∞–π ‚Äî O(n)
- [ ] –ó–Ω–∞—é, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `reserve()` –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π `hash`

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–∞—Ç—å **5 –∑–∞–¥–∞—á –Ω–∞ `std::unordered_map`** –∏–ª–∏ **–ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–π —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** üòä

# 
