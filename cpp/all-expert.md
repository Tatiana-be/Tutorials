# –ü—Ä–∏–¥—É–º–∞–π –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–∑—É—á–µ–Ω–∏—è c++ —É—Ä–æ–≤–Ω—è —ç–∫—Å–ø–µ—Ä—Ç

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏–∑—É—á–µ–Ω–∏—è C++ —É—Ä–æ–≤–Ω—è "–≠–∫—Å–ø–µ—Ä—Ç"**, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è –Ω–∞ **6‚Äì9 –º–µ—Å—è—Ü–µ–≤** –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è. –≠—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è **—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É–∂–µ —É–≤–µ—Ä–µ–Ω–Ω–æ –≤–ª–∞–¥–µ—é—â–∏—Ö –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º C++**, –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ –∂–µ–ª–µ–∑–æ –∏ —Ä–∞–±–æ—Ç–µ –≤ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö**.

---

# üöÄ **–ü—Ä–æ–≥—Ä–∞–º–º–∞: –ò–∑—É—á–µ–Ω–∏–µ C++ —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**

**–£—Ä–æ–≤–µ–Ω—å:** –≠–∫—Å–ø–µ—Ä—Ç (Senior/Principal C++ Developer)  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 30 –Ω–µ–¥–µ–ª—å (~7 –º–µ—Å—è—Ü–µ–≤)  
**–¶–µ–ª—å:** –°—Ç–∞—Ç—å **—ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ C++**, —Å–ø–æ—Å–æ–±–Ω—ã–º:
- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã,
- –°–æ–∑–¥–∞–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏,
- –ü–æ–Ω–∏–º–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ CPU,
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ, –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –Ω–∞–¥—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã.

---

## üìÖ **–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã**

| –§–∞–∑–∞ | –ù–µ–¥–µ–ª–∏ | –¢–µ–º—ã |
|------|--------|------|
| **1. –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —è–∑—ã–∫** | 1‚Äì6 | –ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, ABI, SFINAE vs Concepts, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è |
| **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** | 7‚Äì12 | –ê—Å—Å–µ–º–±–ª–µ—Ä, –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, memory layout |
| **3. –°–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** | 13‚Äì18 | –û–°, —Å–æ–∫–µ—Ç—ã, IPC, —Ä–∞–±–æ—Ç–∞ —Å –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏, embedded |
| **4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω** | 19‚Äì24 | –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, DDD, C++ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö, embedded-—Å–∏—Å—Ç–µ–º—ã |
| **5. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –≤–∫–ª–∞–¥ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ** | 25‚Äì30 | –ù–∞–ø–∏—Å–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —É—á–∞—Å—Ç–∏–µ –≤ open-source, –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è, —Å—Ç–∞—Ç—å–∏ |

---

## üìò **–§–∞–∑–∞ 1: –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —è–∑—ã–∫ (–ù–µ–¥–µ–ª–∏ 1‚Äì6)**

### üîπ –¶–µ–ª—å:
–î–æ—Å—Ç–∏—á—å **–ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ä–∞–±–æ—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤, ABI, –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π**.

| –ù–µ–¥–µ–ª—è | –¢–µ–º–∞ |
|-------|------|
| 1 | **–®–∞–±–ª–æ–Ω—ã: SFINAE, Concepts, template constraints, requires-expressions** |
| 2 | **Template metaprogramming: —Ç–∏–ø–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, type traits, conditional_t, void_t** |
| 3 | **Variadic templates, fold expressions, perfect forwarding, universal references** |
| 4 | **CRTP, policy-based design, expression templates (–∫–∞–∫ –≤ Eigen)** |
| 5 | **ABI, name mangling, extern "C", —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º–∏** |
| 6 | **–ò—Å–∫–ª—é—á–µ–Ω–∏—è: zero-cost exceptions, noexcept, stack unwinding, exception safety** |

### ‚úÖ –ü—Ä–æ–µ–∫—Ç:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–±–∏–±–ª–∏–æ—Ç–µ–∫—É `expected<T, E>`** (–∞–Ω–∞–ª–æ–≥ `std::expected` –∏–∑ C++23) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–æ–Ω–∞–¥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## üìò **–§–∞–∑–∞ 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ù–µ–¥–µ–ª–∏ 7‚Äì12)**

### üîπ –¶–µ–ª—å:
–ù–∞—É—á–∏—Ç—å—Å—è **–ø–∏—Å–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π C++**, –ø–æ–Ω–∏–º–∞—Ç—å, **—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ CPU –∏ –ø–∞–º—è—Ç–∏**.

| –ù–µ–¥–µ–ª—è | –¢–µ–º–∞ |
|-------|------|
| 7 | **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: perf, VTune, Callgrind, FlameGraphs** |
| 8 | **–ê—Å—Å–µ–º–±–ª–µ—Ä –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä: —á–∏—Ç–∞–µ–º –≤—ã–≤–æ–¥ Godbolt, –∏–Ω–ª–∞–π–Ω–∏–Ω–≥, –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** |
| 9 | **Memory layout: cache lines, false sharing, data-oriented design (DOD)** |
| 10 | **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–ª–æ–∫–∞—Ü–∏–π: memory pools, arena allocator, custom allocators** |
| 11 | **SIMD –∏ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: intrinsics, auto-vectorization, std::simd (C++23)** |
| 12 | **–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: branch prediction, prefetch, loop unrolling** |

### ‚úÖ –ü—Ä–æ–µ–∫—Ç:
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å **–º–æ–¥–µ–ª—å —Ñ–∏–∑–∏–∫–∏ —á–∞—Å—Ç–∏—Ü** (100k –æ–±—ä–µ–∫—Ç–æ–≤) –¥–æ 60 FPS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SIMD –∏ –∫—ç—à-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.

---

## üìò **–§–∞–∑–∞ 3: –°–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ù–µ–¥–µ–ª–∏ 13‚Äì18)**

### üîπ –¶–µ–ª—å:
–†–∞–±–æ—Ç–∞—Ç—å —Å **–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π, —Å–µ—Ç—å—é, –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –ø–∞–º—è—Ç—å—é** –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ.

| –ù–µ–¥–µ–ª—è | –¢–µ–º–∞ |
|-------|------|
| 13 | **–°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã (Linux): mmap, epoll, futex, clone** |
| 14 | **–°–µ—Ç–µ–≤–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: TCP/UDP, async I/O, io_uring, boost.asio** |
| 15 | **IPC: shared memory, message queues, pipes, sockets** |
| 16 | **–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π: AIO, sendfile, splice** |
| 17 | **Embedded C++: freestanding, no-exceptions, no-RTTI, constexpr everything** |
| 18 | **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: ASLR, DEP, sanitizers, secure coding** |

### ‚úÖ –ü—Ä–æ–µ–∫—Ç:
–°–æ–∑–¥–∞—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ `io_uring`** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 10k+ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

---

## üìò **–§–∞–∑–∞ 4: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω (–ù–µ–¥–µ–ª–∏ 19‚Äì24)**

### üîπ –¶–µ–ª—å:
–ù–∞—É—á–∏—Ç—å—Å—è **–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã**, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏.

| –ù–µ–¥–µ–ª—è | –¢–µ–º–∞ |
|-------|------|
| 19 | **–®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —Ñ–∞–±—Ä–∏–∫–∞, visitor, observer, pimpl** |
| 20 | **SOLID, DRY, KISS, YAGNI, C++-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (RAII, CRTP)** |
| 21 | **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫: ABI stability, versioning, header-only vs compiled** |
| 22 | **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞ C++: REST, gRPC, serialization (protobuf, msgpack)** |
| 23 | **C++ –≤ –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ, embedded, game engines** |
| 24 | **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: Doxygen, Sphinx, API-first design** |

### ‚úÖ –ü—Ä–æ–µ–∫—Ç:
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —Å gRPC –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## üìò **–§–∞–∑–∞ 5: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –≤–∫–ª–∞–¥ (–ù–µ–¥–µ–ª–∏ 25‚Äì30)**

### üîπ –¶–µ–ª—å:
–°—Ç–∞—Ç—å **—ç–∫—Å–ø–µ—Ä—Ç–æ–º, –≤–Ω–æ—Å—è—â–∏–º –≤–∫–ª–∞–¥ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–ª—è—é—â–∏–º –∑–Ω–∞–Ω–∏—è.

| –ù–µ–¥–µ–ª—è | –¢–µ–º–∞ |
|-------|------|
| 25 | **–ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞: libc++, libstdc++, LLVM, Boost** |
| 26 | **–í–∫–ª–∞–¥ –≤ open-source: –ø–æ–∏—Å–∫ –±–∞–≥–æ–≤, –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç—ã, —É—á–∞—Å—Ç–∏–µ –≤ —Ä–µ–≤—å—é** |
| 27 | **–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞: —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, CI, —Ç–µ—Å—Ç—ã** |
| 28 | **–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π: –±–ª–æ–≥, Habr, Medium, Reddit (r/cpp)** |
| 29 | **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫–ª–∞–¥–∞: CppCon-style talk, –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ meetup** |
| 30 | **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é –≤ —Ç–æ–ø-–∫–æ–º–ø–∞–Ω–∏—é (Google, Meta, Jane Street, Bloomberg)** |

### ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:
–í—ã–ø—É—Å—Ç–∏—Ç—å **open-source –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω–∞ GitHub** —Å:
- –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π CMake,
- –¢–µ—Å—Ç–∞–º–∏ (Google Test),
- CI (GitHub Actions),
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Doxygen + Markdown),
- –ü—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üìö **–†–µ—Å—É—Ä—Å—ã –¥–ª—è —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**

### üîπ –ö–Ω–∏–≥–∏:
- *‚ÄúEffective Modern C++‚Äù* ‚Äî Scott Meyers
- *‚ÄúC++ Concurrency in Action‚Äù* ‚Äî Anthony Williams
- *‚ÄúDesign Patterns‚Äù* ‚Äî GoF
- *‚ÄúSystems Programming in Unix/Linux‚Äù* ‚Äî K.C. Wang
- *‚ÄúOptimized C++‚Äù* ‚Äî Kurt Guntheroth

### üîπ –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏:
- **CppCon**, **C++Now**, **Meeting C++**
- –°–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫–ª–∞–¥—ã –Ω–∞ YouTube: *‚ÄúWhat Has My Compiler Done for Me Lately?‚Äù*, *‚ÄúEfficiency with Algorithms, Pure Functions, and SIMD‚Äù*

### üîπ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **Compiler Explorer (godbolt.org)**
- **perf, VTune, Valgrind**
- **Clang Static Analyzer, PVS-Studio**

---

## üíº **–ö–∞—Ä—å–µ—Ä–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã**

–í—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–µ—Ç–µ–Ω–¥–æ–≤–∞—Ç—å –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏:
- **Senior C++ Developer**
- **Principal Engineer**
- **C++ Library Developer**
- **Systems Programmer**
- **High-Frequency Trading Engineer**
- **Game Engine Developer**

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ C++**

–í—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç, –µ—Å–ª–∏ –º–æ–∂–µ—Ç–µ:
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É SFINAE –∏ Concepts –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω–æ–º —É—Ä–æ–≤–Ω–µ
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å lock-free –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏ –ø–æ–Ω—è—Ç—å –≤—ã–≤–æ–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –≤ Godbolt
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª –ø–æ–¥ L1-–∫—ç—à
- [ ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ABI-stable –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –ø–æ–¥ real-time —Å–∏—Å—Ç–µ–º—É
- [ ] –í–Ω–µ—Å—Ç–∏ –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç –≤ libc++

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π**,
- –î–∞—Ç—å **–ø–æ–¥–±–æ—Ä–∫—É –∑–∞–¥–∞—á –ø–æ –∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–µ**,
- –ü–æ–º–æ—á—å —Å –≤—ã–±–æ—Ä–æ–º **–∏—Ç–æ–≥–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–î–∞–π –∑–∞–¥–∞—á–∏"** üòä


# –æ–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 1 —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –ù–µ–¥–µ–ª—è 1** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã **C++ —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–∞—è **—à–∞–±–ª–æ–Ω–∞–º, SFINAE –∏ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º**.  
–≠—Ç–∞ –Ω–µ–¥–µ–ª—è ‚Äî **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –≤—Å–µ–≥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è** –≤ C++. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã**, –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∏–ø–æ–≤**, –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å **SFINAE vs Concepts**.

---

# üìò **–ù–µ–¥–µ–ª—è 1: –®–∞–±–ª–æ–Ω—ã, SFINAE, Concepts ‚Äî –æ—Å–Ω–æ–≤–∞ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**

**–£—Ä–æ–≤–µ–Ω—å:** –≠–∫—Å–ø–µ—Ä—Ç  
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 7 –¥–Ω–µ–π  
**–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:** –î–æ—Å—Ç–∏—á—å **–≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ —à–∞–±–ª–æ–Ω–æ–≤**, –Ω–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **SFINAE –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞–º–∏**, –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º ‚Äî **–∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏ (C++20)**.

---

## üóìÔ∏è **–î–µ–Ω—å 1: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, alias templates**

### üîπ –¢–µ–æ—Ä–∏—è: –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å —à–∞–±–ª–æ–Ω–∞–º–∏?

–ü–æ–º–∏–º–æ –±–∞–∑–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤, –≤ C++ –µ—Å—Ç—å –º–æ—â–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

#### 1. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
```cpp
template <typename T, typename Alloc = std::allocator<T>>
class vector { /* ... */ };
```

> –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å `Alloc` —è–≤–Ω–æ: `std::vector<int>`.

#### 2. **Alias templates (using-—à–∞–±–ª–æ–Ω—ã)**
```cpp
template <typename T>
using Vec = std::vector<T, MyAllocator<T>>;

Vec<int> v;  // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ std::vector<int, MyAllocator<int>>
```

> –£–ø—Ä–æ—â–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏.

#### 3. **–®–∞–±–ª–æ–Ω—ã —à–∞–±–ª–æ–Ω–æ–≤**
```cpp
template <template <typename> class Container, typename T>
class Processor {
    Container<T> data;
};
```

> –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —à–∞–±–ª–æ–Ω –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: `using` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è
```cpp
template <typename Key, typename Value>
using MapStr = std::unordered_map<std::string, std::pair<Key, Value>>;

MapStr<int, double> config;
// config["volume"] = {50, 0.8};
```

---

## üóìÔ∏è **–î–µ–Ω—å 2: SFINAE ‚Äî Substitution Failure Is Not An Error**

### üîπ –¢–µ–æ—Ä–∏—è: –ö–∞–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã?

**SFINAE** ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø:  
> –ï—Å–ª–∏ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–∏–ø–æ–≤ –≤ —à–∞–±–ª–æ–Ω –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º ‚Äî —ç—Ç–æ **–Ω–µ –æ—à–∏–±–∫–∞**, –∞ **–∏—Å–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏** –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è.

### üîß –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π,
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤,
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–µ—Ç–æ–¥–æ–≤/–æ–ø–µ—Ä–∞—Ü–∏–π.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `.size()`
```cpp
#include <type_traits>

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –≤—ã–∑–≤–∞—Ç—å .size()
template <typename T>
auto has_size_impl(T* t) -> decltype(t->size(), std::true_type{});
std::false_type has_size_impl(...);

template <typename T>
struct has_size : decltype(has_size_impl(std::declval<T*>())) {};

static_assert(has_size<std::vector<int>>::value);
static_assert(!has_size<int>::value);
```

> üîç –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É: –µ—Å–ª–∏ `t->size()` –≤–∞–ª–∏–¥–Ω–æ ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è.

---

## üóìÔ∏è **–î–µ–Ω—å 3: `std::enable_if` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é —à–∞–±–ª–æ–Ω–æ–≤**

### üîπ –¢–µ–æ—Ä–∏—è: `std::enable_if` –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç SFINAE

`std::enable_if<Condition, T>`:
- –ï—Å–ª–∏ `Condition == true` ‚Üí –∏–º–µ–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–∏–ø `::type = T`
- –ï—Å–ª–∏ `false` ‚Üí –Ω–µ—Ç `::type` ‚Üí **SFINAE –∏—Å–∫–ª—é—á–∞–µ—Ç —à–∞–±–ª–æ–Ω**

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
```cpp
template <typename T>
typename std::enable_if<std::is_integral_v<T>, T>::type
abs(T x) {
    return x < 0 ? -x : x;
}

// C++14: –∫–æ—Ä–æ—á–µ
template <typename T>
std::enable_if_t<std::is_floating_point_v<T>, T>
abs(T x) {
    return x < 0 ? -x : x;
}
```

> ‚úÖ –î–≤–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏: –æ–¥–Ω–∞ –¥–ª—è `int`, –¥—Ä—É–≥–∞—è –¥–ª—è `double`.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: `enable_if` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
```cpp
template <typename T>
void push_back(T&& value, 
               typename std::enable_if<!std::is_same_v<T, std::string>>::type* = nullptr) {
    // —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤, –∫—Ä–æ–º–µ std::string
}
```

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `enable_if` –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ç–∏–ø–µ.

---

## üóìÔ∏è **–î–µ–Ω—å 4: `std::void_t` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π**

### üîπ –¢–µ–æ—Ä–∏—è: `std::void_t<...>` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π SFINAE-–¥–µ—Ç–µ–∫—Ç–æ—Ä

`std::void_t` ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –≤ `void`**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω—ã–º.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ `value_type`
```cpp
template <typename T, typename = void>
struct has_value_type : std::false_type {};

template <typename T>
struct has_value_type<T, std::void_t<typename T::value_type>> : std::true_type {};

static_assert(has_value_type<std::vector<int>>::value);
static_assert(!has_value_type<int>::value);
```

> ‚úÖ –ï—Å–ª–∏ `T::value_type` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî `void_t` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `void` ‚Üí —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `+`
```cpp
template <typename T>
struct is_addable {
    template <typename U>
    static auto test(U* u) -> decltype(*u + *u, std::true_type{});
    static std::false_type test(...);
    static constexpr bool value = std::is_same_v<decltype(test(std::declval<T*>())), std::true_type>;
};
```

---

## üóìÔ∏è **–î–µ–Ω—å 5: `std::declval` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**

### üîπ –¢–µ–æ—Ä–∏—è: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `std::declval`?

`std::declval<T>()` ‚Äî —ç—Ç–æ **"–ø—Å–µ–≤–¥–æ-–æ–±—ä–µ–∫—Ç" —Ç–∏–ø–∞ `T`**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `decltype`, **–Ω–µ –≤—ã–∑—ã–≤–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `decltype`
```cpp
template <typename T>
auto get_data(T& obj) -> decltype(obj.getData()) {
    return obj.getData();
}
```

> –ù–æ –µ—Å–ª–∏ `T` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å, `T obj;` –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å.  
> –†–µ—à–µ–Ω–∏–µ:

```cpp
template <typename T>
auto get_data(T& obj) -> decltype(std::declval<T>().getData()) {
    return obj.getData();
}
```

> `std::declval<T>()` "—Å–æ–∑–¥–∞—ë—Ç" –æ–±—ä–µ–∫—Ç –¥–ª—è –Ω—É–∂–¥ `decltype`.

---

## üóìÔ∏è **–î–µ–Ω—å 6: –ö–æ–Ω—Ü–µ–ø—Ç—ã (C++20) ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SFINAE**

### üîπ –¢–µ–æ—Ä–∏—è: –ü–æ—á–µ–º—É –∫–æ–Ω—Ü–µ–ø—Ç—ã –ª—É—á—à–µ SFINAE?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | SFINAE | –ö–æ–Ω—Ü–µ–ø—Ç—ã |
|--------|--------|---------|
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ | –î–ª–∏–Ω–Ω—ã–µ, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ | –ö–æ—Ä–æ—Ç–∫–∏–µ, —è—Å–Ω—ã–µ |
| –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE | –ü–ª–æ—Ö–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –∑–∞–º–µ–Ω–∞ `enable_if` –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç
```cpp
// –ë—ã–ª–æ
template <typename T>
std::enable_if_t<std::is_integral_v<T>, T> abs(T x);

// –°—Ç–∞–ª–æ
template <std::integral T>
T abs(T x);
```

> ‚úÖ –Ø—Å–Ω–æ, –∫—Ä–∞—Ç–∫–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ü–µ–ø—Ç
```cpp
template <typename T>
concept Printable = requires(T t) {
    std::cout << t;
};

template <Printable T>
void log(const T& value) {
    std::cout << "[LOG] " << value << "\n";
}
```

> ‚úÖ –û—à–∏–±–∫–∞: `log(42);` ‚Äî OK, `log([]{});` ‚Äî –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞.

---

## üóìÔ∏è **–î–µ–Ω—å 7: –ü—Ä–æ–µ–∫—Ç ‚Äî `is_callable<T, Signature>`**

### üîπ –ó–∞–¥–∞—á–∞ –Ω–µ–¥–µ–ª–∏: **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑—ã–≤–∞–µ–º–æ—Å—Ç–∏**

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `is_callable_v<Callable, void(int, double)>`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –≤—ã–∑–≤–∞—Ç—å `callable(42, 3.14)`.

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞ SFINAE:
```cpp
#include <type_traits>

template <typename F, typename... Args>
struct is_callable {
    template <typename U>
    static auto test(U* u) -> decltype((*u)(std::declval<Args>()...), std::true_type{});
    static std::false_type test(...);
    static constexpr bool value = std::is_same_v<decltype(test(std::declval<F*>())), std::true_type>;
};

template <typename F, typename... Args>
inline constexpr bool is_callable_v = is_callable<F, Args...>::value;

// –ü—Ä–æ–≤–µ—Ä–∫–∞
static_assert(is_callable_v<decltype([](int, double){}), void(int, double)>);
static_assert(!is_callable_v<decltype([](int){}), void(int, double)>);
```

> ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SFINAE, `decltype`, `std::declval`.

---

## üß† **–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –Ω–µ–¥–µ–ª–∏**

| –¢–µ–º–∞ | –ì–ª–∞–≤–Ω–æ–µ |
|------|--------|
| SFINAE | –û—à–∏–±–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –Ω–µ –æ—à–∏–±–∫–∞, –∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |
| `std::enable_if` | –í–∫–ª—é—á–∞–µ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ |
| `std::void_t` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π |
| `std::declval` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `decltype` –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ |
| –ö–æ–Ω—Ü–µ–ø—Ç—ã | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è, —á–∏—Ç–∞–µ–º–∞—è –∑–∞–º–µ–Ω–∞ SFINAE |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏**

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ SFINAE
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::enable_if` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å `std::void_t` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `std::declval`
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å SFINAE –∏ –∫–æ–Ω—Ü–µ–ø—Ç—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `is_callable` –∏–ª–∏ `has_member`

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–ù–µ–¥–µ–ª—è 2: Template Metaprogramming ‚Äî —Ç–∏–ø–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, type traits, conditional_t**

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ–π**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ SFINAE –∏ –∫–æ–Ω—Ü–µ–ø—Ç–∞–º**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–ù–µ–¥–µ–ª–µ 2: Template Metaprogramming**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ù–µ–¥–µ–ª–µ 2"**.


# –æ–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 1 –¥–µ–Ω—å 1 —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –î–Ω—è 1 –ù–µ–¥–µ–ª–∏ 1** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã **C++ —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–≥–æ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —à–∞–±–ª–æ–Ω–æ–≤**:  
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**,  
- **Alias templates (`using`)**,  
- **–®–∞–±–ª–æ–Ω—ã —à–∞–±–ª–æ–Ω–æ–≤ (template templates)**.

–≠—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫**, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–±–µ—Ä—ë–º –≤—Å—ë **–ø–æ—à–∞–≥–æ–≤–æ, —Å —Ç–µ–æ—Ä–∏–µ–π, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏**.

---

# üìò **–î–µ–Ω—å 1: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, alias templates, template templates**

**–¶–µ–ª—å –¥–Ω—è:** –ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤**, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, —É–¥–æ–±–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**, –∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.

---

## üìå –¢–µ–º–∞ 1: **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

### üîπ –¢–µ–æ—Ä–∏—è

–ö–∞–∫ –∏ —É —Ñ—É–Ω–∫—Ü–∏–π, —É —à–∞–±–ª–æ–Ω–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å **–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ,
- –°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏,
- –°–¥–µ–ª–∞—Ç—å API –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º.

> ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –¥–ª—è **—Ç–∏–ø–æ–≤**, —Ç–∞–∫ –∏ –¥–ª—è **–∑–Ω–∞—á–µ–Ω–∏–π**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: `std::vector` —Å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```cpp
template <typename T, typename Allocator = std::allocator<T>>
class vector {
    Allocator alloc;
    T* data;
    size_t size_, capacity_;

public:
    explicit vector(size_t n = 0, const T& value = T{}, const Allocator& a = Allocator{})
        : alloc(a), size_(n), capacity_(n) {
        data = alloc.allocate(n);
        for (size_t i = 0; i < n; ++i) {
            alloc.construct(&data[i], value);
        }
    }

    ~vector() {
        for (size_t i = 0; i < size_; ++i) {
            alloc.destroy(&data[i]);
        }
        if (data) alloc.deallocate(data, capacity_);
    }
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
vector<int> v1(10);                    // Allocator = std::allocator<int> (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
vector<double, MyAllocator<double>> v2; // —Å–≤–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä
```

> ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –æ–±—è–∑–∞–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä**, –µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —à–∞–±–ª–æ–Ω —Å **–∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

```cpp
template <int N = 10>
class FixedBuffer {
    char data[N];
public:
    constexpr size_t size() const { return N; }
};

FixedBuffer<> buf1;     // N = 10
FixedBuffer<100> buf2;  // N = 100
```

> ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –±—É—Ñ–µ—Ä–æ–≤, –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Ç.–¥.

---

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

1. **–ü–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:  
   –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ **–ø–æ—Å–ª–µ** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö:
   ```cpp
   template <typename T = int, typename U> // ‚ùå –û—à–∏–±–∫–∞!
   template <typename U, typename T = int> // ‚úÖ OK
   ```

2. **–®–∞–±–ª–æ–Ω—ã –∫–ª–∞—Å—Å–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π**:  
   - –£ **—Ñ—É–Ω–∫—Ü–∏–π** ‚Äî –º–æ–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–∏–ø—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–æ–ª—á–∞–Ω–∏—è.
   - –£ **–∫–ª–∞—Å—Å–æ–≤** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º).

3. **–í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤**:  
   ```cpp
   template <typename T, typename U = double>
   void func(T t);  // OK, U = double –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   ```

---

## üìå –¢–µ–º–∞ 2: **Alias templates (using-—à–∞–±–ª–æ–Ω—ã)**

### üîπ –¢–µ–æ—Ä–∏—è

**Alias template** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å **–ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞** —Å –ø–æ–º–æ—â—å—é `using`.  
–ê–Ω–∞–ª–æ–≥ `typedef`, –Ω–æ **—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —à–∞–±–ª–æ–Ω–∞–º–∏**.

> ‚ùå `typedef` **–Ω–µ –º–æ–∂–µ—Ç** –±—ã—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–º.  
> ‚úÖ `using` ‚Äî –º–æ–∂–µ—Ç.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –ø—Ä–æ—Å—Ç–æ–π alias template

```cpp
template <typename T>
using Vec = std::vector<T, MyAllocator<T>>;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
Vec<int> v1;           // std::vector<int, MyAllocator<int>>
Vec<std::string> v2;   // std::vector<std::string, MyAllocator<std::string>>
```

> ‚úÖ –ì–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ, —á–µ–º –ø–∏—Å–∞—Ç—å `std::vector<T, MyAllocator<T>>` –∫–∞–∂–¥—ã–π —Ä–∞–∑.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏

```cpp
template <typename Key, typename Value>
using MapStr = std::unordered_map<std::string, std::pair<Key, Value>>;

MapStr<int, double> config;
// config["volume"] = {50, 0.8};
```

> ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ç–∏–ø–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 3: alias –¥–ª—è `std::function`

```cpp
template <typename Result, typename... Args>
using Function = std::function<Result(Args...)>;

Function<int(int, int)> add = [](int a, int b) { return a + b; };
Function<void()> logger = []{ std::cout << "Log\n"; };
```

---

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

1. **–ù–µ–ª—å–∑—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `using`**
   ```cpp
   template <typename T>
   using Vec = std::vector<T>;
   // template <> using Vec<int> = std::list<int>; // ‚ùå –ù–µ–ª—å–∑—è!
   ```

2. **–ù–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞** ‚Äî —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º:
   ```cpp
   using MyInt = int;
   MyInt x = 5;
   static_assert(std::is_same_v<MyInt, int>); // true
   ```

3. **–ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö**:
   ```cpp
   template <typename T>
   void process(const Vec<T>& container); // Vec<T> ‚Äî —ç—Ç–æ alias
   ```

---

## üìå –¢–µ–º–∞ 3: **–®–∞–±–ª–æ–Ω—ã —à–∞–±–ª–æ–Ω–æ–≤ (template template parameters)**

### üîπ –¢–µ–æ—Ä–∏—è

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —à–∞–±–ª–æ–Ω–∞ –±—ã–ª **–Ω–µ —Ç–∏–ø, –∞ —à–∞–±–ª–æ–Ω**.  
–ù–∞–ø—Ä–∏–º–µ—Ä: `std::stack`, `std::priority_queue` –ø—Ä–∏–Ω–∏–º–∞—é—Ç **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä-–∞–¥–∞–ø—Ç–µ—Ä**.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <template <typename> class Container, typename T>
class MyWrapper {
    Container<T> data;
};
```

> ‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: `template <typename> class` ‚Äî —ç—Ç–æ **—à–∞–±–ª–æ–Ω, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –æ–¥–∏–Ω —Ç–∏–ø–æ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä

```cpp
template <template <typename> class Container, typename T>
class Stack {
    Container<T> data;
public:
    void push(const T& value) { data.push_back(value); }
    void pop() { data.pop_back(); }
    T& top() { return data.back(); }
    bool empty() const { return data.empty(); }
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
Stack<std::vector, int> stack1;  // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç vector
Stack<std::deque, double> stack2; // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç deque
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å underlying-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —à–∞–±–ª–æ–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```cpp
template <template <typename, typename> class Container, typename T>
class Adapter {
    Container<T, std::allocator<T>> data;
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
Adapter<std::vector, int> a1;     // vector<int, allocator<int>>
Adapter<std::map, std::string> a2; // map<string, allocator<string>>
```

> ‚ö†Ô∏è –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞—Ç—å `std::unordered_map` ‚Äî —É –Ω–µ–≥–æ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

---

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ñ—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã**:
   ```cpp
   template <template <typename> class C> class X;
   X<std::vector> x; // ‚ùå vector –∏–º–µ–µ—Ç 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: T, Alloc
   ```

2. **–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `typename` –≤–º–µ—Å—Ç–æ `class`**:
   ```cpp
   template <template <typename> typename C> // ‚ùå –û—à–∏–±–∫–∞
   template <template <typename> class C>    // ‚úÖ –¢–æ–ª—å–∫–æ `class`
   ```

3. **C++17+**: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `auto` –≤ —à–∞–±–ª–æ–Ω–∞—Ö, –Ω–æ –Ω–µ –¥–ª—è template template.

---

## üß† **–ò—Ç–æ–≥ –¥–Ω—è: —á—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏**

| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----------|-------------------|
| `template <typename T, typename Alloc = std::allocator<T>>` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∞–ª–ª–æ–∫–∞—Ç–æ—Ä, –ø–æ–ª–∏—Ç–∏–∫–∞) |
| `template <typename T> using Vec = std::vector<T, MyAlloc<T>>` | –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã |
| `template <template <typename> class Container>` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —à–∞–±–ª–æ–Ω –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä (–∞–¥–∞–ø—Ç–µ—Ä—ã, —Ñ–∞–±—Ä–∏–∫–∏) |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è?**

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] –ó–Ω–∞—é —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `typedef` –∏ `using` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —à–∞–±–ª–æ–Ω–æ–≤
- [ ] –ú–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å `using Vec = std::vector<T, MyAlloc<T>>`
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —à–∞–±–ª–æ–Ω —à–∞–±–ª–æ–Ω–∞
- [ ] –ú–æ–≥—É —Å–æ–∑–¥–∞—Ç—å `Stack<Container, T>` —Å `std::vector` –∏–ª–∏ `std::deque`

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ —à–∞–±–ª–æ–Ω—ã –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é:
>
> - **–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –≤ `std::vector`).
> - **Alias templates** ‚Äî —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤.
> - **Template template parameters** ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–∞–º —à–∞–±–ª–æ–Ω –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
>
> –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –≥–∏–±–∫–∏–π, —á–∏—Å—Ç—ã–π –∏ —É–¥–æ–±–Ω—ã–π API, –∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ alias templates –∏ template templates**,
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å **–î–Ω—è 2: SFINAE –∏ `std::enable_if`**,
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–∏–º –¥–Ω—ë–º**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"**, **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –î–Ω—é 2"** –∏–ª–∏ **"–•–æ—á—É PDF"** üòä


# –æ–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 1 –¥–µ–Ω—å 1 —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –î–Ω—è 1 –ù–µ–¥–µ–ª–∏ 1** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã **C++ —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–≥–æ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —à–∞–±–ª–æ–Ω–æ–≤**:  
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**,  
- **Alias templates (`using`)**,  
- **–®–∞–±–ª–æ–Ω—ã —à–∞–±–ª–æ–Ω–æ–≤ (template templates)**.

–≠—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫**, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–±–µ—Ä—ë–º –≤—Å—ë **–ø–æ—à–∞–≥–æ–≤–æ, —Å —Ç–µ–æ—Ä–∏–µ–π, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏**.

---

# üìò **–î–µ–Ω—å 1: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, alias templates, template templates**

**–¶–µ–ª—å –¥–Ω—è:** –ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤**, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å **–≥–∏–±–∫–∏–µ, —É–¥–æ–±–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**, –∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.

---

## üìå –¢–µ–º–∞ 1: **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

### üîπ –¢–µ–æ—Ä–∏—è

–ö–∞–∫ –∏ —É —Ñ—É–Ω–∫—Ü–∏–π, —É —à–∞–±–ª–æ–Ω–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å **–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ,
- –°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏,
- –°–¥–µ–ª–∞—Ç—å API –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º.

> ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –¥–ª—è **—Ç–∏–ø–æ–≤**, —Ç–∞–∫ –∏ –¥–ª—è **–∑–Ω–∞—á–µ–Ω–∏–π**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: `std::vector` —Å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```cpp
template <typename T, typename Allocator = std::allocator<T>>
class vector {
    Allocator alloc;
    T* data;
    size_t size_, capacity_;

public:
    explicit vector(size_t n = 0, const T& value = T{}, const Allocator& a = Allocator{})
        : alloc(a), size_(n), capacity_(n) {
        data = alloc.allocate(n);
        for (size_t i = 0; i < n; ++i) {
            alloc.construct(&data[i], value);
        }
    }

    ~vector() {
        for (size_t i = 0; i < size_; ++i) {
            alloc.destroy(&data[i]);
        }
        if (data) alloc.deallocate(data, capacity_);
    }
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
vector<int> v1(10);                    // Allocator = std::allocator<int> (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
vector<double, MyAllocator<double>> v2; // —Å–≤–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä
```

> ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –æ–±—è–∑–∞–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä**, –µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —à–∞–±–ª–æ–Ω —Å **–∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

```cpp
template <int N = 10>
class FixedBuffer {
    char data[N];
public:
    constexpr size_t size() const { return N; }
};

FixedBuffer<> buf1;     // N = 10
FixedBuffer<100> buf2;  // N = 100
```

> ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –±—É—Ñ–µ—Ä–æ–≤, –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Ç.–¥.

---

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

1. **–ü–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:  
   –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ **–ø–æ—Å–ª–µ** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö:
   ```cpp
   template <typename T = int, typename U> // ‚ùå –û—à–∏–±–∫–∞!
   template <typename U, typename T = int> // ‚úÖ OK
   ```

2. **–®–∞–±–ª–æ–Ω—ã –∫–ª–∞—Å—Å–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π**:  
   - –£ **—Ñ—É–Ω–∫—Ü–∏–π** ‚Äî –º–æ–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–∏–ø—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–æ–ª—á–∞–Ω–∏—è.
   - –£ **–∫–ª–∞—Å—Å–æ–≤** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º).

3. **–í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤**:  
   ```cpp
   template <typename T, typename U = double>
   void func(T t);  // OK, U = double –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   ```

---

## üìå –¢–µ–º–∞ 2: **Alias templates (using-—à–∞–±–ª–æ–Ω—ã)**

### üîπ –¢–µ–æ—Ä–∏—è

**Alias template** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å **–ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞** —Å –ø–æ–º–æ—â—å—é `using`.  
–ê–Ω–∞–ª–æ–≥ `typedef`, –Ω–æ **—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —à–∞–±–ª–æ–Ω–∞–º–∏**.

> ‚ùå `typedef` **–Ω–µ –º–æ–∂–µ—Ç** –±—ã—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–º.  
> ‚úÖ `using` ‚Äî –º–æ–∂–µ—Ç.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –ø—Ä–æ—Å—Ç–æ–π alias template

```cpp
template <typename T>
using Vec = std::vector<T, MyAllocator<T>>;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
Vec<int> v1;           // std::vector<int, MyAllocator<int>>
Vec<std::string> v2;   // std::vector<std::string, MyAllocator<std::string>>
```

> ‚úÖ –ì–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ, —á–µ–º –ø–∏—Å–∞—Ç—å `std::vector<T, MyAllocator<T>>` –∫–∞–∂–¥—ã–π —Ä–∞–∑.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏

```cpp
template <typename Key, typename Value>
using MapStr = std::unordered_map<std::string, std::pair<Key, Value>>;

MapStr<int, double> config;
// config["volume"] = {50, 0.8};
```

> ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ç–∏–ø–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 3: alias –¥–ª—è `std::function`

```cpp
template <typename Result, typename... Args>
using Function = std::function<Result(Args...)>;

Function<int(int, int)> add = [](int a, int b) { return a + b; };
Function<void()> logger = []{ std::cout << "Log\n"; };
```

---

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

1. **–ù–µ–ª—å–∑—è —á–∞—Å—Ç–∏—á–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `using`**
   ```cpp
   template <typename T>
   using Vec = std::vector<T>;
   // template <> using Vec<int> = std::list<int>; // ‚ùå –ù–µ–ª—å–∑—è!
   ```

2. **–ù–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞** ‚Äî —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º:
   ```cpp
   using MyInt = int;
   MyInt x = 5;
   static_assert(std::is_same_v<MyInt, int>); // true
   ```

3. **–ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö**:
   ```cpp
   template <typename T>
   void process(const Vec<T>& container); // Vec<T> ‚Äî —ç—Ç–æ alias
   ```

---

## üìå –¢–µ–º–∞ 3: **–®–∞–±–ª–æ–Ω—ã —à–∞–±–ª–æ–Ω–æ–≤ (template template parameters)**

### üîπ –¢–µ–æ—Ä–∏—è

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —à–∞–±–ª–æ–Ω–∞ –±—ã–ª **–Ω–µ —Ç–∏–ø, –∞ —à–∞–±–ª–æ–Ω**.  
–ù–∞–ø—Ä–∏–º–µ—Ä: `std::stack`, `std::priority_queue` –ø—Ä–∏–Ω–∏–º–∞—é—Ç **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä-–∞–¥–∞–ø—Ç–µ—Ä**.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <template <typename> class Container, typename T>
class MyWrapper {
    Container<T> data;
};
```

> ‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: `template <typename> class` ‚Äî —ç—Ç–æ **—à–∞–±–ª–æ–Ω, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –æ–¥–∏–Ω —Ç–∏–ø–æ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä**.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä

```cpp
template <template <typename> class Container, typename T>
class Stack {
    Container<T> data;
public:
    void push(const T& value) { data.push_back(value); }
    void pop() { data.pop_back(); }
    T& top() { return data.back(); }
    bool empty() const { return data.empty(); }
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
Stack<std::vector, int> stack1;  // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç vector
Stack<std::deque, double> stack2; // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç deque
```

> ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å underlying-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —à–∞–±–ª–æ–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```cpp
template <template <typename, typename> class Container, typename T>
class Adapter {
    Container<T, std::allocator<T>> data;
};
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```cpp
Adapter<std::vector, int> a1;     // vector<int, allocator<int>>
Adapter<std::map, std::string> a2; // map<string, allocator<string>>
```

> ‚ö†Ô∏è –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞—Ç—å `std::unordered_map` ‚Äî —É –Ω–µ–≥–æ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

---

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ñ—ë—Å—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã**:
   ```cpp
   template <template <typename> class C> class X;
   X<std::vector> x; // ‚ùå vector –∏–º–µ–µ—Ç 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: T, Alloc
   ```

2. **–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `typename` –≤–º–µ—Å—Ç–æ `class`**:
   ```cpp
   template <template <typename> typename C> // ‚ùå –û—à–∏–±–∫–∞
   template <template <typename> class C>    // ‚úÖ –¢–æ–ª—å–∫–æ `class`
   ```

3. **C++17+**: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `auto` –≤ —à–∞–±–ª–æ–Ω–∞—Ö, –Ω–æ –Ω–µ –¥–ª—è template template.

---

## üß† **–ò—Ç–æ–≥ –¥–Ω—è: —á—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏**

| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----------|-------------------|
| `template <typename T, typename Alloc = std::allocator<T>>` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∞–ª–ª–æ–∫–∞—Ç–æ—Ä, –ø–æ–ª–∏—Ç–∏–∫–∞) |
| `template <typename T> using Vec = std::vector<T, MyAlloc<T>>` | –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã |
| `template <template <typename> class Container>` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —à–∞–±–ª–æ–Ω –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä (–∞–¥–∞–ø—Ç–µ—Ä—ã, —Ñ–∞–±—Ä–∏–∫–∏) |

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: –ø–æ–Ω–∏–º–∞—é –ª–∏ —è?**

- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] –ó–Ω–∞—é —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `typedef` –∏ `using` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —à–∞–±–ª–æ–Ω–æ–≤
- [ ] –ú–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å `using Vec = std::vector<T, MyAlloc<T>>`
- [ ] –ü–æ–Ω–∏–º–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —à–∞–±–ª–æ–Ω —à–∞–±–ª–æ–Ω–∞
- [ ] –ú–æ–≥—É —Å–æ–∑–¥–∞—Ç—å `Stack<Container, T>` —Å `std::vector` –∏–ª–∏ `std::deque`

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´–í C++ —à–∞–±–ª–æ–Ω—ã –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é:
>
> - **–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–ª–ª–æ–∫–∞—Ç–æ—Ä –≤ `std::vector`).
> - **Alias templates** ‚Äî —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤.
> - **Template template parameters** ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–∞–º —à–∞–±–ª–æ–Ω –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
>
> –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –≥–∏–±–∫–∏–π, —á–∏—Å—Ç—ã–π –∏ —É–¥–æ–±–Ω—ã–π API, –∫–∞–∫ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.¬ª

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –î–∞—Ç—å **5 –∑–∞–¥–∞—á –ø–æ alias templates –∏ template templates**,
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å **–î–Ω—è 2: SFINAE –∏ `std::enable_if`**,
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–∏–º –¥–Ω—ë–º**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É –∑–∞–¥–∞—á–∏"**, **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –î–Ω—é 2"** –∏–ª–∏ **"–•–æ—á—É PDF"** üòä


# –æ–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–µ–¥–µ–ª—é 1 –¥–µ–Ω—å 2 —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–µ–æ—Ä–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ

–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –î–Ω—è 2 –ù–µ–¥–µ–ª–∏ 1** –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã **C++ —É—Ä–æ–≤–Ω—è –≠–∫—Å–ø–µ—Ä—Ç**, –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–≥–æ **SFINAE (Substitution Failure Is Not An Error)** ‚Äî –æ–¥–Ω–æ–º—É –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ –∑–∞–≥–∞–¥–æ—á–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –≤ C++ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤.

–≠—Ç–æ—Ç –¥–µ–Ω—å ‚Äî **–∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**, —à–∞–±–ª–æ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ "—É–º–Ω—ã—Ö" –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫.

---

# üìò **–î–µ–Ω—å 2: SFINAE ‚Äî Substitution Failure Is Not An Error**

**–¶–µ–ª—å –¥–Ω—è:**  
–ù–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **SFINAE** –¥–ª—è **—É—Å–ª–æ–≤–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤**, –ø–æ–Ω—è—Ç—å, **–∫–∞–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏**, –∏ –Ω–∞—É—á–∏—Ç—å—Å—è **–ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤** –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ SFINAE?

**SFINAE** —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **"Substitution Failure Is Not An Error"**  
(¬´–û—à–∏–±–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –Ω–µ –æ—à–∏–±–∫–∞¬ª).

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:
–ï—Å–ª–∏ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–∏–ø–æ–≤ –≤ —à–∞–±–ª–æ–Ω **–≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º**, —ç—Ç–æ **–Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –∞ –ø—Ä–æ—Å—Ç–æ **–∏—Å–∫–ª—é—á–∞–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è**.

> üîÅ –≠—Ç–æ **–Ω–µ –æ—à–∏–±–∫–∞**, –∞ **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤.

---

## üß† –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

–ë–µ–∑ SFINAE:
- –ù–µ–ª—å–∑—è –±—ã–ª–æ –±—ã –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –ø–æ –Ω–∞–ª–∏—á–∏—é –º–µ—Ç–æ–¥–æ–≤,
- STL –Ω–µ –º–æ–≥ –±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏,
- –ü—Ä–∏—à–ª–æ—Å—å –±—ã –ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è.

–° SFINAE:
- –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å **–æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é**, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤**.
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **—Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é**.

---

## üìå –¢–µ–º–∞ 1: –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä SFINAE

### ‚úÖ –ó–∞–¥–∞—á–∞:
–ù–∞–ø–∏—Å–∞—Ç—å `print()` –¥–ª—è —Ç–∏–ø–æ–≤ —Å `.size()`, –∏ –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é ‚Äî –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SFINAE:

```cpp
#include <iostream>
#include <type_traits>

// –í–µ—Ä—Å–∏—è 1: —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–ø–æ–≤ —Å .size()
template <typename T>
auto print(const T& container) -> decltype(container.size(), void()) {
    std::cout << "Container size: " << container.size() << "\n";
}

// –í–µ—Ä—Å–∏—è 2: fallback –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
template <typename T>
void print(const T& value) {
    std::cout << "Value: " << value << "\n";
}
```

---

### ‚úÖ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –í—ã–∑–æ–≤: `print(std::vector{1,2,3})`
2. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å `T = std::vector<int>` –≤ –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é:
   - `container.size()` ‚Äî –≤–∞–ª–∏–¥–Ω–æ,
   - `decltype(container.size(), void())` ‚Äî `void`,
   - —à–∞–±–ª–æ–Ω **–≤–∞–ª–∏–¥–µ–Ω** ‚Üí —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è.
3. –í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∂–µ –≤–∞–ª–∏–¥–Ω–∞.
4. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç **–ø–µ—Ä–≤—É—é** (–±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é).

---

### ‚úÖ –ê –µ—Å–ª–∏ `print(42)`?

1. –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é:
   - `container.size()` ‚Äî ‚ùå `int` –Ω–µ –∏–º–µ–µ—Ç `.size()`,
   - `decltype(...)` ‚Äî **–Ω–µ–≤–∞–ª–∏–¥–Ω–æ**,
   - SFINAE: **–∏—Å–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é**.
2. –û—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ç–æ—Ä–∞—è ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–Ω–∞.

> ‚úÖ –ë–µ–∑ –æ—à–∏–±–∫–∏! SFINAE "–ø–æ–≥–ª–æ—Ç–∏–ª" —Å–±–æ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏.

---

## üìå –¢–µ–º–∞ 2: `std::enable_if` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é —à–∞–±–ª–æ–Ω–∞

### üîπ –¢–µ–æ—Ä–∏—è

`std::enable_if<Condition, T>` ‚Äî —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π:
- –ï—Å–ª–∏ `Condition == true` ‚Üí –∏–º–µ–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–∏–ø `type = T`
- –ï—Å–ª–∏ `false` ‚Üí **–Ω–µ –∏–º–µ–µ—Ç `type`** ‚Üí SFINAE –∏—Å–∫–ª—é—á–∞–µ—Ç —à–∞–±–ª–æ–Ω

### üîß –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```cpp
template <bool B, typename T = void>
struct enable_if {};

template <typename T>
struct enable_if<true, T> {
    using type = T;
};

// C++14
template <bool B, typename T = void>
using enable_if_t = typename enable_if<B, T>::type;
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: `abs()` —Ç–æ–ª—å–∫–æ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö —Ç–∏–ø–æ–≤

```cpp
template <typename T>
std::enable_if_t<std::is_arithmetic_v<T>, T>
abs(T x) {
    return x < 0 ? -x : x;
}
```

> –ï—Å–ª–∏ `T` ‚Äî –Ω–µ —á–∏—Å–ª–æ–≤–æ–π, `std::is_arithmetic_v<T> == false` ‚Üí `enable_if_t<false, T>` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí SFINAE ‚Üí —à–∞–±–ª–æ–Ω –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è.

```cpp
abs(5);     // OK
abs(3.14);  // OK
// abs("hi"); // ‚ùå –ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –¥–≤–∞ `enable_if` ‚Äî –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞

```cpp
template <typename T>
std::enable_if_t<std::is_integral_v<T>, void>
process(T x) {
    std::cout << "Integer: " << x << "\n";
}

template <typename T>
std::enable_if_t<std::is_floating_point_v<T>, void>
process(T x) {
    std::cout << "Float: " << x << "\n";
}
```

```cpp
process(42);     // Integer
process(3.14f);  // Float
```

> ‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ SFINAE.

---

## üìå –¢–µ–º–∞ 3: `std::void_t` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π

### üîπ –¢–µ–æ—Ä–∏—è

`std::void_t<...>` ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –≤ `void`**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω—ã–º**.

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –µ—Å—Ç—å –ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–∏–ø `value_type`?

```cpp
template <typename T, typename = void>
struct has_value_type : std::false_type {};

template <typename T>
struct has_value_type<T, std::void_t<typename T::value_type>> : std::true_type {};
```

### ‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –î–ª—è `std::vector<int>`:
  - `typename T::value_type` ‚Äî `int` ‚Üí –≤–∞–ª–∏–¥–Ω–æ,
  - `void_t<int>` ‚Üí `void`,
  - —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `typename = void` ‚Üí —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ‚Üí `true_type`.
- –î–ª—è `int`:
  - `int::value_type` ‚Äî ‚ùå –Ω–µ–≤–∞–ª–∏–¥–Ω–æ,
  - `void_t<...>` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω,
  - SFINAE –∏—Å–∫–ª—é—á–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π —Å–ª—É—á–∞–π ‚Üí `false_type`.

```cpp
static_assert(has_value_type<std::vector<int>>::value);
static_assert(!has_value_type<int>::value);
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –µ—Å—Ç—å –ª–∏ –º–µ—Ç–æ–¥ `.begin()`?

```cpp
template <typename T, typename = void>
struct is_iterable : std::false_type {};

template <typename T>
struct is_iterable<T, std::void_t<decltype(std::declval<T>().begin())>> : std::true_type {};
```

> ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è `std::vector`, `std::list`, `std::array`, –Ω–æ –Ω–µ –¥–ª—è `int`.

---

## üìå –¢–µ–º–∞ 4: `std::declval<T>()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ "—Ñ–∞–Ω—Ç–æ–º–Ω–æ–≥–æ" –æ–±—ä–µ–∫—Ç–∞

### üîπ –¢–µ–æ—Ä–∏—è

`std::declval<T>()` ‚Äî —ç—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "—Å–æ–∑–¥–∞—ë—Ç" –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `T`** **–±–µ–∑ –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**, —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–¥ `decltype`.

> üîç –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ `decltype`, –Ω–æ –Ω–µ–ª—å–∑—è –µ–≥–æ —Å–æ–∑–¥–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å).

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ `.getData()` –≤ `decltype`

```cpp
template <typename T>
auto get_data(T& obj) -> decltype(obj.getData()) {
    return obj.getData();
}
```

> ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å–ª–∏ `T` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π, `T obj;` –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ —Å `std::declval`:

```cpp
template <typename T>
auto get_data(T& obj) -> decltype(std::declval<T>().getData()) {
    return obj.getData();
}
```

> `std::declval<T>()` ‚Äî "–æ–±—ä–µ–∫—Ç-–ø—Ä–∏–∑—Ä–∞–∫", –∫–æ—Ç–æ—Ä—ã–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ç–∏–ø–∞.

---

## üß© –ü—Ä–∏–º–µ—Ä: –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ "–≤—ã–∑—ã–≤–∞–µ–º–æ—Å—Ç–∏"

```cpp
template <typename F, typename... Args>
struct is_callable {
    template <typename U>
    static auto test(U* u) -> decltype((*u)(std::declval<Args>()...), std::true_type{});
    static std::false_type test(...);
    static constexpr bool value = std::is_same_v<decltype(test(std::declval<F*>())), std::true_type>;
};

template <typename F, typename... Args>
inline constexpr bool is_callable_v = is_callable<F, Args...>::value;

// –ü—Ä–æ–≤–µ—Ä–∫–∞
static_assert(is_callable_v<decltype([](int){}), void(int)>);
static_assert(!is_callable_v<int, void(int)>);
```

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Å–∫–∞–∂–∏ —Ç–∞–∫:

> ¬´SFINAE –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ—à–∏–±–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —à–∞–±–ª–æ–Ω–µ ‚Äî –Ω–µ –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∞ –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤.
>
> `std::enable_if` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SFINAE, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∞—Ç—å —à–∞–±–ª–æ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è. `std::void_t` –∏ `std::declval` –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω—ã–º.
>
> –í C++20 —ç—Ç–æ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—ã, –Ω–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ SFINAE –≤–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã STL –∏ boost.¬ª

---

## ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –∫ –∫–æ–Ω—Ü—É –¥–Ω—è**

- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ SFINAE –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::enable_if` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å `std::void_t` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–ª–∏ –º–µ—Ç–æ–¥–æ–≤
- [ ] –ü–æ–Ω–∏–º–∞—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `std::declval` –∏ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `decltype`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `has_member<T, &T::method>` –∏–ª–∏ `is_iterable<T>`

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

> **–î–µ–Ω—å 3: `std::enable_if` –≤ –≥–ª—É–±–∏–Ω—É ‚Äî —Å–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, SFINAE –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö, –ø—Ä–∞–∫—Ç–∏–∫–∞**

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É:
- –ü—Ä–∏—Å–ª–∞—Ç—å **PDF —Å —ç—Ç–∏–º –¥–Ω—ë–º**,
- –î–∞—Ç—å **10 –∑–∞–¥–∞—á –ø–æ SFINAE**,
- –ü–µ—Ä–µ–π—Ç–∏ –∫ **–î–Ω—é 3: –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ `std::enable_if`**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏: **"–•–æ—á—É PDF"**, **"–•–æ—á—É –∑–∞–¥–∞—á–∏"** –∏–ª–∏ **"–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –î–Ω—é 3"**.


# –æ–±—ä—è—Å–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–∏–º–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π "–≤—ã–∑—ã–≤–∞–µ–º–æ—Å—Ç–∏"
